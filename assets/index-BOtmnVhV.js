(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function E4(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Wy(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var c2={exports:{}},kd={},u2={exports:{}},ot={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gc=Symbol.for("react.element"),Hy=Symbol.for("react.portal"),$y=Symbol.for("react.fragment"),Vy=Symbol.for("react.strict_mode"),Gy=Symbol.for("react.profiler"),Qy=Symbol.for("react.provider"),Yy=Symbol.for("react.context"),Jy=Symbol.for("react.forward_ref"),Xy=Symbol.for("react.suspense"),Ky=Symbol.for("react.memo"),Zy=Symbol.for("react.lazy"),h1=Symbol.iterator;function ex(t){return t===null||typeof t!="object"?null:(t=h1&&t[h1]||t["@@iterator"],typeof t=="function"?t:null)}var d2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h2=Object.assign,f2={};function zo(t,e,n){this.props=t,this.context=e,this.refs=f2,this.updater=n||d2}zo.prototype.isReactComponent={};zo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};zo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function p2(){}p2.prototype=zo.prototype;function O0(t,e,n){this.props=t,this.context=e,this.refs=f2,this.updater=n||d2}var z0=O0.prototype=new p2;z0.constructor=O0;h2(z0,zo.prototype);z0.isPureReactComponent=!0;var f1=Array.isArray,m2=Object.prototype.hasOwnProperty,R0={current:null},g2={key:!0,ref:!0,__self:!0,__source:!0};function y2(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)m2.call(e,r)&&!g2.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),d=0;d<o;d++)l[d]=arguments[d+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:gc,type:t,key:s,ref:a,props:i,_owner:R0.current}}function tx(t,e){return{$$typeof:gc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function B0(t){return typeof t=="object"&&t!==null&&t.$$typeof===gc}function nx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var p1=/\/+/g;function Rh(t,e){return typeof t=="object"&&t!==null&&t.key!=null?nx(""+t.key):e.toString(36)}function Hu(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case gc:case Hy:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+Rh(a,0):r,f1(i)?(n="",t!=null&&(n=t.replace(p1,"$&/")+"/"),Hu(i,e,n,"",function(d){return d})):i!=null&&(B0(i)&&(i=tx(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(p1,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",f1(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+Rh(s,o);a+=Hu(s,e,n,l,i)}else if(l=ex(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+Rh(s,o++),a+=Hu(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function gu(t,e,n){if(t==null)return t;var r=[],i=0;return Hu(t,r,"","",function(s){return e.call(n,s,i++)}),r}function rx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Bn={current:null},$u={transition:null},ix={ReactCurrentDispatcher:Bn,ReactCurrentBatchConfig:$u,ReactCurrentOwner:R0};function x2(){throw Error("act(...) is not supported in production builds of React.")}ot.Children={map:gu,forEach:function(t,e,n){gu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return gu(t,function(){e++}),e},toArray:function(t){return gu(t,function(e){return e})||[]},only:function(t){if(!B0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ot.Component=zo;ot.Fragment=$y;ot.Profiler=Gy;ot.PureComponent=O0;ot.StrictMode=Vy;ot.Suspense=Xy;ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ix;ot.act=x2;ot.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=h2({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=R0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)m2.call(e,l)&&!g2.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var d=0;d<l;d++)o[d]=arguments[d+2];r.children=o}return{$$typeof:gc,type:t.type,key:i,ref:s,props:r,_owner:a}};ot.createContext=function(t){return t={$$typeof:Yy,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Qy,_context:t},t.Consumer=t};ot.createElement=y2;ot.createFactory=function(t){var e=y2.bind(null,t);return e.type=t,e};ot.createRef=function(){return{current:null}};ot.forwardRef=function(t){return{$$typeof:Jy,render:t}};ot.isValidElement=B0;ot.lazy=function(t){return{$$typeof:Zy,_payload:{_status:-1,_result:t},_init:rx}};ot.memo=function(t,e){return{$$typeof:Ky,type:t,compare:e===void 0?null:e}};ot.startTransition=function(t){var e=$u.transition;$u.transition={};try{t()}finally{$u.transition=e}};ot.unstable_act=x2;ot.useCallback=function(t,e){return Bn.current.useCallback(t,e)};ot.useContext=function(t){return Bn.current.useContext(t)};ot.useDebugValue=function(){};ot.useDeferredValue=function(t){return Bn.current.useDeferredValue(t)};ot.useEffect=function(t,e){return Bn.current.useEffect(t,e)};ot.useId=function(){return Bn.current.useId()};ot.useImperativeHandle=function(t,e,n){return Bn.current.useImperativeHandle(t,e,n)};ot.useInsertionEffect=function(t,e){return Bn.current.useInsertionEffect(t,e)};ot.useLayoutEffect=function(t,e){return Bn.current.useLayoutEffect(t,e)};ot.useMemo=function(t,e){return Bn.current.useMemo(t,e)};ot.useReducer=function(t,e,n){return Bn.current.useReducer(t,e,n)};ot.useRef=function(t){return Bn.current.useRef(t)};ot.useState=function(t){return Bn.current.useState(t)};ot.useSyncExternalStore=function(t,e,n){return Bn.current.useSyncExternalStore(t,e,n)};ot.useTransition=function(){return Bn.current.useTransition()};ot.version="18.3.1";u2.exports=ot;var Ee=u2.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sx=Ee,ax=Symbol.for("react.element"),ox=Symbol.for("react.fragment"),lx=Object.prototype.hasOwnProperty,cx=sx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ux={key:!0,ref:!0,__self:!0,__source:!0};function v2(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)lx.call(e,r)&&!ux.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:ax,type:t,key:s,ref:a,props:i,_owner:cx.current}}kd.Fragment=ox;kd.jsx=v2;kd.jsxs=v2;c2.exports=kd;var c=c2.exports,w2={exports:{}},dr={},b2={exports:{}},N2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,G){var te=W.length;W.push(G);e:for(;0<te;){var le=te-1>>>1,L=W[le];if(0<i(L,G))W[le]=G,W[te]=L,te=le;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var G=W[0],te=W.pop();if(te!==G){W[0]=te;e:for(var le=0,L=W.length,U=L>>>1;le<U;){var Q=2*(le+1)-1,K=W[Q],ee=Q+1,ce=W[ee];if(0>i(K,te))ee<L&&0>i(ce,K)?(W[le]=ce,W[ee]=te,le=ee):(W[le]=K,W[Q]=te,le=Q);else if(ee<L&&0>i(ce,te))W[le]=ce,W[ee]=te,le=ee;else break e}}return G}function i(W,G){var te=W.sortIndex-G.sortIndex;return te!==0?te:W.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],d=[],p=1,m=null,g=3,f=!1,b=!1,N=!1,F=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(W){for(var G=n(d);G!==null;){if(G.callback===null)r(d);else if(G.startTime<=W)r(d),G.sortIndex=G.expirationTime,e(l,G);else break;G=n(d)}}function S(W){if(N=!1,j(W),!b)if(n(l)!==null)b=!0,H(P);else{var G=n(d);G!==null&&Y(S,G.startTime-W)}}function P(W,G){b=!1,N&&(N=!1,x(k),k=-1),f=!0;var te=g;try{for(j(G),m=n(l);m!==null&&(!(m.expirationTime>G)||W&&!A());){var le=m.callback;if(typeof le=="function"){m.callback=null,g=m.priorityLevel;var L=le(m.expirationTime<=G);G=t.unstable_now(),typeof L=="function"?m.callback=L:m===n(l)&&r(l),j(G)}else r(l);m=n(l)}if(m!==null)var U=!0;else{var Q=n(d);Q!==null&&Y(S,Q.startTime-G),U=!1}return U}finally{m=null,g=te,f=!1}}var E=!1,T=null,k=-1,z=5,V=-1;function A(){return!(t.unstable_now()-V<z)}function _(){if(T!==null){var W=t.unstable_now();V=W;var G=!0;try{G=T(!0,W)}finally{G?R():(E=!1,T=null)}}else E=!1}var R;if(typeof w=="function")R=function(){w(_)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,ae=B.port2;B.port1.onmessage=_,R=function(){ae.postMessage(null)}}else R=function(){F(_,0)};function H(W){T=W,E||(E=!0,R())}function Y(W,G){k=F(function(){W(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){b||f||(b=!0,H(P))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(W){switch(g){case 1:case 2:case 3:var G=3;break;default:G=g}var te=g;g=G;try{return W()}finally{g=te}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,G){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var te=g;g=W;try{return G()}finally{g=te}},t.unstable_scheduleCallback=function(W,G,te){var le=t.unstable_now();switch(typeof te=="object"&&te!==null?(te=te.delay,te=typeof te=="number"&&0<te?le+te:le):te=le,W){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=te+L,W={id:p++,callback:G,priorityLevel:W,startTime:te,expirationTime:L,sortIndex:-1},te>le?(W.sortIndex=te,e(d,W),n(l)===null&&W===n(d)&&(N?(x(k),k=-1):N=!0,Y(S,te-le))):(W.sortIndex=L,e(l,W),b||f||(b=!0,H(P))),W},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(W){var G=g;return function(){var te=g;g=G;try{return W.apply(this,arguments)}finally{g=te}}}})(N2);b2.exports=N2;var dx=b2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hx=Ee,ur=dx;function ke(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var S2=new Set,Ql={};function ba(t,e){ko(t,e),ko(t+"Capture",e)}function ko(t,e){for(Ql[t]=e,t=0;t<e.length;t++)S2.add(e[t])}var Ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Mf=Object.prototype.hasOwnProperty,fx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m1={},g1={};function px(t){return Mf.call(g1,t)?!0:Mf.call(m1,t)?!1:fx.test(t)?g1[t]=!0:(m1[t]=!0,!1)}function mx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function gx(t,e,n,r){if(e===null||typeof e>"u"||mx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function qn(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var vn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vn[t]=new qn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vn[e]=new qn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vn[t]=new qn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vn[t]=new qn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vn[t]=new qn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vn[t]=new qn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vn[t]=new qn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vn[t]=new qn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vn[t]=new qn(t,5,!1,t.toLowerCase(),null,!1,!1)});var q0=/[\-:]([a-z])/g;function U0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(q0,U0);vn[e]=new qn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(q0,U0);vn[e]=new qn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(q0,U0);vn[e]=new qn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vn[t]=new qn(t,1,!1,t.toLowerCase(),null,!1,!1)});vn.xlinkHref=new qn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vn[t]=new qn(t,1,!1,t.toLowerCase(),null,!0,!0)});function W0(t,e,n,r){var i=vn.hasOwnProperty(e)?vn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(gx(e,n,i,r)&&(n=null),r||i===null?px(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Vi=hx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,yu=Symbol.for("react.element"),uo=Symbol.for("react.portal"),ho=Symbol.for("react.fragment"),H0=Symbol.for("react.strict_mode"),If=Symbol.for("react.profiler"),j2=Symbol.for("react.provider"),_2=Symbol.for("react.context"),$0=Symbol.for("react.forward_ref"),Df=Symbol.for("react.suspense"),Ef=Symbol.for("react.suspense_list"),V0=Symbol.for("react.memo"),fs=Symbol.for("react.lazy"),A2=Symbol.for("react.offscreen"),y1=Symbol.iterator;function yl(t){return t===null||typeof t!="object"?null:(t=y1&&t[y1]||t["@@iterator"],typeof t=="function"?t:null)}var zt=Object.assign,Bh;function kl(t){if(Bh===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Bh=e&&e[1]||""}return`
`+Bh+t}var qh=!1;function Uh(t,e){if(!t||qh)return"";qh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{qh=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?kl(t):""}function yx(t){switch(t.tag){case 5:return kl(t.type);case 16:return kl("Lazy");case 13:return kl("Suspense");case 19:return kl("SuspenseList");case 0:case 2:case 15:return t=Uh(t.type,!1),t;case 11:return t=Uh(t.type.render,!1),t;case 1:return t=Uh(t.type,!0),t;default:return""}}function Of(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ho:return"Fragment";case uo:return"Portal";case If:return"Profiler";case H0:return"StrictMode";case Df:return"Suspense";case Ef:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _2:return(t.displayName||"Context")+".Consumer";case j2:return(t._context.displayName||"Context")+".Provider";case $0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case V0:return e=t.displayName||null,e!==null?e:Of(t.type)||"Memo";case fs:e=t._payload,t=t._init;try{return Of(t(e))}catch{}}return null}function xx(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Of(e);case 8:return e===H0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Fs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function C2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vx(t){var e=C2(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function xu(t){t._valueTracker||(t._valueTracker=vx(t))}function P2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=C2(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function nd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function zf(t,e){var n=e.checked;return zt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function x1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Fs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function k2(t,e){e=e.checked,e!=null&&W0(t,"checked",e,!1)}function Rf(t,e){k2(t,e);var n=Fs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Bf(t,e.type,n):e.hasOwnProperty("defaultValue")&&Bf(t,e.type,Fs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function v1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Bf(t,e,n){(e!=="number"||nd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ll=Array.isArray;function So(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Fs(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function qf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ke(91));return zt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function w1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ke(92));if(Ll(n)){if(1<n.length)throw Error(ke(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Fs(n)}}function L2(t,e){var n=Fs(e.value),r=Fs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function b1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function F2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Uf(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?F2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vu,T2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vu=vu||document.createElement("div"),vu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ml={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wx=["Webkit","ms","Moz","O"];Object.keys(Ml).forEach(function(t){wx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ml[e]=Ml[t]})});function M2(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ml.hasOwnProperty(t)&&Ml[t]?(""+e).trim():e+"px"}function I2(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=M2(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var bx=zt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wf(t,e){if(e){if(bx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ke(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ke(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ke(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ke(62))}}function Hf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $f=null;function G0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vf=null,jo=null,_o=null;function N1(t){if(t=vc(t)){if(typeof Vf!="function")throw Error(ke(280));var e=t.stateNode;e&&(e=Id(e),Vf(t.stateNode,t.type,e))}}function D2(t){jo?_o?_o.push(t):_o=[t]:jo=t}function E2(){if(jo){var t=jo,e=_o;if(_o=jo=null,N1(t),e)for(t=0;t<e.length;t++)N1(e[t])}}function O2(t,e){return t(e)}function z2(){}var Wh=!1;function R2(t,e,n){if(Wh)return t(e,n);Wh=!0;try{return O2(t,e,n)}finally{Wh=!1,(jo!==null||_o!==null)&&(z2(),E2())}}function Jl(t,e){var n=t.stateNode;if(n===null)return null;var r=Id(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ke(231,e,typeof n));return n}var Gf=!1;if(Ui)try{var xl={};Object.defineProperty(xl,"passive",{get:function(){Gf=!0}}),window.addEventListener("test",xl,xl),window.removeEventListener("test",xl,xl)}catch{Gf=!1}function Nx(t,e,n,r,i,s,a,o,l){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(p){this.onError(p)}}var Il=!1,rd=null,id=!1,Qf=null,Sx={onError:function(t){Il=!0,rd=t}};function jx(t,e,n,r,i,s,a,o,l){Il=!1,rd=null,Nx.apply(Sx,arguments)}function _x(t,e,n,r,i,s,a,o,l){if(jx.apply(this,arguments),Il){if(Il){var d=rd;Il=!1,rd=null}else throw Error(ke(198));id||(id=!0,Qf=d)}}function Na(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function B2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function S1(t){if(Na(t)!==t)throw Error(ke(188))}function Ax(t){var e=t.alternate;if(!e){if(e=Na(t),e===null)throw Error(ke(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return S1(i),t;if(s===r)return S1(i),e;s=s.sibling}throw Error(ke(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(ke(189))}}if(n.alternate!==r)throw Error(ke(190))}if(n.tag!==3)throw Error(ke(188));return n.stateNode.current===n?t:e}function q2(t){return t=Ax(t),t!==null?U2(t):null}function U2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=U2(t);if(e!==null)return e;t=t.sibling}return null}var W2=ur.unstable_scheduleCallback,j1=ur.unstable_cancelCallback,Cx=ur.unstable_shouldYield,Px=ur.unstable_requestPaint,Qt=ur.unstable_now,kx=ur.unstable_getCurrentPriorityLevel,Q0=ur.unstable_ImmediatePriority,H2=ur.unstable_UserBlockingPriority,sd=ur.unstable_NormalPriority,Lx=ur.unstable_LowPriority,$2=ur.unstable_IdlePriority,Ld=null,mi=null;function Fx(t){if(mi&&typeof mi.onCommitFiberRoot=="function")try{mi.onCommitFiberRoot(Ld,t,void 0,(t.current.flags&128)===128)}catch{}}var Qr=Math.clz32?Math.clz32:Ix,Tx=Math.log,Mx=Math.LN2;function Ix(t){return t>>>=0,t===0?32:31-(Tx(t)/Mx|0)|0}var wu=64,bu=4194304;function Fl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ad(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=Fl(o):(s&=a,s!==0&&(r=Fl(s)))}else a=n&~i,a!==0?r=Fl(a):s!==0&&(r=Fl(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Qr(e),i=1<<n,r|=t[n],e&=~i;return r}function Dx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ex(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Qr(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=Dx(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function Yf(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function V2(){var t=wu;return wu<<=1,!(wu&4194240)&&(wu=64),t}function Hh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qr(e),t[e]=n}function Ox(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Qr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Y0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Qr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var bt=0;function G2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Q2,J0,Y2,J2,X2,Jf=!1,Nu=[],bs=null,Ns=null,Ss=null,Xl=new Map,Kl=new Map,ms=[],zx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _1(t,e){switch(t){case"focusin":case"focusout":bs=null;break;case"dragenter":case"dragleave":Ns=null;break;case"mouseover":case"mouseout":Ss=null;break;case"pointerover":case"pointerout":Xl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kl.delete(e.pointerId)}}function vl(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=vc(e),e!==null&&J0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Rx(t,e,n,r,i){switch(e){case"focusin":return bs=vl(bs,t,e,n,r,i),!0;case"dragenter":return Ns=vl(Ns,t,e,n,r,i),!0;case"mouseover":return Ss=vl(Ss,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Xl.set(s,vl(Xl.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Kl.set(s,vl(Kl.get(s)||null,t,e,n,r,i)),!0}return!1}function K2(t){var e=na(t.target);if(e!==null){var n=Na(e);if(n!==null){if(e=n.tag,e===13){if(e=B2(n),e!==null){t.blockedOn=e,X2(t.priority,function(){Y2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Xf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);$f=r,n.target.dispatchEvent(r),$f=null}else return e=vc(n),e!==null&&J0(e),t.blockedOn=n,!1;e.shift()}return!0}function A1(t,e,n){Vu(t)&&n.delete(e)}function Bx(){Jf=!1,bs!==null&&Vu(bs)&&(bs=null),Ns!==null&&Vu(Ns)&&(Ns=null),Ss!==null&&Vu(Ss)&&(Ss=null),Xl.forEach(A1),Kl.forEach(A1)}function wl(t,e){t.blockedOn===e&&(t.blockedOn=null,Jf||(Jf=!0,ur.unstable_scheduleCallback(ur.unstable_NormalPriority,Bx)))}function Zl(t){function e(i){return wl(i,t)}if(0<Nu.length){wl(Nu[0],t);for(var n=1;n<Nu.length;n++){var r=Nu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(bs!==null&&wl(bs,t),Ns!==null&&wl(Ns,t),Ss!==null&&wl(Ss,t),Xl.forEach(e),Kl.forEach(e),n=0;n<ms.length;n++)r=ms[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ms.length&&(n=ms[0],n.blockedOn===null);)K2(n),n.blockedOn===null&&ms.shift()}var Ao=Vi.ReactCurrentBatchConfig,od=!0;function qx(t,e,n,r){var i=bt,s=Ao.transition;Ao.transition=null;try{bt=1,X0(t,e,n,r)}finally{bt=i,Ao.transition=s}}function Ux(t,e,n,r){var i=bt,s=Ao.transition;Ao.transition=null;try{bt=4,X0(t,e,n,r)}finally{bt=i,Ao.transition=s}}function X0(t,e,n,r){if(od){var i=Xf(t,e,n,r);if(i===null)ef(t,e,r,ld,n),_1(t,r);else if(Rx(i,t,e,n,r))r.stopPropagation();else if(_1(t,r),e&4&&-1<zx.indexOf(t)){for(;i!==null;){var s=vc(i);if(s!==null&&Q2(s),s=Xf(t,e,n,r),s===null&&ef(t,e,r,ld,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ef(t,e,r,null,n)}}var ld=null;function Xf(t,e,n,r){if(ld=null,t=G0(r),t=na(t),t!==null)if(e=Na(t),e===null)t=null;else if(n=e.tag,n===13){if(t=B2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ld=t,null}function Z2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kx()){case Q0:return 1;case H2:return 4;case sd:case Lx:return 16;case $2:return 536870912;default:return 16}default:return 16}}var xs=null,K0=null,Gu=null;function eg(){if(Gu)return Gu;var t,e=K0,n=e.length,r,i="value"in xs?xs.value:xs.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Gu=i.slice(t,1<r?1-r:void 0)}function Qu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Su(){return!0}function C1(){return!1}function hr(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Su:C1,this.isPropagationStopped=C1,this}return zt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Su)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Su)},persist:function(){},isPersistent:Su}),e}var Ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Z0=hr(Ro),xc=zt({},Ro,{view:0,detail:0}),Wx=hr(xc),$h,Vh,bl,Fd=zt({},xc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ep,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bl&&(bl&&t.type==="mousemove"?($h=t.screenX-bl.screenX,Vh=t.screenY-bl.screenY):Vh=$h=0,bl=t),$h)},movementY:function(t){return"movementY"in t?t.movementY:Vh}}),P1=hr(Fd),Hx=zt({},Fd,{dataTransfer:0}),$x=hr(Hx),Vx=zt({},xc,{relatedTarget:0}),Gh=hr(Vx),Gx=zt({},Ro,{animationName:0,elapsedTime:0,pseudoElement:0}),Qx=hr(Gx),Yx=zt({},Ro,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Jx=hr(Yx),Xx=zt({},Ro,{data:0}),k1=hr(Xx),Kx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Zx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ev={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function tv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ev[t])?!!e[t]:!1}function ep(){return tv}var nv=zt({},xc,{key:function(t){if(t.key){var e=Kx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Zx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ep,charCode:function(t){return t.type==="keypress"?Qu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),rv=hr(nv),iv=zt({},Fd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),L1=hr(iv),sv=zt({},xc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ep}),av=hr(sv),ov=zt({},Ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),lv=hr(ov),cv=zt({},Fd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uv=hr(cv),dv=[9,13,27,32],tp=Ui&&"CompositionEvent"in window,Dl=null;Ui&&"documentMode"in document&&(Dl=document.documentMode);var hv=Ui&&"TextEvent"in window&&!Dl,tg=Ui&&(!tp||Dl&&8<Dl&&11>=Dl),F1=" ",T1=!1;function ng(t,e){switch(t){case"keyup":return dv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var fo=!1;function fv(t,e){switch(t){case"compositionend":return rg(e);case"keypress":return e.which!==32?null:(T1=!0,F1);case"textInput":return t=e.data,t===F1&&T1?null:t;default:return null}}function pv(t,e){if(fo)return t==="compositionend"||!tp&&ng(t,e)?(t=eg(),Gu=K0=xs=null,fo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tg&&e.locale!=="ko"?null:e.data;default:return null}}var mv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function M1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!mv[t.type]:e==="textarea"}function ig(t,e,n,r){D2(r),e=cd(e,"onChange"),0<e.length&&(n=new Z0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var El=null,ec=null;function gv(t){mg(t,0)}function Td(t){var e=go(t);if(P2(e))return t}function yv(t,e){if(t==="change")return e}var sg=!1;if(Ui){var Qh;if(Ui){var Yh="oninput"in document;if(!Yh){var I1=document.createElement("div");I1.setAttribute("oninput","return;"),Yh=typeof I1.oninput=="function"}Qh=Yh}else Qh=!1;sg=Qh&&(!document.documentMode||9<document.documentMode)}function D1(){El&&(El.detachEvent("onpropertychange",ag),ec=El=null)}function ag(t){if(t.propertyName==="value"&&Td(ec)){var e=[];ig(e,ec,t,G0(t)),R2(gv,e)}}function xv(t,e,n){t==="focusin"?(D1(),El=e,ec=n,El.attachEvent("onpropertychange",ag)):t==="focusout"&&D1()}function vv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Td(ec)}function wv(t,e){if(t==="click")return Td(e)}function bv(t,e){if(t==="input"||t==="change")return Td(e)}function Nv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jr=typeof Object.is=="function"?Object.is:Nv;function tc(t,e){if(Jr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Mf.call(e,i)||!Jr(t[i],e[i]))return!1}return!0}function E1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function O1(t,e){var n=E1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=E1(n)}}function og(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?og(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lg(){for(var t=window,e=nd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=nd(t.document)}return e}function np(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Sv(t){var e=lg(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&og(n.ownerDocument.documentElement,n)){if(r!==null&&np(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=O1(n,s);var a=O1(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var jv=Ui&&"documentMode"in document&&11>=document.documentMode,po=null,Kf=null,Ol=null,Zf=!1;function z1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Zf||po==null||po!==nd(r)||(r=po,"selectionStart"in r&&np(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ol&&tc(Ol,r)||(Ol=r,r=cd(Kf,"onSelect"),0<r.length&&(e=new Z0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=po)))}function ju(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var mo={animationend:ju("Animation","AnimationEnd"),animationiteration:ju("Animation","AnimationIteration"),animationstart:ju("Animation","AnimationStart"),transitionend:ju("Transition","TransitionEnd")},Jh={},cg={};Ui&&(cg=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function Md(t){if(Jh[t])return Jh[t];if(!mo[t])return t;var e=mo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in cg)return Jh[t]=e[n];return t}var ug=Md("animationend"),dg=Md("animationiteration"),hg=Md("animationstart"),fg=Md("transitionend"),pg=new Map,R1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ds(t,e){pg.set(t,e),ba(e,[t])}for(var Xh=0;Xh<R1.length;Xh++){var Kh=R1[Xh],_v=Kh.toLowerCase(),Av=Kh[0].toUpperCase()+Kh.slice(1);Ds(_v,"on"+Av)}Ds(ug,"onAnimationEnd");Ds(dg,"onAnimationIteration");Ds(hg,"onAnimationStart");Ds("dblclick","onDoubleClick");Ds("focusin","onFocus");Ds("focusout","onBlur");Ds(fg,"onTransitionEnd");ko("onMouseEnter",["mouseout","mouseover"]);ko("onMouseLeave",["mouseout","mouseover"]);ko("onPointerEnter",["pointerout","pointerover"]);ko("onPointerLeave",["pointerout","pointerover"]);ba("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ba("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ba("onBeforeInput",["compositionend","keypress","textInput","paste"]);ba("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ba("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ba("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tl));function B1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,_x(r,e,void 0,t),t.currentTarget=null}function mg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,d=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;B1(i,o,d),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,d=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;B1(i,o,d),s=l}}}if(id)throw t=Qf,id=!1,Qf=null,t}function Lt(t,e){var n=e[i0];n===void 0&&(n=e[i0]=new Set);var r=t+"__bubble";n.has(r)||(gg(e,t,2,!1),n.add(r))}function Zh(t,e,n){var r=0;e&&(r|=4),gg(n,t,r,e)}var _u="_reactListening"+Math.random().toString(36).slice(2);function nc(t){if(!t[_u]){t[_u]=!0,S2.forEach(function(n){n!=="selectionchange"&&(Cv.has(n)||Zh(n,!1,t),Zh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_u]||(e[_u]=!0,Zh("selectionchange",!1,e))}}function gg(t,e,n,r){switch(Z2(e)){case 1:var i=qx;break;case 4:i=Ux;break;default:i=X0}n=i.bind(null,e,n,t),i=void 0,!Gf||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ef(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=na(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}R2(function(){var d=s,p=G0(n),m=[];e:{var g=pg.get(t);if(g!==void 0){var f=Z0,b=t;switch(t){case"keypress":if(Qu(n)===0)break e;case"keydown":case"keyup":f=rv;break;case"focusin":b="focus",f=Gh;break;case"focusout":b="blur",f=Gh;break;case"beforeblur":case"afterblur":f=Gh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=P1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=$x;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=av;break;case ug:case dg:case hg:f=Qx;break;case fg:f=lv;break;case"scroll":f=Wx;break;case"wheel":f=uv;break;case"copy":case"cut":case"paste":f=Jx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=L1}var N=(e&4)!==0,F=!N&&t==="scroll",x=N?g!==null?g+"Capture":null:g;N=[];for(var w=d,j;w!==null;){j=w;var S=j.stateNode;if(j.tag===5&&S!==null&&(j=S,x!==null&&(S=Jl(w,x),S!=null&&N.push(rc(w,S,j)))),F)break;w=w.return}0<N.length&&(g=new f(g,b,null,n,p),m.push({event:g,listeners:N}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",g&&n!==$f&&(b=n.relatedTarget||n.fromElement)&&(na(b)||b[Wi]))break e;if((f||g)&&(g=p.window===p?p:(g=p.ownerDocument)?g.defaultView||g.parentWindow:window,f?(b=n.relatedTarget||n.toElement,f=d,b=b?na(b):null,b!==null&&(F=Na(b),b!==F||b.tag!==5&&b.tag!==6)&&(b=null)):(f=null,b=d),f!==b)){if(N=P1,S="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(N=L1,S="onPointerLeave",x="onPointerEnter",w="pointer"),F=f==null?g:go(f),j=b==null?g:go(b),g=new N(S,w+"leave",f,n,p),g.target=F,g.relatedTarget=j,S=null,na(p)===d&&(N=new N(x,w+"enter",b,n,p),N.target=j,N.relatedTarget=F,S=N),F=S,f&&b)t:{for(N=f,x=b,w=0,j=N;j;j=Za(j))w++;for(j=0,S=x;S;S=Za(S))j++;for(;0<w-j;)N=Za(N),w--;for(;0<j-w;)x=Za(x),j--;for(;w--;){if(N===x||x!==null&&N===x.alternate)break t;N=Za(N),x=Za(x)}N=null}else N=null;f!==null&&q1(m,g,f,N,!1),b!==null&&F!==null&&q1(m,F,b,N,!0)}}e:{if(g=d?go(d):window,f=g.nodeName&&g.nodeName.toLowerCase(),f==="select"||f==="input"&&g.type==="file")var P=yv;else if(M1(g))if(sg)P=bv;else{P=vv;var E=xv}else(f=g.nodeName)&&f.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(P=wv);if(P&&(P=P(t,d))){ig(m,P,n,p);break e}E&&E(t,g,d),t==="focusout"&&(E=g._wrapperState)&&E.controlled&&g.type==="number"&&Bf(g,"number",g.value)}switch(E=d?go(d):window,t){case"focusin":(M1(E)||E.contentEditable==="true")&&(po=E,Kf=d,Ol=null);break;case"focusout":Ol=Kf=po=null;break;case"mousedown":Zf=!0;break;case"contextmenu":case"mouseup":case"dragend":Zf=!1,z1(m,n,p);break;case"selectionchange":if(jv)break;case"keydown":case"keyup":z1(m,n,p)}var T;if(tp)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else fo?ng(t,n)&&(k="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(k="onCompositionStart");k&&(tg&&n.locale!=="ko"&&(fo||k!=="onCompositionStart"?k==="onCompositionEnd"&&fo&&(T=eg()):(xs=p,K0="value"in xs?xs.value:xs.textContent,fo=!0)),E=cd(d,k),0<E.length&&(k=new k1(k,t,null,n,p),m.push({event:k,listeners:E}),T?k.data=T:(T=rg(n),T!==null&&(k.data=T)))),(T=hv?fv(t,n):pv(t,n))&&(d=cd(d,"onBeforeInput"),0<d.length&&(p=new k1("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:d}),p.data=T))}mg(m,e)})}function rc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function cd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Jl(t,n),s!=null&&r.unshift(rc(t,s,i)),s=Jl(t,e),s!=null&&r.push(rc(t,s,i))),t=t.return}return r}function Za(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function q1(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,d=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&d!==null&&(o=d,i?(l=Jl(n,s),l!=null&&a.unshift(rc(n,l,o))):i||(l=Jl(n,s),l!=null&&a.push(rc(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Pv=/\r\n?/g,kv=/\u0000|\uFFFD/g;function U1(t){return(typeof t=="string"?t:""+t).replace(Pv,`
`).replace(kv,"")}function Au(t,e,n){if(e=U1(e),U1(t)!==e&&n)throw Error(ke(425))}function ud(){}var e0=null,t0=null;function n0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var r0=typeof setTimeout=="function"?setTimeout:void 0,Lv=typeof clearTimeout=="function"?clearTimeout:void 0,W1=typeof Promise=="function"?Promise:void 0,Fv=typeof queueMicrotask=="function"?queueMicrotask:typeof W1<"u"?function(t){return W1.resolve(null).then(t).catch(Tv)}:r0;function Tv(t){setTimeout(function(){throw t})}function tf(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Zl(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Zl(e)}function js(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function H1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Bo=Math.random().toString(36).slice(2),hi="__reactFiber$"+Bo,ic="__reactProps$"+Bo,Wi="__reactContainer$"+Bo,i0="__reactEvents$"+Bo,Mv="__reactListeners$"+Bo,Iv="__reactHandles$"+Bo;function na(t){var e=t[hi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Wi]||n[hi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=H1(t);t!==null;){if(n=t[hi])return n;t=H1(t)}return e}t=n,n=t.parentNode}return null}function vc(t){return t=t[hi]||t[Wi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function go(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ke(33))}function Id(t){return t[ic]||null}var s0=[],yo=-1;function Es(t){return{current:t}}function Tt(t){0>yo||(t.current=s0[yo],s0[yo]=null,yo--)}function kt(t,e){yo++,s0[yo]=t.current,t.current=e}var Ts={},Mn=Es(Ts),Jn=Es(!1),pa=Ts;function Lo(t,e){var n=t.type.contextTypes;if(!n)return Ts;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Xn(t){return t=t.childContextTypes,t!=null}function dd(){Tt(Jn),Tt(Mn)}function $1(t,e,n){if(Mn.current!==Ts)throw Error(ke(168));kt(Mn,e),kt(Jn,n)}function yg(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ke(108,xx(t)||"Unknown",i));return zt({},n,r)}function hd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ts,pa=Mn.current,kt(Mn,t),kt(Jn,Jn.current),!0}function V1(t,e,n){var r=t.stateNode;if(!r)throw Error(ke(169));n?(t=yg(t,e,pa),r.__reactInternalMemoizedMergedChildContext=t,Tt(Jn),Tt(Mn),kt(Mn,t)):Tt(Jn),kt(Jn,n)}var Di=null,Dd=!1,nf=!1;function xg(t){Di===null?Di=[t]:Di.push(t)}function Dv(t){Dd=!0,xg(t)}function Os(){if(!nf&&Di!==null){nf=!0;var t=0,e=bt;try{var n=Di;for(bt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Di=null,Dd=!1}catch(i){throw Di!==null&&(Di=Di.slice(t+1)),W2(Q0,Os),i}finally{bt=e,nf=!1}}return null}var xo=[],vo=0,fd=null,pd=0,br=[],Nr=0,ma=null,Oi=1,zi="";function Zs(t,e){xo[vo++]=pd,xo[vo++]=fd,fd=t,pd=e}function vg(t,e,n){br[Nr++]=Oi,br[Nr++]=zi,br[Nr++]=ma,ma=t;var r=Oi;t=zi;var i=32-Qr(r)-1;r&=~(1<<i),n+=1;var s=32-Qr(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Oi=1<<32-Qr(e)+i|n<<i|r,zi=s+t}else Oi=1<<s|n<<i|r,zi=t}function rp(t){t.return!==null&&(Zs(t,1),vg(t,1,0))}function ip(t){for(;t===fd;)fd=xo[--vo],xo[vo]=null,pd=xo[--vo],xo[vo]=null;for(;t===ma;)ma=br[--Nr],br[Nr]=null,zi=br[--Nr],br[Nr]=null,Oi=br[--Nr],br[Nr]=null}var cr=null,or=null,It=!1,Gr=null;function wg(t,e){var n=Sr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function G1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,cr=t,or=js(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,cr=t,or=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ma!==null?{id:Oi,overflow:zi}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Sr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,cr=t,or=null,!0):!1;default:return!1}}function a0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function o0(t){if(It){var e=or;if(e){var n=e;if(!G1(t,e)){if(a0(t))throw Error(ke(418));e=js(n.nextSibling);var r=cr;e&&G1(t,e)?wg(r,n):(t.flags=t.flags&-4097|2,It=!1,cr=t)}}else{if(a0(t))throw Error(ke(418));t.flags=t.flags&-4097|2,It=!1,cr=t}}}function Q1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;cr=t}function Cu(t){if(t!==cr)return!1;if(!It)return Q1(t),It=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!n0(t.type,t.memoizedProps)),e&&(e=or)){if(a0(t))throw bg(),Error(ke(418));for(;e;)wg(t,e),e=js(e.nextSibling)}if(Q1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ke(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){or=js(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}or=null}}else or=cr?js(t.stateNode.nextSibling):null;return!0}function bg(){for(var t=or;t;)t=js(t.nextSibling)}function Fo(){or=cr=null,It=!1}function sp(t){Gr===null?Gr=[t]:Gr.push(t)}var Ev=Vi.ReactCurrentBatchConfig;function Nl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ke(309));var r=n.stateNode}if(!r)throw Error(ke(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(ke(284));if(!n._owner)throw Error(ke(290,t))}return t}function Pu(t,e){throw t=Object.prototype.toString.call(e),Error(ke(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Y1(t){var e=t._init;return e(t._payload)}function Ng(t){function e(x,w){if(t){var j=x.deletions;j===null?(x.deletions=[w],x.flags|=16):j.push(w)}}function n(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function r(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=Ps(x,w),x.index=0,x.sibling=null,x}function s(x,w,j){return x.index=j,t?(j=x.alternate,j!==null?(j=j.index,j<w?(x.flags|=2,w):j):(x.flags|=2,w)):(x.flags|=1048576,w)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,w,j,S){return w===null||w.tag!==6?(w=uf(j,x.mode,S),w.return=x,w):(w=i(w,j),w.return=x,w)}function l(x,w,j,S){var P=j.type;return P===ho?p(x,w,j.props.children,S,j.key):w!==null&&(w.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===fs&&Y1(P)===w.type)?(S=i(w,j.props),S.ref=Nl(x,w,j),S.return=x,S):(S=td(j.type,j.key,j.props,null,x.mode,S),S.ref=Nl(x,w,j),S.return=x,S)}function d(x,w,j,S){return w===null||w.tag!==4||w.stateNode.containerInfo!==j.containerInfo||w.stateNode.implementation!==j.implementation?(w=df(j,x.mode,S),w.return=x,w):(w=i(w,j.children||[]),w.return=x,w)}function p(x,w,j,S,P){return w===null||w.tag!==7?(w=oa(j,x.mode,S,P),w.return=x,w):(w=i(w,j),w.return=x,w)}function m(x,w,j){if(typeof w=="string"&&w!==""||typeof w=="number")return w=uf(""+w,x.mode,j),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case yu:return j=td(w.type,w.key,w.props,null,x.mode,j),j.ref=Nl(x,null,w),j.return=x,j;case uo:return w=df(w,x.mode,j),w.return=x,w;case fs:var S=w._init;return m(x,S(w._payload),j)}if(Ll(w)||yl(w))return w=oa(w,x.mode,j,null),w.return=x,w;Pu(x,w)}return null}function g(x,w,j,S){var P=w!==null?w.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return P!==null?null:o(x,w,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case yu:return j.key===P?l(x,w,j,S):null;case uo:return j.key===P?d(x,w,j,S):null;case fs:return P=j._init,g(x,w,P(j._payload),S)}if(Ll(j)||yl(j))return P!==null?null:p(x,w,j,S,null);Pu(x,j)}return null}function f(x,w,j,S,P){if(typeof S=="string"&&S!==""||typeof S=="number")return x=x.get(j)||null,o(w,x,""+S,P);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case yu:return x=x.get(S.key===null?j:S.key)||null,l(w,x,S,P);case uo:return x=x.get(S.key===null?j:S.key)||null,d(w,x,S,P);case fs:var E=S._init;return f(x,w,j,E(S._payload),P)}if(Ll(S)||yl(S))return x=x.get(j)||null,p(w,x,S,P,null);Pu(w,S)}return null}function b(x,w,j,S){for(var P=null,E=null,T=w,k=w=0,z=null;T!==null&&k<j.length;k++){T.index>k?(z=T,T=null):z=T.sibling;var V=g(x,T,j[k],S);if(V===null){T===null&&(T=z);break}t&&T&&V.alternate===null&&e(x,T),w=s(V,w,k),E===null?P=V:E.sibling=V,E=V,T=z}if(k===j.length)return n(x,T),It&&Zs(x,k),P;if(T===null){for(;k<j.length;k++)T=m(x,j[k],S),T!==null&&(w=s(T,w,k),E===null?P=T:E.sibling=T,E=T);return It&&Zs(x,k),P}for(T=r(x,T);k<j.length;k++)z=f(T,x,k,j[k],S),z!==null&&(t&&z.alternate!==null&&T.delete(z.key===null?k:z.key),w=s(z,w,k),E===null?P=z:E.sibling=z,E=z);return t&&T.forEach(function(A){return e(x,A)}),It&&Zs(x,k),P}function N(x,w,j,S){var P=yl(j);if(typeof P!="function")throw Error(ke(150));if(j=P.call(j),j==null)throw Error(ke(151));for(var E=P=null,T=w,k=w=0,z=null,V=j.next();T!==null&&!V.done;k++,V=j.next()){T.index>k?(z=T,T=null):z=T.sibling;var A=g(x,T,V.value,S);if(A===null){T===null&&(T=z);break}t&&T&&A.alternate===null&&e(x,T),w=s(A,w,k),E===null?P=A:E.sibling=A,E=A,T=z}if(V.done)return n(x,T),It&&Zs(x,k),P;if(T===null){for(;!V.done;k++,V=j.next())V=m(x,V.value,S),V!==null&&(w=s(V,w,k),E===null?P=V:E.sibling=V,E=V);return It&&Zs(x,k),P}for(T=r(x,T);!V.done;k++,V=j.next())V=f(T,x,k,V.value,S),V!==null&&(t&&V.alternate!==null&&T.delete(V.key===null?k:V.key),w=s(V,w,k),E===null?P=V:E.sibling=V,E=V);return t&&T.forEach(function(_){return e(x,_)}),It&&Zs(x,k),P}function F(x,w,j,S){if(typeof j=="object"&&j!==null&&j.type===ho&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case yu:e:{for(var P=j.key,E=w;E!==null;){if(E.key===P){if(P=j.type,P===ho){if(E.tag===7){n(x,E.sibling),w=i(E,j.props.children),w.return=x,x=w;break e}}else if(E.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===fs&&Y1(P)===E.type){n(x,E.sibling),w=i(E,j.props),w.ref=Nl(x,E,j),w.return=x,x=w;break e}n(x,E);break}else e(x,E);E=E.sibling}j.type===ho?(w=oa(j.props.children,x.mode,S,j.key),w.return=x,x=w):(S=td(j.type,j.key,j.props,null,x.mode,S),S.ref=Nl(x,w,j),S.return=x,x=S)}return a(x);case uo:e:{for(E=j.key;w!==null;){if(w.key===E)if(w.tag===4&&w.stateNode.containerInfo===j.containerInfo&&w.stateNode.implementation===j.implementation){n(x,w.sibling),w=i(w,j.children||[]),w.return=x,x=w;break e}else{n(x,w);break}else e(x,w);w=w.sibling}w=df(j,x.mode,S),w.return=x,x=w}return a(x);case fs:return E=j._init,F(x,w,E(j._payload),S)}if(Ll(j))return b(x,w,j,S);if(yl(j))return N(x,w,j,S);Pu(x,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,w!==null&&w.tag===6?(n(x,w.sibling),w=i(w,j),w.return=x,x=w):(n(x,w),w=uf(j,x.mode,S),w.return=x,x=w),a(x)):n(x,w)}return F}var To=Ng(!0),Sg=Ng(!1),md=Es(null),gd=null,wo=null,ap=null;function op(){ap=wo=gd=null}function lp(t){var e=md.current;Tt(md),t._currentValue=e}function l0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Co(t,e){gd=t,ap=wo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Yn=!0),t.firstContext=null)}function _r(t){var e=t._currentValue;if(ap!==t)if(t={context:t,memoizedValue:e,next:null},wo===null){if(gd===null)throw Error(ke(308));wo=t,gd.dependencies={lanes:0,firstContext:t}}else wo=wo.next=t;return e}var ra=null;function cp(t){ra===null?ra=[t]:ra.push(t)}function jg(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,cp(e)):(n.next=i.next,i.next=n),e.interleaved=n,Hi(t,r)}function Hi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ps=!1;function up(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _g(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Bi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _s(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ft&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Hi(t,n)}return i=r.interleaved,i===null?(e.next=e,cp(r)):(e.next=i.next,i.next=e),r.interleaved=e,Hi(t,n)}function Yu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Y0(t,n)}}function J1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function yd(t,e,n,r){var i=t.updateQueue;ps=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,d=l.next;l.next=null,a===null?s=d:a.next=d,a=l;var p=t.alternate;p!==null&&(p=p.updateQueue,o=p.lastBaseUpdate,o!==a&&(o===null?p.firstBaseUpdate=d:o.next=d,p.lastBaseUpdate=l))}if(s!==null){var m=i.baseState;a=0,p=d=l=null,o=s;do{var g=o.lane,f=o.eventTime;if((r&g)===g){p!==null&&(p=p.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var b=t,N=o;switch(g=e,f=n,N.tag){case 1:if(b=N.payload,typeof b=="function"){m=b.call(f,m,g);break e}m=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=N.payload,g=typeof b=="function"?b.call(f,m,g):b,g==null)break e;m=zt({},m,g);break e;case 2:ps=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,g=i.effects,g===null?i.effects=[o]:g.push(o))}else f={eventTime:f,lane:g,tag:o.tag,payload:o.payload,callback:o.callback,next:null},p===null?(d=p=f,l=m):p=p.next=f,a|=g;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;g=o,o=g.next,g.next=null,i.lastBaseUpdate=g,i.shared.pending=null}}while(!0);if(p===null&&(l=m),i.baseState=l,i.firstBaseUpdate=d,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ya|=a,t.lanes=a,t.memoizedState=m}}function X1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ke(191,i));i.call(r)}}}var wc={},gi=Es(wc),sc=Es(wc),ac=Es(wc);function ia(t){if(t===wc)throw Error(ke(174));return t}function dp(t,e){switch(kt(ac,e),kt(sc,t),kt(gi,wc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Uf(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Uf(e,t)}Tt(gi),kt(gi,e)}function Mo(){Tt(gi),Tt(sc),Tt(ac)}function Ag(t){ia(ac.current);var e=ia(gi.current),n=Uf(e,t.type);e!==n&&(kt(sc,t),kt(gi,n))}function hp(t){sc.current===t&&(Tt(gi),Tt(sc))}var Et=Es(0);function xd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var rf=[];function fp(){for(var t=0;t<rf.length;t++)rf[t]._workInProgressVersionPrimary=null;rf.length=0}var Ju=Vi.ReactCurrentDispatcher,sf=Vi.ReactCurrentBatchConfig,ga=0,Ot=null,an=null,hn=null,vd=!1,zl=!1,oc=0,Ov=0;function Sn(){throw Error(ke(321))}function pp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Jr(t[n],e[n]))return!1;return!0}function mp(t,e,n,r,i,s){if(ga=s,Ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ju.current=t===null||t.memoizedState===null?qv:Uv,t=n(r,i),zl){s=0;do{if(zl=!1,oc=0,25<=s)throw Error(ke(301));s+=1,hn=an=null,e.updateQueue=null,Ju.current=Wv,t=n(r,i)}while(zl)}if(Ju.current=wd,e=an!==null&&an.next!==null,ga=0,hn=an=Ot=null,vd=!1,e)throw Error(ke(300));return t}function gp(){var t=oc!==0;return oc=0,t}function di(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hn===null?Ot.memoizedState=hn=t:hn=hn.next=t,hn}function Ar(){if(an===null){var t=Ot.alternate;t=t!==null?t.memoizedState:null}else t=an.next;var e=hn===null?Ot.memoizedState:hn.next;if(e!==null)hn=e,an=t;else{if(t===null)throw Error(ke(310));an=t,t={memoizedState:an.memoizedState,baseState:an.baseState,baseQueue:an.baseQueue,queue:an.queue,next:null},hn===null?Ot.memoizedState=hn=t:hn=hn.next=t}return hn}function lc(t,e){return typeof e=="function"?e(t):e}function af(t){var e=Ar(),n=e.queue;if(n===null)throw Error(ke(311));n.lastRenderedReducer=t;var r=an,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,d=s;do{var p=d.lane;if((ga&p)===p)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var m={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(o=l=m,a=r):l=l.next=m,Ot.lanes|=p,ya|=p}d=d.next}while(d!==null&&d!==s);l===null?a=r:l.next=o,Jr(r,e.memoizedState)||(Yn=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ot.lanes|=s,ya|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function of(t){var e=Ar(),n=e.queue;if(n===null)throw Error(ke(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Jr(s,e.memoizedState)||(Yn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Cg(){}function Pg(t,e){var n=Ot,r=Ar(),i=e(),s=!Jr(r.memoizedState,i);if(s&&(r.memoizedState=i,Yn=!0),r=r.queue,yp(Fg.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||hn!==null&&hn.memoizedState.tag&1){if(n.flags|=2048,cc(9,Lg.bind(null,n,r,i,e),void 0,null),fn===null)throw Error(ke(349));ga&30||kg(n,e,i)}return i}function kg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ot.updateQueue,e===null?(e={lastEffect:null,stores:null},Ot.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Lg(t,e,n,r){e.value=n,e.getSnapshot=r,Tg(e)&&Mg(t)}function Fg(t,e,n){return n(function(){Tg(e)&&Mg(t)})}function Tg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Jr(t,n)}catch{return!0}}function Mg(t){var e=Hi(t,1);e!==null&&Yr(e,t,1,-1)}function K1(t){var e=di();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lc,lastRenderedState:t},e.queue=t,t=t.dispatch=Bv.bind(null,Ot,t),[e.memoizedState,t]}function cc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ot.updateQueue,e===null?(e={lastEffect:null,stores:null},Ot.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Ig(){return Ar().memoizedState}function Xu(t,e,n,r){var i=di();Ot.flags|=t,i.memoizedState=cc(1|e,n,void 0,r===void 0?null:r)}function Ed(t,e,n,r){var i=Ar();r=r===void 0?null:r;var s=void 0;if(an!==null){var a=an.memoizedState;if(s=a.destroy,r!==null&&pp(r,a.deps)){i.memoizedState=cc(e,n,s,r);return}}Ot.flags|=t,i.memoizedState=cc(1|e,n,s,r)}function Z1(t,e){return Xu(8390656,8,t,e)}function yp(t,e){return Ed(2048,8,t,e)}function Dg(t,e){return Ed(4,2,t,e)}function Eg(t,e){return Ed(4,4,t,e)}function Og(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function zg(t,e,n){return n=n!=null?n.concat([t]):null,Ed(4,4,Og.bind(null,e,t),n)}function xp(){}function Rg(t,e){var n=Ar();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Bg(t,e){var n=Ar();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&pp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function qg(t,e,n){return ga&21?(Jr(n,e)||(n=V2(),Ot.lanes|=n,ya|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Yn=!0),t.memoizedState=n)}function zv(t,e){var n=bt;bt=n!==0&&4>n?n:4,t(!0);var r=sf.transition;sf.transition={};try{t(!1),e()}finally{bt=n,sf.transition=r}}function Ug(){return Ar().memoizedState}function Rv(t,e,n){var r=Cs(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Wg(t))Hg(e,n);else if(n=jg(t,e,n,r),n!==null){var i=Rn();Yr(n,t,r,i),$g(n,e,r)}}function Bv(t,e,n){var r=Cs(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Wg(t))Hg(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Jr(o,a)){var l=e.interleaved;l===null?(i.next=i,cp(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=jg(t,e,i,r),n!==null&&(i=Rn(),Yr(n,t,r,i),$g(n,e,r))}}function Wg(t){var e=t.alternate;return t===Ot||e!==null&&e===Ot}function Hg(t,e){zl=vd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function $g(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Y0(t,n)}}var wd={readContext:_r,useCallback:Sn,useContext:Sn,useEffect:Sn,useImperativeHandle:Sn,useInsertionEffect:Sn,useLayoutEffect:Sn,useMemo:Sn,useReducer:Sn,useRef:Sn,useState:Sn,useDebugValue:Sn,useDeferredValue:Sn,useTransition:Sn,useMutableSource:Sn,useSyncExternalStore:Sn,useId:Sn,unstable_isNewReconciler:!1},qv={readContext:_r,useCallback:function(t,e){return di().memoizedState=[t,e===void 0?null:e],t},useContext:_r,useEffect:Z1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Xu(4194308,4,Og.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Xu(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xu(4,2,t,e)},useMemo:function(t,e){var n=di();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=di();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Rv.bind(null,Ot,t),[r.memoizedState,t]},useRef:function(t){var e=di();return t={current:t},e.memoizedState=t},useState:K1,useDebugValue:xp,useDeferredValue:function(t){return di().memoizedState=t},useTransition:function(){var t=K1(!1),e=t[0];return t=zv.bind(null,t[1]),di().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ot,i=di();if(It){if(n===void 0)throw Error(ke(407));n=n()}else{if(n=e(),fn===null)throw Error(ke(349));ga&30||kg(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Z1(Fg.bind(null,r,s,t),[t]),r.flags|=2048,cc(9,Lg.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=di(),e=fn.identifierPrefix;if(It){var n=zi,r=Oi;n=(r&~(1<<32-Qr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=oc++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Ov++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Uv={readContext:_r,useCallback:Rg,useContext:_r,useEffect:yp,useImperativeHandle:zg,useInsertionEffect:Dg,useLayoutEffect:Eg,useMemo:Bg,useReducer:af,useRef:Ig,useState:function(){return af(lc)},useDebugValue:xp,useDeferredValue:function(t){var e=Ar();return qg(e,an.memoizedState,t)},useTransition:function(){var t=af(lc)[0],e=Ar().memoizedState;return[t,e]},useMutableSource:Cg,useSyncExternalStore:Pg,useId:Ug,unstable_isNewReconciler:!1},Wv={readContext:_r,useCallback:Rg,useContext:_r,useEffect:yp,useImperativeHandle:zg,useInsertionEffect:Dg,useLayoutEffect:Eg,useMemo:Bg,useReducer:of,useRef:Ig,useState:function(){return of(lc)},useDebugValue:xp,useDeferredValue:function(t){var e=Ar();return an===null?e.memoizedState=t:qg(e,an.memoizedState,t)},useTransition:function(){var t=of(lc)[0],e=Ar().memoizedState;return[t,e]},useMutableSource:Cg,useSyncExternalStore:Pg,useId:Ug,unstable_isNewReconciler:!1};function Wr(t,e){if(t&&t.defaultProps){e=zt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function c0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:zt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Od={isMounted:function(t){return(t=t._reactInternals)?Na(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Rn(),i=Cs(t),s=Bi(r,i);s.payload=e,n!=null&&(s.callback=n),e=_s(t,s,i),e!==null&&(Yr(e,t,i,r),Yu(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Rn(),i=Cs(t),s=Bi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=_s(t,s,i),e!==null&&(Yr(e,t,i,r),Yu(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Rn(),r=Cs(t),i=Bi(n,r);i.tag=2,e!=null&&(i.callback=e),e=_s(t,i,r),e!==null&&(Yr(e,t,r,n),Yu(e,t,r))}};function em(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!tc(n,r)||!tc(i,s):!0}function Vg(t,e,n){var r=!1,i=Ts,s=e.contextType;return typeof s=="object"&&s!==null?s=_r(s):(i=Xn(e)?pa:Mn.current,r=e.contextTypes,s=(r=r!=null)?Lo(t,i):Ts),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Od,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function tm(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Od.enqueueReplaceState(e,e.state,null)}function u0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},up(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=_r(s):(s=Xn(e)?pa:Mn.current,i.context=Lo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(c0(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Od.enqueueReplaceState(i,i.state,null),yd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Io(t,e){try{var n="",r=e;do n+=yx(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function lf(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function d0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Hv=typeof WeakMap=="function"?WeakMap:Map;function Gg(t,e,n){n=Bi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Nd||(Nd=!0,b0=r),d0(t,e)},n}function Qg(t,e,n){n=Bi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){d0(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){d0(t,e),typeof r!="function"&&(As===null?As=new Set([this]):As.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function nm(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Hv;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=i3.bind(null,t,e,n),e.then(t,t))}function rm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function im(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Bi(-1,1),e.tag=2,_s(n,e,1))),n.lanes|=1),t)}var $v=Vi.ReactCurrentOwner,Yn=!1;function On(t,e,n,r){e.child=t===null?Sg(e,null,n,r):To(e,t.child,n,r)}function sm(t,e,n,r,i){n=n.render;var s=e.ref;return Co(e,i),r=mp(t,e,n,r,s,i),n=gp(),t!==null&&!Yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$i(t,e,i)):(It&&n&&rp(e),e.flags|=1,On(t,e,r,i),e.child)}function am(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Ap(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,Yg(t,e,s,r,i)):(t=td(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:tc,n(a,r)&&t.ref===e.ref)return $i(t,e,i)}return e.flags|=1,t=Ps(s,r),t.ref=e.ref,t.return=e,e.child=t}function Yg(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(tc(s,r)&&t.ref===e.ref)if(Yn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Yn=!0);else return e.lanes=t.lanes,$i(t,e,i)}return h0(t,e,n,r,i)}function Jg(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},kt(No,ar),ar|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,kt(No,ar),ar|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,kt(No,ar),ar|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,kt(No,ar),ar|=r;return On(t,e,i,n),e.child}function Xg(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function h0(t,e,n,r,i){var s=Xn(n)?pa:Mn.current;return s=Lo(e,s),Co(e,i),n=mp(t,e,n,r,s,i),r=gp(),t!==null&&!Yn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$i(t,e,i)):(It&&r&&rp(e),e.flags|=1,On(t,e,n,i),e.child)}function om(t,e,n,r,i){if(Xn(n)){var s=!0;hd(e)}else s=!1;if(Co(e,i),e.stateNode===null)Ku(t,e),Vg(e,n,r),u0(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=_r(d):(d=Xn(n)?pa:Mn.current,d=Lo(e,d));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==d)&&tm(e,a,r,d),ps=!1;var g=e.memoizedState;a.state=g,yd(e,r,a,i),l=e.memoizedState,o!==r||g!==l||Jn.current||ps?(typeof p=="function"&&(c0(e,n,p,r),l=e.memoizedState),(o=ps||em(e,n,o,r,g,l,d))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=d,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,_g(t,e),o=e.memoizedProps,d=e.type===e.elementType?o:Wr(e.type,o),a.props=d,m=e.pendingProps,g=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=_r(l):(l=Xn(n)?pa:Mn.current,l=Lo(e,l));var f=n.getDerivedStateFromProps;(p=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==m||g!==l)&&tm(e,a,r,l),ps=!1,g=e.memoizedState,a.state=g,yd(e,r,a,i);var b=e.memoizedState;o!==m||g!==b||Jn.current||ps?(typeof f=="function"&&(c0(e,n,f,r),b=e.memoizedState),(d=ps||em(e,n,d,r,g,b,l)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,b,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,b,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=b),a.props=r,a.state=b,a.context=l,r=d):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return f0(t,e,n,r,s,i)}function f0(t,e,n,r,i,s){Xg(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&V1(e,n,!1),$i(t,e,s);r=e.stateNode,$v.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=To(e,t.child,null,s),e.child=To(e,null,o,s)):On(t,e,o,s),e.memoizedState=r.state,i&&V1(e,n,!0),e.child}function Kg(t){var e=t.stateNode;e.pendingContext?$1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$1(t,e.context,!1),dp(t,e.containerInfo)}function lm(t,e,n,r,i){return Fo(),sp(i),e.flags|=256,On(t,e,n,r),e.child}var p0={dehydrated:null,treeContext:null,retryLane:0};function m0(t){return{baseLanes:t,cachePool:null,transitions:null}}function Zg(t,e,n){var r=e.pendingProps,i=Et.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),kt(Et,i&1),t===null)return o0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Bd(a,r,0,null),t=oa(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=m0(n),e.memoizedState=p0,t):vp(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Vv(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ps(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Ps(o,s):(s=oa(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?m0(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=p0,r}return s=t.child,t=s.sibling,r=Ps(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function vp(t,e){return e=Bd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ku(t,e,n,r){return r!==null&&sp(r),To(e,t.child,null,n),t=vp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Vv(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=lf(Error(ke(422))),ku(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Bd({mode:"visible",children:r.children},i,0,null),s=oa(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&To(e,t.child,null,a),e.child.memoizedState=m0(a),e.memoizedState=p0,s);if(!(e.mode&1))return ku(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(ke(419)),r=lf(s,r,void 0),ku(t,e,a,r)}if(o=(a&t.childLanes)!==0,Yn||o){if(r=fn,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Hi(t,i),Yr(r,t,i,-1))}return _p(),r=lf(Error(ke(421))),ku(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=s3.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,or=js(i.nextSibling),cr=e,It=!0,Gr=null,t!==null&&(br[Nr++]=Oi,br[Nr++]=zi,br[Nr++]=ma,Oi=t.id,zi=t.overflow,ma=e),e=vp(e,r.children),e.flags|=4096,e)}function cm(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),l0(t.return,e,n)}function cf(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function e5(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(On(t,e,r.children,n),r=Et.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&cm(t,n,e);else if(t.tag===19)cm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(kt(Et,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&xd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),cf(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&xd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}cf(e,!0,n,null,s);break;case"together":cf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ku(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $i(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ya|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ke(153));if(e.child!==null){for(t=e.child,n=Ps(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ps(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Gv(t,e,n){switch(e.tag){case 3:Kg(e),Fo();break;case 5:Ag(e);break;case 1:Xn(e.type)&&hd(e);break;case 4:dp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;kt(md,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(kt(Et,Et.current&1),e.flags|=128,null):n&e.child.childLanes?Zg(t,e,n):(kt(Et,Et.current&1),t=$i(t,e,n),t!==null?t.sibling:null);kt(Et,Et.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return e5(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),kt(Et,Et.current),r)break;return null;case 22:case 23:return e.lanes=0,Jg(t,e,n)}return $i(t,e,n)}var t5,g0,n5,r5;t5=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};g0=function(){};n5=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ia(gi.current);var s=null;switch(n){case"input":i=zf(t,i),r=zf(t,r),s=[];break;case"select":i=zt({},i,{value:void 0}),r=zt({},r,{value:void 0}),s=[];break;case"textarea":i=qf(t,i),r=qf(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ud)}Wf(n,r);var a;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var o=i[d];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Ql.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var l=r[d];if(o=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&l!==o&&(l!=null||o!=null))if(d==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(d,n)),n=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Ql.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&Lt("scroll",t),s||o===l||(s=[])):(s=s||[]).push(d,l))}n&&(s=s||[]).push("style",n);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};r5=function(t,e,n,r){n!==r&&(e.flags|=4)};function Sl(t,e){if(!It)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function jn(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Qv(t,e,n){var r=e.pendingProps;switch(ip(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jn(e),null;case 1:return Xn(e.type)&&dd(),jn(e),null;case 3:return r=e.stateNode,Mo(),Tt(Jn),Tt(Mn),fp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Cu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gr!==null&&(j0(Gr),Gr=null))),g0(t,e),jn(e),null;case 5:hp(e);var i=ia(ac.current);if(n=e.type,t!==null&&e.stateNode!=null)n5(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ke(166));return jn(e),null}if(t=ia(gi.current),Cu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[hi]=e,r[ic]=s,t=(e.mode&1)!==0,n){case"dialog":Lt("cancel",r),Lt("close",r);break;case"iframe":case"object":case"embed":Lt("load",r);break;case"video":case"audio":for(i=0;i<Tl.length;i++)Lt(Tl[i],r);break;case"source":Lt("error",r);break;case"img":case"image":case"link":Lt("error",r),Lt("load",r);break;case"details":Lt("toggle",r);break;case"input":x1(r,s),Lt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Lt("invalid",r);break;case"textarea":w1(r,s),Lt("invalid",r)}Wf(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&Au(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Au(r.textContent,o,t),i=["children",""+o]):Ql.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Lt("scroll",r)}switch(n){case"input":xu(r),v1(r,s,!0);break;case"textarea":xu(r),b1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ud)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=F2(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[hi]=e,t[ic]=r,t5(t,e,!1,!1),e.stateNode=t;e:{switch(a=Hf(n,r),n){case"dialog":Lt("cancel",t),Lt("close",t),i=r;break;case"iframe":case"object":case"embed":Lt("load",t),i=r;break;case"video":case"audio":for(i=0;i<Tl.length;i++)Lt(Tl[i],t);i=r;break;case"source":Lt("error",t),i=r;break;case"img":case"image":case"link":Lt("error",t),Lt("load",t),i=r;break;case"details":Lt("toggle",t),i=r;break;case"input":x1(t,r),i=zf(t,r),Lt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=zt({},r,{value:void 0}),Lt("invalid",t);break;case"textarea":w1(t,r),i=qf(t,r),Lt("invalid",t);break;default:i=r}Wf(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?I2(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&T2(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Yl(t,l):typeof l=="number"&&Yl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ql.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Lt("scroll",t):l!=null&&W0(t,s,l,a))}switch(n){case"input":xu(t),v1(t,r,!1);break;case"textarea":xu(t),b1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Fs(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?So(t,!!r.multiple,s,!1):r.defaultValue!=null&&So(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ud)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return jn(e),null;case 6:if(t&&e.stateNode!=null)r5(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ke(166));if(n=ia(ac.current),ia(gi.current),Cu(e)){if(r=e.stateNode,n=e.memoizedProps,r[hi]=e,(s=r.nodeValue!==n)&&(t=cr,t!==null))switch(t.tag){case 3:Au(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Au(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[hi]=e,e.stateNode=r}return jn(e),null;case 13:if(Tt(Et),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(It&&or!==null&&e.mode&1&&!(e.flags&128))bg(),Fo(),e.flags|=98560,s=!1;else if(s=Cu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ke(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ke(317));s[hi]=e}else Fo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;jn(e),s=!1}else Gr!==null&&(j0(Gr),Gr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Et.current&1?ln===0&&(ln=3):_p())),e.updateQueue!==null&&(e.flags|=4),jn(e),null);case 4:return Mo(),g0(t,e),t===null&&nc(e.stateNode.containerInfo),jn(e),null;case 10:return lp(e.type._context),jn(e),null;case 17:return Xn(e.type)&&dd(),jn(e),null;case 19:if(Tt(Et),s=e.memoizedState,s===null)return jn(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Sl(s,!1);else{if(ln!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=xd(t),a!==null){for(e.flags|=128,Sl(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return kt(Et,Et.current&1|2),e.child}t=t.sibling}s.tail!==null&&Qt()>Do&&(e.flags|=128,r=!0,Sl(s,!1),e.lanes=4194304)}else{if(!r)if(t=xd(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Sl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!It)return jn(e),null}else 2*Qt()-s.renderingStartTime>Do&&n!==1073741824&&(e.flags|=128,r=!0,Sl(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Qt(),e.sibling=null,n=Et.current,kt(Et,r?n&1|2:n&1),e):(jn(e),null);case 22:case 23:return jp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ar&1073741824&&(jn(e),e.subtreeFlags&6&&(e.flags|=8192)):jn(e),null;case 24:return null;case 25:return null}throw Error(ke(156,e.tag))}function Yv(t,e){switch(ip(e),e.tag){case 1:return Xn(e.type)&&dd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Mo(),Tt(Jn),Tt(Mn),fp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return hp(e),null;case 13:if(Tt(Et),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ke(340));Fo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Tt(Et),null;case 4:return Mo(),null;case 10:return lp(e.type._context),null;case 22:case 23:return jp(),null;case 24:return null;default:return null}}var Lu=!1,Ln=!1,Jv=typeof WeakSet=="function"?WeakSet:Set,Be=null;function bo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ht(t,e,r)}else n.current=null}function y0(t,e,n){try{n()}catch(r){Ht(t,e,r)}}var um=!1;function Xv(t,e){if(e0=od,t=lg(),np(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,d=0,p=0,m=t,g=null;t:for(;;){for(var f;m!==n||i!==0&&m.nodeType!==3||(o=a+i),m!==s||r!==0&&m.nodeType!==3||(l=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(f=m.firstChild)!==null;)g=m,m=f;for(;;){if(m===t)break t;if(g===n&&++d===i&&(o=a),g===s&&++p===r&&(l=a),(f=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=f}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(t0={focusedElem:t,selectionRange:n},od=!1,Be=e;Be!==null;)if(e=Be,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Be=t;else for(;Be!==null;){e=Be;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var N=b.memoizedProps,F=b.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?N:Wr(e.type,N),F);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var j=e.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ke(163))}}catch(S){Ht(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Be=t;break}Be=e.return}return b=um,um=!1,b}function Rl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&y0(e,n,s)}i=i.next}while(i!==r)}}function zd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function x0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function i5(t){var e=t.alternate;e!==null&&(t.alternate=null,i5(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[hi],delete e[ic],delete e[i0],delete e[Mv],delete e[Iv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function s5(t){return t.tag===5||t.tag===3||t.tag===4}function dm(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||s5(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function v0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ud));else if(r!==4&&(t=t.child,t!==null))for(v0(t,e,n),t=t.sibling;t!==null;)v0(t,e,n),t=t.sibling}function w0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(w0(t,e,n),t=t.sibling;t!==null;)w0(t,e,n),t=t.sibling}var yn=null,$r=!1;function os(t,e,n){for(n=n.child;n!==null;)a5(t,e,n),n=n.sibling}function a5(t,e,n){if(mi&&typeof mi.onCommitFiberUnmount=="function")try{mi.onCommitFiberUnmount(Ld,n)}catch{}switch(n.tag){case 5:Ln||bo(n,e);case 6:var r=yn,i=$r;yn=null,os(t,e,n),yn=r,$r=i,yn!==null&&($r?(t=yn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):yn.removeChild(n.stateNode));break;case 18:yn!==null&&($r?(t=yn,n=n.stateNode,t.nodeType===8?tf(t.parentNode,n):t.nodeType===1&&tf(t,n),Zl(t)):tf(yn,n.stateNode));break;case 4:r=yn,i=$r,yn=n.stateNode.containerInfo,$r=!0,os(t,e,n),yn=r,$r=i;break;case 0:case 11:case 14:case 15:if(!Ln&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&y0(n,e,a),i=i.next}while(i!==r)}os(t,e,n);break;case 1:if(!Ln&&(bo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Ht(n,e,o)}os(t,e,n);break;case 21:os(t,e,n);break;case 22:n.mode&1?(Ln=(r=Ln)||n.memoizedState!==null,os(t,e,n),Ln=r):os(t,e,n);break;default:os(t,e,n)}}function hm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Jv),e.forEach(function(r){var i=a3.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function zr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:yn=o.stateNode,$r=!1;break e;case 3:yn=o.stateNode.containerInfo,$r=!0;break e;case 4:yn=o.stateNode.containerInfo,$r=!0;break e}o=o.return}if(yn===null)throw Error(ke(160));a5(s,a,i),yn=null,$r=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(d){Ht(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)o5(e,t),e=e.sibling}function o5(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zr(e,t),ci(t),r&4){try{Rl(3,t,t.return),zd(3,t)}catch(N){Ht(t,t.return,N)}try{Rl(5,t,t.return)}catch(N){Ht(t,t.return,N)}}break;case 1:zr(e,t),ci(t),r&512&&n!==null&&bo(n,n.return);break;case 5:if(zr(e,t),ci(t),r&512&&n!==null&&bo(n,n.return),t.flags&32){var i=t.stateNode;try{Yl(i,"")}catch(N){Ht(t,t.return,N)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&k2(i,s),Hf(o,a);var d=Hf(o,s);for(a=0;a<l.length;a+=2){var p=l[a],m=l[a+1];p==="style"?I2(i,m):p==="dangerouslySetInnerHTML"?T2(i,m):p==="children"?Yl(i,m):W0(i,p,m,d)}switch(o){case"input":Rf(i,s);break;case"textarea":L2(i,s);break;case"select":var g=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?So(i,!!s.multiple,f,!1):g!==!!s.multiple&&(s.defaultValue!=null?So(i,!!s.multiple,s.defaultValue,!0):So(i,!!s.multiple,s.multiple?[]:"",!1))}i[ic]=s}catch(N){Ht(t,t.return,N)}}break;case 6:if(zr(e,t),ci(t),r&4){if(t.stateNode===null)throw Error(ke(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(N){Ht(t,t.return,N)}}break;case 3:if(zr(e,t),ci(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zl(e.containerInfo)}catch(N){Ht(t,t.return,N)}break;case 4:zr(e,t),ci(t);break;case 13:zr(e,t),ci(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Np=Qt())),r&4&&hm(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(Ln=(d=Ln)||p,zr(e,t),Ln=d):zr(e,t),ci(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!p&&t.mode&1)for(Be=t,p=t.child;p!==null;){for(m=Be=p;Be!==null;){switch(g=Be,f=g.child,g.tag){case 0:case 11:case 14:case 15:Rl(4,g,g.return);break;case 1:bo(g,g.return);var b=g.stateNode;if(typeof b.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(N){Ht(r,n,N)}}break;case 5:bo(g,g.return);break;case 22:if(g.memoizedState!==null){pm(m);continue}}f!==null?(f.return=g,Be=f):pm(m)}p=p.sibling}e:for(p=null,m=t;;){if(m.tag===5){if(p===null){p=m;try{i=m.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=m.stateNode,l=m.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=M2("display",a))}catch(N){Ht(t,t.return,N)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(N){Ht(t,t.return,N)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:zr(e,t),ci(t),r&4&&hm(t);break;case 21:break;default:zr(e,t),ci(t)}}function ci(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(s5(n)){var r=n;break e}n=n.return}throw Error(ke(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Yl(i,""),r.flags&=-33);var s=dm(t);w0(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=dm(t);v0(t,o,a);break;default:throw Error(ke(161))}}catch(l){Ht(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Kv(t,e,n){Be=t,l5(t)}function l5(t,e,n){for(var r=(t.mode&1)!==0;Be!==null;){var i=Be,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||Lu;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Ln;o=Lu;var d=Ln;if(Lu=a,(Ln=l)&&!d)for(Be=i;Be!==null;)a=Be,l=a.child,a.tag===22&&a.memoizedState!==null?mm(i):l!==null?(l.return=a,Be=l):mm(i);for(;s!==null;)Be=s,l5(s),s=s.sibling;Be=i,Lu=o,Ln=d}fm(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Be=s):fm(t)}}function fm(t){for(;Be!==null;){var e=Be;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ln||zd(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ln)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Wr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&X1(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}X1(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&Zl(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ke(163))}Ln||e.flags&512&&x0(e)}catch(g){Ht(e,e.return,g)}}if(e===t){Be=null;break}if(n=e.sibling,n!==null){n.return=e.return,Be=n;break}Be=e.return}}function pm(t){for(;Be!==null;){var e=Be;if(e===t){Be=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Be=n;break}Be=e.return}}function mm(t){for(;Be!==null;){var e=Be;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{zd(4,e)}catch(l){Ht(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ht(e,i,l)}}var s=e.return;try{x0(e)}catch(l){Ht(e,s,l)}break;case 5:var a=e.return;try{x0(e)}catch(l){Ht(e,a,l)}}}catch(l){Ht(e,e.return,l)}if(e===t){Be=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Be=o;break}Be=e.return}}var Zv=Math.ceil,bd=Vi.ReactCurrentDispatcher,wp=Vi.ReactCurrentOwner,jr=Vi.ReactCurrentBatchConfig,ft=0,fn=null,nn=null,xn=0,ar=0,No=Es(0),ln=0,uc=null,ya=0,Rd=0,bp=0,Bl=null,Qn=null,Np=0,Do=1/0,Ii=null,Nd=!1,b0=null,As=null,Fu=!1,vs=null,Sd=0,ql=0,N0=null,Zu=-1,ed=0;function Rn(){return ft&6?Qt():Zu!==-1?Zu:Zu=Qt()}function Cs(t){return t.mode&1?ft&2&&xn!==0?xn&-xn:Ev.transition!==null?(ed===0&&(ed=V2()),ed):(t=bt,t!==0||(t=window.event,t=t===void 0?16:Z2(t.type)),t):1}function Yr(t,e,n,r){if(50<ql)throw ql=0,N0=null,Error(ke(185));yc(t,n,r),(!(ft&2)||t!==fn)&&(t===fn&&(!(ft&2)&&(Rd|=n),ln===4&&gs(t,xn)),Kn(t,r),n===1&&ft===0&&!(e.mode&1)&&(Do=Qt()+500,Dd&&Os()))}function Kn(t,e){var n=t.callbackNode;Ex(t,e);var r=ad(t,t===fn?xn:0);if(r===0)n!==null&&j1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&j1(n),e===1)t.tag===0?Dv(gm.bind(null,t)):xg(gm.bind(null,t)),Fv(function(){!(ft&6)&&Os()}),n=null;else{switch(G2(r)){case 1:n=Q0;break;case 4:n=H2;break;case 16:n=sd;break;case 536870912:n=$2;break;default:n=sd}n=g5(n,c5.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function c5(t,e){if(Zu=-1,ed=0,ft&6)throw Error(ke(327));var n=t.callbackNode;if(Po()&&t.callbackNode!==n)return null;var r=ad(t,t===fn?xn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=jd(t,r);else{e=r;var i=ft;ft|=2;var s=d5();(fn!==t||xn!==e)&&(Ii=null,Do=Qt()+500,aa(t,e));do try{n3();break}catch(o){u5(t,o)}while(!0);op(),bd.current=s,ft=i,nn!==null?e=0:(fn=null,xn=0,e=ln)}if(e!==0){if(e===2&&(i=Yf(t),i!==0&&(r=i,e=S0(t,i))),e===1)throw n=uc,aa(t,0),gs(t,r),Kn(t,Qt()),n;if(e===6)gs(t,r);else{if(i=t.current.alternate,!(r&30)&&!e3(i)&&(e=jd(t,r),e===2&&(s=Yf(t),s!==0&&(r=s,e=S0(t,s))),e===1))throw n=uc,aa(t,0),gs(t,r),Kn(t,Qt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ke(345));case 2:ea(t,Qn,Ii);break;case 3:if(gs(t,r),(r&130023424)===r&&(e=Np+500-Qt(),10<e)){if(ad(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Rn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=r0(ea.bind(null,t,Qn,Ii),e);break}ea(t,Qn,Ii);break;case 4:if(gs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Qr(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=Qt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Zv(r/1960))-r,10<r){t.timeoutHandle=r0(ea.bind(null,t,Qn,Ii),r);break}ea(t,Qn,Ii);break;case 5:ea(t,Qn,Ii);break;default:throw Error(ke(329))}}}return Kn(t,Qt()),t.callbackNode===n?c5.bind(null,t):null}function S0(t,e){var n=Bl;return t.current.memoizedState.isDehydrated&&(aa(t,e).flags|=256),t=jd(t,e),t!==2&&(e=Qn,Qn=n,e!==null&&j0(e)),t}function j0(t){Qn===null?Qn=t:Qn.push.apply(Qn,t)}function e3(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Jr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function gs(t,e){for(e&=~bp,e&=~Rd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Qr(e),r=1<<n;t[n]=-1,e&=~r}}function gm(t){if(ft&6)throw Error(ke(327));Po();var e=ad(t,0);if(!(e&1))return Kn(t,Qt()),null;var n=jd(t,e);if(t.tag!==0&&n===2){var r=Yf(t);r!==0&&(e=r,n=S0(t,r))}if(n===1)throw n=uc,aa(t,0),gs(t,e),Kn(t,Qt()),n;if(n===6)throw Error(ke(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ea(t,Qn,Ii),Kn(t,Qt()),null}function Sp(t,e){var n=ft;ft|=1;try{return t(e)}finally{ft=n,ft===0&&(Do=Qt()+500,Dd&&Os())}}function xa(t){vs!==null&&vs.tag===0&&!(ft&6)&&Po();var e=ft;ft|=1;var n=jr.transition,r=bt;try{if(jr.transition=null,bt=1,t)return t()}finally{bt=r,jr.transition=n,ft=e,!(ft&6)&&Os()}}function jp(){ar=No.current,Tt(No)}function aa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Lv(n)),nn!==null)for(n=nn.return;n!==null;){var r=n;switch(ip(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&dd();break;case 3:Mo(),Tt(Jn),Tt(Mn),fp();break;case 5:hp(r);break;case 4:Mo();break;case 13:Tt(Et);break;case 19:Tt(Et);break;case 10:lp(r.type._context);break;case 22:case 23:jp()}n=n.return}if(fn=t,nn=t=Ps(t.current,null),xn=ar=e,ln=0,uc=null,bp=Rd=ya=0,Qn=Bl=null,ra!==null){for(e=0;e<ra.length;e++)if(n=ra[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}ra=null}return t}function u5(t,e){do{var n=nn;try{if(op(),Ju.current=wd,vd){for(var r=Ot.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}vd=!1}if(ga=0,hn=an=Ot=null,zl=!1,oc=0,wp.current=null,n===null||n.return===null){ln=1,uc=e,nn=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=xn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,p=o,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var g=p.alternate;g?(p.updateQueue=g.updateQueue,p.memoizedState=g.memoizedState,p.lanes=g.lanes):(p.updateQueue=null,p.memoizedState=null)}var f=rm(a);if(f!==null){f.flags&=-257,im(f,a,o,s,e),f.mode&1&&nm(s,d,e),e=f,l=d;var b=e.updateQueue;if(b===null){var N=new Set;N.add(l),e.updateQueue=N}else b.add(l);break e}else{if(!(e&1)){nm(s,d,e),_p();break e}l=Error(ke(426))}}else if(It&&o.mode&1){var F=rm(a);if(F!==null){!(F.flags&65536)&&(F.flags|=256),im(F,a,o,s,e),sp(Io(l,o));break e}}s=l=Io(l,o),ln!==4&&(ln=2),Bl===null?Bl=[s]:Bl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=Gg(s,l,e);J1(s,x);break e;case 1:o=l;var w=s.type,j=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(As===null||!As.has(j)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=Qg(s,o,e);J1(s,S);break e}}s=s.return}while(s!==null)}f5(n)}catch(P){e=P,nn===n&&n!==null&&(nn=n=n.return);continue}break}while(!0)}function d5(){var t=bd.current;return bd.current=wd,t===null?wd:t}function _p(){(ln===0||ln===3||ln===2)&&(ln=4),fn===null||!(ya&268435455)&&!(Rd&268435455)||gs(fn,xn)}function jd(t,e){var n=ft;ft|=2;var r=d5();(fn!==t||xn!==e)&&(Ii=null,aa(t,e));do try{t3();break}catch(i){u5(t,i)}while(!0);if(op(),ft=n,bd.current=r,nn!==null)throw Error(ke(261));return fn=null,xn=0,ln}function t3(){for(;nn!==null;)h5(nn)}function n3(){for(;nn!==null&&!Cx();)h5(nn)}function h5(t){var e=m5(t.alternate,t,ar);t.memoizedProps=t.pendingProps,e===null?f5(t):nn=e,wp.current=null}function f5(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Yv(n,e),n!==null){n.flags&=32767,nn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ln=6,nn=null;return}}else if(n=Qv(n,e,ar),n!==null){nn=n;return}if(e=e.sibling,e!==null){nn=e;return}nn=e=t}while(e!==null);ln===0&&(ln=5)}function ea(t,e,n){var r=bt,i=jr.transition;try{jr.transition=null,bt=1,r3(t,e,n,r)}finally{jr.transition=i,bt=r}return null}function r3(t,e,n,r){do Po();while(vs!==null);if(ft&6)throw Error(ke(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ke(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Ox(t,s),t===fn&&(nn=fn=null,xn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fu||(Fu=!0,g5(sd,function(){return Po(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=jr.transition,jr.transition=null;var a=bt;bt=1;var o=ft;ft|=4,wp.current=null,Xv(t,n),o5(n,t),Sv(t0),od=!!e0,t0=e0=null,t.current=n,Kv(n),Px(),ft=o,bt=a,jr.transition=s}else t.current=n;if(Fu&&(Fu=!1,vs=t,Sd=i),s=t.pendingLanes,s===0&&(As=null),Fx(n.stateNode),Kn(t,Qt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Nd)throw Nd=!1,t=b0,b0=null,t;return Sd&1&&t.tag!==0&&Po(),s=t.pendingLanes,s&1?t===N0?ql++:(ql=0,N0=t):ql=0,Os(),null}function Po(){if(vs!==null){var t=G2(Sd),e=jr.transition,n=bt;try{if(jr.transition=null,bt=16>t?16:t,vs===null)var r=!1;else{if(t=vs,vs=null,Sd=0,ft&6)throw Error(ke(331));var i=ft;for(ft|=4,Be=t.current;Be!==null;){var s=Be,a=s.child;if(Be.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var d=o[l];for(Be=d;Be!==null;){var p=Be;switch(p.tag){case 0:case 11:case 15:Rl(8,p,s)}var m=p.child;if(m!==null)m.return=p,Be=m;else for(;Be!==null;){p=Be;var g=p.sibling,f=p.return;if(i5(p),p===d){Be=null;break}if(g!==null){g.return=f,Be=g;break}Be=f}}}var b=s.alternate;if(b!==null){var N=b.child;if(N!==null){b.child=null;do{var F=N.sibling;N.sibling=null,N=F}while(N!==null)}}Be=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Be=a;else e:for(;Be!==null;){if(s=Be,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Rl(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,Be=x;break e}Be=s.return}}var w=t.current;for(Be=w;Be!==null;){a=Be;var j=a.child;if(a.subtreeFlags&2064&&j!==null)j.return=a,Be=j;else e:for(a=w;Be!==null;){if(o=Be,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:zd(9,o)}}catch(P){Ht(o,o.return,P)}if(o===a){Be=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,Be=S;break e}Be=o.return}}if(ft=i,Os(),mi&&typeof mi.onPostCommitFiberRoot=="function")try{mi.onPostCommitFiberRoot(Ld,t)}catch{}r=!0}return r}finally{bt=n,jr.transition=e}}return!1}function ym(t,e,n){e=Io(n,e),e=Gg(t,e,1),t=_s(t,e,1),e=Rn(),t!==null&&(yc(t,1,e),Kn(t,e))}function Ht(t,e,n){if(t.tag===3)ym(t,t,n);else for(;e!==null;){if(e.tag===3){ym(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(As===null||!As.has(r))){t=Io(n,t),t=Qg(e,t,1),e=_s(e,t,1),t=Rn(),e!==null&&(yc(e,1,t),Kn(e,t));break}}e=e.return}}function i3(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Rn(),t.pingedLanes|=t.suspendedLanes&n,fn===t&&(xn&n)===n&&(ln===4||ln===3&&(xn&130023424)===xn&&500>Qt()-Np?aa(t,0):bp|=n),Kn(t,e)}function p5(t,e){e===0&&(t.mode&1?(e=bu,bu<<=1,!(bu&130023424)&&(bu=4194304)):e=1);var n=Rn();t=Hi(t,e),t!==null&&(yc(t,e,n),Kn(t,n))}function s3(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),p5(t,n)}function a3(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ke(314))}r!==null&&r.delete(e),p5(t,n)}var m5;m5=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Jn.current)Yn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Yn=!1,Gv(t,e,n);Yn=!!(t.flags&131072)}else Yn=!1,It&&e.flags&1048576&&vg(e,pd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ku(t,e),t=e.pendingProps;var i=Lo(e,Mn.current);Co(e,n),i=mp(null,e,r,t,i,n);var s=gp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Xn(r)?(s=!0,hd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,up(e),i.updater=Od,e.stateNode=i,i._reactInternals=e,u0(e,r,t,n),e=f0(null,e,r,!0,s,n)):(e.tag=0,It&&s&&rp(e),On(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ku(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=l3(r),t=Wr(r,t),i){case 0:e=h0(null,e,r,t,n);break e;case 1:e=om(null,e,r,t,n);break e;case 11:e=sm(null,e,r,t,n);break e;case 14:e=am(null,e,r,Wr(r.type,t),n);break e}throw Error(ke(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wr(r,i),h0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wr(r,i),om(t,e,r,i,n);case 3:e:{if(Kg(e),t===null)throw Error(ke(387));r=e.pendingProps,s=e.memoizedState,i=s.element,_g(t,e),yd(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Io(Error(ke(423)),e),e=lm(t,e,r,n,i);break e}else if(r!==i){i=Io(Error(ke(424)),e),e=lm(t,e,r,n,i);break e}else for(or=js(e.stateNode.containerInfo.firstChild),cr=e,It=!0,Gr=null,n=Sg(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Fo(),r===i){e=$i(t,e,n);break e}On(t,e,r,n)}e=e.child}return e;case 5:return Ag(e),t===null&&o0(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,n0(r,i)?a=null:s!==null&&n0(r,s)&&(e.flags|=32),Xg(t,e),On(t,e,a,n),e.child;case 6:return t===null&&o0(e),null;case 13:return Zg(t,e,n);case 4:return dp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=To(e,null,r,n):On(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wr(r,i),sm(t,e,r,i,n);case 7:return On(t,e,e.pendingProps,n),e.child;case 8:return On(t,e,e.pendingProps.children,n),e.child;case 12:return On(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,kt(md,r._currentValue),r._currentValue=a,s!==null)if(Jr(s.value,a)){if(s.children===i.children&&!Jn.current){e=$i(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Bi(-1,n&-n),l.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?l.next=l:(l.next=p.next,p.next=l),d.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),l0(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(ke(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),l0(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}On(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Co(e,n),i=_r(i),r=r(i),e.flags|=1,On(t,e,r,n),e.child;case 14:return r=e.type,i=Wr(r,e.pendingProps),i=Wr(r.type,i),am(t,e,r,i,n);case 15:return Yg(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wr(r,i),Ku(t,e),e.tag=1,Xn(r)?(t=!0,hd(e)):t=!1,Co(e,n),Vg(e,r,i),u0(e,r,i,n),f0(null,e,r,!0,t,n);case 19:return e5(t,e,n);case 22:return Jg(t,e,n)}throw Error(ke(156,e.tag))};function g5(t,e){return W2(t,e)}function o3(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Sr(t,e,n,r){return new o3(t,e,n,r)}function Ap(t){return t=t.prototype,!(!t||!t.isReactComponent)}function l3(t){if(typeof t=="function")return Ap(t)?1:0;if(t!=null){if(t=t.$$typeof,t===$0)return 11;if(t===V0)return 14}return 2}function Ps(t,e){var n=t.alternate;return n===null?(n=Sr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function td(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")Ap(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ho:return oa(n.children,i,s,e);case H0:a=8,i|=8;break;case If:return t=Sr(12,n,e,i|2),t.elementType=If,t.lanes=s,t;case Df:return t=Sr(13,n,e,i),t.elementType=Df,t.lanes=s,t;case Ef:return t=Sr(19,n,e,i),t.elementType=Ef,t.lanes=s,t;case A2:return Bd(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case j2:a=10;break e;case _2:a=9;break e;case $0:a=11;break e;case V0:a=14;break e;case fs:a=16,r=null;break e}throw Error(ke(130,t==null?t:typeof t,""))}return e=Sr(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function oa(t,e,n,r){return t=Sr(7,t,r,e),t.lanes=n,t}function Bd(t,e,n,r){return t=Sr(22,t,r,e),t.elementType=A2,t.lanes=n,t.stateNode={isHidden:!1},t}function uf(t,e,n){return t=Sr(6,t,null,e),t.lanes=n,t}function df(t,e,n){return e=Sr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function c3(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hh(0),this.expirationTimes=Hh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Cp(t,e,n,r,i,s,a,o,l){return t=new c3(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Sr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},up(s),t}function u3(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:uo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function y5(t){if(!t)return Ts;t=t._reactInternals;e:{if(Na(t)!==t||t.tag!==1)throw Error(ke(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Xn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ke(171))}if(t.tag===1){var n=t.type;if(Xn(n))return yg(t,n,e)}return e}function x5(t,e,n,r,i,s,a,o,l){return t=Cp(n,r,!0,t,i,s,a,o,l),t.context=y5(null),n=t.current,r=Rn(),i=Cs(n),s=Bi(r,i),s.callback=e??null,_s(n,s,i),t.current.lanes=i,yc(t,i,r),Kn(t,r),t}function qd(t,e,n,r){var i=e.current,s=Rn(),a=Cs(i);return n=y5(n),e.context===null?e.context=n:e.pendingContext=n,e=Bi(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=_s(i,e,a),t!==null&&(Yr(t,i,a,s),Yu(t,i,a)),a}function _d(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function xm(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Pp(t,e){xm(t,e),(t=t.alternate)&&xm(t,e)}function d3(){return null}var v5=typeof reportError=="function"?reportError:function(t){console.error(t)};function kp(t){this._internalRoot=t}Ud.prototype.render=kp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ke(409));qd(t,e,null,null)};Ud.prototype.unmount=kp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xa(function(){qd(null,t,null,null)}),e[Wi]=null}};function Ud(t){this._internalRoot=t}Ud.prototype.unstable_scheduleHydration=function(t){if(t){var e=J2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ms.length&&e!==0&&e<ms[n].priority;n++);ms.splice(n,0,t),n===0&&K2(t)}};function Lp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Wd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function vm(){}function h3(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var d=_d(a);s.call(d)}}var a=x5(e,r,t,0,null,!1,!1,"",vm);return t._reactRootContainer=a,t[Wi]=a.current,nc(t.nodeType===8?t.parentNode:t),xa(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var d=_d(l);o.call(d)}}var l=Cp(t,0,!1,null,null,!1,!1,"",vm);return t._reactRootContainer=l,t[Wi]=l.current,nc(t.nodeType===8?t.parentNode:t),xa(function(){qd(e,l,n,r)}),l}function Hd(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=_d(a);o.call(l)}}qd(e,a,t,i)}else a=h3(n,e,t,i,r);return _d(a)}Q2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Fl(e.pendingLanes);n!==0&&(Y0(e,n|1),Kn(e,Qt()),!(ft&6)&&(Do=Qt()+500,Os()))}break;case 13:xa(function(){var r=Hi(t,1);if(r!==null){var i=Rn();Yr(r,t,1,i)}}),Pp(t,1)}};J0=function(t){if(t.tag===13){var e=Hi(t,134217728);if(e!==null){var n=Rn();Yr(e,t,134217728,n)}Pp(t,134217728)}};Y2=function(t){if(t.tag===13){var e=Cs(t),n=Hi(t,e);if(n!==null){var r=Rn();Yr(n,t,e,r)}Pp(t,e)}};J2=function(){return bt};X2=function(t,e){var n=bt;try{return bt=t,e()}finally{bt=n}};Vf=function(t,e,n){switch(e){case"input":if(Rf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Id(r);if(!i)throw Error(ke(90));P2(r),Rf(r,i)}}}break;case"textarea":L2(t,n);break;case"select":e=n.value,e!=null&&So(t,!!n.multiple,e,!1)}};O2=Sp;z2=xa;var f3={usingClientEntryPoint:!1,Events:[vc,go,Id,D2,E2,Sp]},jl={findFiberByHostInstance:na,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},p3={bundleType:jl.bundleType,version:jl.version,rendererPackageName:jl.rendererPackageName,rendererConfig:jl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=q2(t),t===null?null:t.stateNode},findFiberByHostInstance:jl.findFiberByHostInstance||d3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Tu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Tu.isDisabled&&Tu.supportsFiber)try{Ld=Tu.inject(p3),mi=Tu}catch{}}dr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f3;dr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lp(e))throw Error(ke(200));return u3(t,e,null,n)};dr.createRoot=function(t,e){if(!Lp(t))throw Error(ke(299));var n=!1,r="",i=v5;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Cp(t,1,!1,null,null,n,!1,r,i),t[Wi]=e.current,nc(t.nodeType===8?t.parentNode:t),new kp(e)};dr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ke(188)):(t=Object.keys(t).join(","),Error(ke(268,t)));return t=q2(e),t=t===null?null:t.stateNode,t};dr.flushSync=function(t){return xa(t)};dr.hydrate=function(t,e,n){if(!Wd(e))throw Error(ke(200));return Hd(null,t,e,!0,n)};dr.hydrateRoot=function(t,e,n){if(!Lp(t))throw Error(ke(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=v5;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=x5(e,null,t,1,n??null,i,!1,s,a),t[Wi]=e.current,nc(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Ud(e)};dr.render=function(t,e,n){if(!Wd(e))throw Error(ke(200));return Hd(null,t,e,!1,n)};dr.unmountComponentAtNode=function(t){if(!Wd(t))throw Error(ke(40));return t._reactRootContainer?(xa(function(){Hd(null,null,t,!1,function(){t._reactRootContainer=null,t[Wi]=null})}),!0):!1};dr.unstable_batchedUpdates=Sp;dr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Wd(n))throw Error(ke(200));if(t==null||t._reactInternals===void 0)throw Error(ke(38));return Hd(t,e,n,!1,r)};dr.version="18.3.1-next-f1338f8080-20240426";function w5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(w5)}catch(t){console.error(t)}}w5(),w2.exports=dr;var m3=w2.exports,b5,wm=m3;b5=wm.createRoot,wm.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var g3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ct=(t,e)=>{const n=Ee.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...d},p)=>Ee.createElement("svg",{ref:p,...g3,width:i,height:i,stroke:r,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${y3(t)}`,o].join(" "),...d},[...e.map(([m,g])=>Ee.createElement(m,g)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=ct("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hf=ct("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x3=ct("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=ct("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $d=ct("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=ct("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cd=ct("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v3=ct("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=ct("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ri=ct("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w3=ct("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dc=ct("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fp=ct("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=ct("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tp=ct("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mp=ct("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=ct("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fn=ct("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=ct("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S3=ct("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fi=ct("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=ct("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=ct("Ruler",[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oo=ct("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bc=ct("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _3=ct("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=ct("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=ct("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xi=ct("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nm=ct("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=ct("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=ct("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=ct("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=ct("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sc=ct("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),k3=({activeTab:t,onTabChange:e})=>{const n=[{id:"customers",label:"Customers",icon:P3},{id:"materials",label:"Materials & Costing",icon:S5},{id:"quotations",label:"Create Quotation",icon:wa},{id:"saved-quotations",label:"Saved Quotations",icon:x3},{id:"invoices",label:"Invoices",icon:N5},{id:"orders",label:"Orders",icon:Fn}];return c.jsxs("div",{className:"w-64 bg-white shadow-lg border-r border-gray-200 h-full",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"bg-indigo-600 p-2 rounded-lg",children:c.jsx(w3,{className:"h-6 w-6 text-white"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-lg font-bold text-gray-900",children:"3D Print Pro"}),c.jsx("p",{className:"text-xs text-gray-600",children:"Management Suite"})]})]})}),c.jsx("nav",{className:"mt-6",children:n.map(r=>{const i=r.icon;return c.jsxs("button",{onClick:()=>e(r.id),className:`w-full flex items-center space-x-3 px-6 py-3 text-left transition-colors duration-200 ${t===r.id?"bg-indigo-50 text-indigo-700 border-r-2 border-indigo-600":"text-gray-700 hover:bg-gray-50"}`,children:[c.jsx(i,{className:`h-5 w-5 ${t===r.id?"text-indigo-600":"text-gray-500"}`}),c.jsx("span",{className:"font-medium",children:r.label})]},r.id)})})]})},L3=({customers:t,onEdit:e,onDelete:n,onAdd:r})=>{const[i,s]=Ee.useState(""),a=Object.entries(t).filter(([o,l])=>l.company_name.toLowerCase().includes(i.toLowerCase())||l.contact_person.toLowerCase().includes(i.toLowerCase())||l.email.toLowerCase().includes(i.toLowerCase()));return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Customer Management"}),c.jsx("p",{className:"text-gray-600",children:"Manage your customer database"})]}),c.jsxs("button",{onClick:r,className:"bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors duration-200 flex items-center space-x-2",children:[c.jsx(fi,{className:"h-4 w-4"}),c.jsx("span",{children:"Add Customer"})]})]}),c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"p-4 border-b border-gray-200",children:c.jsx("input",{type:"text",placeholder:"Search customers...",value:i,onChange:o=>s(o.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})}),c.jsx("div",{className:"divide-y divide-gray-200",children:a.map(([o,l])=>c.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors duration-200",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[c.jsx("div",{className:`p-2 rounded-lg ${l.customer_type==="Business"?"bg-blue-100":"bg-green-100"}`,children:l.customer_type==="Business"?c.jsx(Eo,{className:`h-4 w-4 ${l.customer_type==="Business"?"text-blue-600":"text-green-600"}`}):c.jsx(la,{className:"h-4 w-4 text-green-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:l.company_name}),c.jsx("p",{className:"text-sm text-gray-600",children:o})]}),c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${l.status==="Active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:l.status})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[c.jsx(la,{className:"h-4 w-4"}),c.jsx("span",{children:l.contact_person})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[c.jsx(b3,{className:"h-4 w-4"}),c.jsx("span",{children:l.email})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[c.jsx(S3,{className:"h-4 w-4"}),c.jsx("span",{children:l.phone})]}),c.jsxs("div",{className:"text-sm text-gray-600",children:[c.jsx("span",{className:"font-medium",children:"Orders:"})," ",l.total_orders," |",c.jsx("span",{className:"font-medium",children:" Spent:"})," ",l.total_spent.toLocaleString()]})]}),c.jsxs("div",{className:"mt-3",children:[c.jsxs("p",{className:"text-sm text-gray-600",children:[c.jsx("span",{className:"font-medium",children:"Preferred Technologies:"})," ",l.preferred_technologies.join(", ")]}),c.jsxs("p",{className:"text-sm text-gray-600",children:[c.jsx("span",{className:"font-medium",children:"Payment Terms:"})," ",l.payment_terms]})]})]}),c.jsxs("div",{className:"flex space-x-2 ml-4",children:[c.jsx("button",{onClick:()=>e(o),className:"p-2 text-gray-600 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors duration-200",children:c.jsx(Nc,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>n(o),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200",children:c.jsx(xi,{className:"h-4 w-4"})})]})]})},o))}),a.length===0&&c.jsxs("div",{className:"p-8 text-center text-gray-500",children:[c.jsx(la,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),c.jsx("p",{children:"No customers found"})]})]})]})},j5=({customer:t,customerId:e,onSave:n,onCancel:r})=>{const[i,s]=Ee.useState({company_name:"",gstn:"",contact_person:"",email:"",phone:"",billing_address:{street:"",city:"",state:"",pin:"",country:"India"},shipping_address:{street:"",city:"",state:"",pin:"",country:"India"},customer_type:"Business",discount_rate:0,payment_terms:"100% advance",preferred_technologies:[],total_orders:0,total_spent:0,status:"Active",notes:""}),[a,o]=Ee.useState(!0),[l,d]=Ee.useState(!1),[p,m]=Ee.useState(!1);Ee.useEffect(()=>{if(t){s(t),o(JSON.stringify(t.billing_address)===JSON.stringify(t.shipping_address));const S=!t.billing_address.street&&!t.billing_address.city&&!t.billing_address.state&&!t.billing_address.pin;d(S);const P=!t.shipping_address.street&&!t.shipping_address.city&&!t.shipping_address.state&&!t.shipping_address.pin;m(P)}},[t]);const g=(S,P)=>{s(E=>({...E,[S]:P}))},f=(S,P,E)=>{s(T=>({...T,[S]:{...T[S],[P]:E}})),S==="billing_address"&&a&&!p&&s(T=>({...T,shipping_address:{...T.billing_address,[P]:E}}))},b=S=>{o(S),S&&!l&&!p&&s(P=>({...P,shipping_address:{...P.billing_address}}))},N=S=>{d(S),S&&(s(P=>({...P,billing_address:{street:"",city:"",state:"",pin:"",country:"India"}})),o(!1))},F=S=>{m(S),S&&(s(P=>({...P,shipping_address:{street:"",city:"",state:"",pin:"",country:"India"}})),o(!1))},x=S=>{s(P=>({...P,preferred_technologies:P.preferred_technologies.includes(S)?P.preferred_technologies.filter(E=>E!==S):[...P.preferred_technologies,S]}))},w=S=>{if(S.preventDefault(),!i.contact_person.trim()){alert("Contact Person is required");return}if(!i.phone.trim()){alert("Phone number is required");return}n(i,e)},j=["FDM","SLA","SLS","MJF"];return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:t?"Edit Customer":"Add New Customer"}),c.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:c.jsx(Sc,{className:"h-5 w-5"})})]}),c.jsxs("form",{onSubmit:w,className:"p-6 space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Company Name",c.jsx("span",{className:"text-gray-500 text-xs ml-1",children:"(Optional)"})]}),c.jsx("input",{type:"text",value:i.company_name,onChange:S=>g("company_name",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter company name (optional)"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"GSTN"}),c.jsx("input",{type:"text",value:i.gstn||"",onChange:S=>g("gstn",S.target.value||null),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter GSTN (optional)"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person *"}),c.jsx("input",{type:"text",required:!0,value:i.contact_person,onChange:S=>g("contact_person",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter contact person name"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Email",c.jsx("span",{className:"text-gray-500 text-xs ml-1",children:"(Optional)"})]}),c.jsx("input",{type:"email",value:i.email,onChange:S=>g("email",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter email address (optional)"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone *"}),c.jsx("input",{type:"tel",required:!0,value:i.phone,onChange:S=>g("phone",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter phone number"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Customer Type"}),c.jsxs("select",{value:i.customer_type,onChange:S=>g("customer_type",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[c.jsx("option",{value:"Business",children:"Business"}),c.jsx("option",{value:"Individual",children:"Individual"})]})]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Billing Address",c.jsx("span",{className:"text-gray-500 text-sm ml-2",children:"(Optional)"})]}),c.jsxs("label",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"checkbox",checked:l,onChange:S=>N(S.target.checked),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),c.jsx("span",{className:"text-sm text-gray-700",children:"Skip billing address"})]})]}),!l&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address"}),c.jsx("input",{type:"text",value:i.billing_address.street,onChange:S=>f("billing_address","street",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter street address"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),c.jsx("input",{type:"text",value:i.billing_address.city,onChange:S=>f("billing_address","city",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter city"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),c.jsx("input",{type:"text",value:i.billing_address.state,onChange:S=>f("billing_address","state",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter state"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PIN Code"}),c.jsx("input",{type:"text",value:i.billing_address.pin,onChange:S=>f("billing_address","pin",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter PIN code"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),c.jsx("input",{type:"text",value:i.billing_address.country,onChange:S=>f("billing_address","country",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter country"})]})]})]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("h3",{className:"text-lg font-medium text-gray-900",children:["Shipping Address",c.jsx("span",{className:"text-gray-500 text-sm ml-2",children:"(Optional)"})]}),c.jsxs("div",{className:"flex items-center space-x-4",children:[!l&&!p&&c.jsxs("label",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"checkbox",checked:a,onChange:S=>b(S.target.checked),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),c.jsx("span",{className:"text-sm text-gray-700",children:"Same as billing address"})]}),c.jsxs("label",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"checkbox",checked:p,onChange:S=>F(S.target.checked),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),c.jsx("span",{className:"text-sm text-gray-700",children:"Skip shipping address"})]})]})]}),!p&&(!a||l)&&c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{className:"md:col-span-2",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Street Address"}),c.jsx("input",{type:"text",value:i.shipping_address.street,onChange:S=>f("shipping_address","street",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter street address"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City"}),c.jsx("input",{type:"text",value:i.shipping_address.city,onChange:S=>f("shipping_address","city",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter city"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State"}),c.jsx("input",{type:"text",value:i.shipping_address.state,onChange:S=>f("shipping_address","state",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter state"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"PIN Code"}),c.jsx("input",{type:"text",value:i.shipping_address.pin,onChange:S=>f("shipping_address","pin",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter PIN code"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Country"}),c.jsx("input",{type:"text",value:i.shipping_address.country,onChange:S=>f("shipping_address","country",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter country"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount Rate (%)"}),c.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",value:i.discount_rate*100,onChange:S=>g("discount_rate",parseFloat(S.target.value)/100),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Terms"}),c.jsxs("select",{value:i.payment_terms,onChange:S=>g("payment_terms",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[c.jsx("option",{value:"100% advance",children:"100% advance"}),c.jsx("option",{value:"60% advance and rest upon delivery",children:"60% advance and rest upon delivery"}),c.jsx("option",{value:"Payment on delivery",children:"Payment on delivery"}),c.jsx("option",{value:"Net 15",children:"Net 15"}),c.jsx("option",{value:"Net 30",children:"Net 30"}),c.jsx("option",{value:"Net 45",children:"Net 45"}),c.jsx("option",{value:"Net 60",children:"Net 60"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),c.jsxs("select",{value:i.status,onChange:S=>g("status",S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[c.jsx("option",{value:"Active",children:"Active"}),c.jsx("option",{value:"Inactive",children:"Inactive"})]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preferred Technologies"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:j.map(S=>c.jsxs("label",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"checkbox",checked:i.preferred_technologies.includes(S),onChange:()=>x(S),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),c.jsx("span",{className:"text-sm text-gray-700",children:S})]},S))})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Notes"}),c.jsx("textarea",{value:i.notes,onChange:S=>g("notes",S.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Additional notes about the customer..."})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[c.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors duration-200",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors duration-200 flex items-center space-x-2",children:[c.jsx(Oo,{className:"h-4 w-4"}),c.jsx("span",{children:t?"Update Customer":"Add Customer"})]})]})]})]})})},F3=({technologiesData:t,onEditMaterial:e,onDeleteMaterial:n,onAddMaterial:r})=>{const[i,s]=Ee.useState(""),[a,o]=Ee.useState("all"),l=Object.entries(t.technologies),d=l.filter(([p,m])=>{if(a!=="all"&&p!==a)return!1;if(!i)return!0;const g=i.toLowerCase();return m.name.toLowerCase().includes(g)||Object.values(m.materials).some(f=>f.name.toLowerCase().includes(g))});return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"flex justify-between items-center",children:c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Materials & Costing"}),c.jsx("p",{className:"text-gray-600",children:"Manage your 3D printing materials and pricing"})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"relative",children:[c.jsx(bc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),c.jsx("input",{type:"text",placeholder:"Search materials...",value:i,onChange:p=>s(p.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})}),c.jsx("div",{className:"sm:w-48",children:c.jsxs("select",{value:a,onChange:p=>o(p.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[c.jsx("option",{value:"all",children:"All Technologies"}),l.map(([p,m])=>c.jsx("option",{value:p,children:m.name},p))]})})]})}),c.jsx("div",{className:"space-y-6",children:d.map(([p,m])=>c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[c.jsx("div",{className:"p-6 border-b border-gray-200",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:m.name}),c.jsx("p",{className:"text-gray-600 mt-1",children:m.description}),c.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:[Object.keys(m.materials).length," materials available"]})]}),c.jsxs("button",{onClick:()=>r(p),className:"bg-indigo-600 text-white px-3 py-2 rounded-lg hover:bg-indigo-700 transition-colors duration-200 flex items-center space-x-2",children:[c.jsx(fi,{className:"h-4 w-4"}),c.jsx("span",{children:"Add Material"})]})]})}),c.jsxs("div",{className:"divide-y divide-gray-200",children:[Object.entries(m.materials).map(([g,f])=>c.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors duration-200",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[c.jsx("div",{className:"bg-indigo-100 p-2 rounded-lg",children:c.jsx(Fn,{className:"h-5 w-5 text-indigo-600"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-medium text-gray-900",children:f.name}),c.jsx("p",{className:"text-sm text-gray-600",children:g})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Cost per CC"}),c.jsxs("p",{className:"text-lg font-semibold text-indigo-600",children:["",f.cost_per_cc.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Properties"}),c.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[f.properties.slice(0,3).map((b,N)=>c.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 text-xs rounded-full",children:b},N)),f.properties.length>3&&c.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",f.properties.length-3," more"]})]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Available Colors"}),c.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[f.colors.slice(0,4).map((b,N)=>c.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:b},N)),f.colors.length>4&&c.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs rounded-full",children:["+",f.colors.length-4," more"]})]})]})]})]}),c.jsxs("div",{className:"flex space-x-2 ml-4",children:[c.jsx("button",{onClick:()=>e(p,g),className:"p-2 text-gray-600 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors duration-200",children:c.jsx(Nc,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>n(p,g),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200",children:c.jsx(xi,{className:"h-4 w-4"})})]})]})},g)),Object.keys(m.materials).length===0&&c.jsxs("div",{className:"p-8 text-center text-gray-500",children:[c.jsx(Fn,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),c.jsx("p",{children:"No materials found for this technology"}),c.jsx("button",{onClick:()=>r(p),className:"mt-2 text-indigo-600 hover:text-indigo-700 font-medium",children:"Add the first material"})]})]})]},p))}),d.length===0&&c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-8 text-center text-gray-500",children:[c.jsx(Fn,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),c.jsx("p",{children:"No technologies or materials found matching your search"})]})]})},T3=({material:t,materialId:e,technologyName:n,onSave:r,onCancel:i})=>{const[s,a]=Ee.useState({name:"",cost_per_cc:0,properties:[],colors:[]}),[o,l]=Ee.useState(""),[d,p]=Ee.useState("");Ee.useEffect(()=>{t&&a(t)},[t]);const m=(x,w)=>{a(j=>({...j,[x]:w}))},g=()=>{o.trim()&&!s.properties.includes(o.trim())&&(a(x=>({...x,properties:[...x.properties,o.trim()]})),l(""))},f=x=>{a(w=>({...w,properties:w.properties.filter((j,S)=>S!==x)}))},b=()=>{d.trim()&&!s.colors.includes(d.trim())&&(a(x=>({...x,colors:[...x.colors,d.trim()]})),p(""))},N=x=>{a(w=>({...w,colors:w.colors.filter((j,S)=>S!==x)}))},F=x=>{x.preventDefault(),r(s,e)};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:[t?"Edit Material":"Add New Material"," - ",n]}),c.jsx("button",{onClick:i,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:c.jsx(Sc,{className:"h-5 w-5"})})]}),c.jsxs("form",{onSubmit:F,className:"p-6 space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Material Name *"}),c.jsx("input",{type:"text",required:!0,value:s.name,onChange:x=>m("name",x.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"e.g., Polylactic Acid"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cost per CC () *"}),c.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:s.cost_per_cc,onChange:x=>m("cost_per_cc",parseFloat(x.target.value)||0),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"0.00"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Material Properties"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:o,onChange:x=>l(x.target.value),onKeyPress:x=>x.key==="Enter"&&(x.preventDefault(),g()),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Add a property (e.g., Biodegradable)"}),c.jsx("button",{type:"button",onClick:g,className:"px-3 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors duration-200",children:c.jsx(fi,{className:"h-4 w-4"})})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:s.properties.map((x,w)=>c.jsxs("div",{className:"flex items-center space-x-1 bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm",children:[c.jsx("span",{children:x}),c.jsx("button",{type:"button",onClick:()=>f(w),className:"text-blue-600 hover:text-blue-800",children:c.jsx(xi,{className:"h-3 w-3"})})]},w))})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Available Colors"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",value:d,onChange:x=>p(x.target.value),onKeyPress:x=>x.key==="Enter"&&(x.preventDefault(),b()),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Add a color (e.g., White)"}),c.jsx("button",{type:"button",onClick:b,className:"px-3 py-2 bg-indigo-600 text-white rounded-md hover:bg-indigo-700 transition-colors duration-200",children:c.jsx(fi,{className:"h-4 w-4"})})]}),c.jsx("div",{className:"flex flex-wrap gap-2",children:s.colors.map((x,w)=>c.jsxs("div",{className:"flex items-center space-x-1 bg-green-100 text-green-800 px-3 py-1 rounded-full text-sm",children:[c.jsx("span",{children:x}),c.jsx("button",{type:"button",onClick:()=>N(w),className:"text-green-600 hover:text-green-800",children:c.jsx(xi,{className:"h-3 w-3"})})]},w))})]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[c.jsx("button",{type:"button",onClick:i,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors duration-200",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors duration-200 flex items-center space-x-2",children:[c.jsx(Oo,{className:"h-4 w-4"}),c.jsx("span",{children:t?"Update Material":"Add Material"})]})]})]})]})})},M3=({customers:t,selectedCustomerId:e,onSelectCustomer:n,onAddNewCustomer:r})=>{const[i,s]=Ee.useState(""),[a,o]=Ee.useState(!1),l=Object.entries(t).filter(([N,F])=>F.company_name.toLowerCase().includes(i.toLowerCase())||F.contact_person.toLowerCase().includes(i.toLowerCase())||F.email.toLowerCase().includes(i.toLowerCase())),d=e?t[e]:null,p=N=>{n(N),o(!1),s("")},m=N=>{N.stopPropagation(),N.preventDefault(),n(""),o(!1)},g=N=>{N.stopPropagation(),N.preventDefault(),o(!a)},f=N=>{N.stopPropagation(),N.preventDefault()},b=N=>{N.stopPropagation(),N.preventDefault(),o(!1),r&&r()};return c.jsxs("div",{className:"relative z-50",onClick:f,children:[c.jsx("div",{className:"mb-2",children:c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Customer *"})}),d?c.jsx("div",{className:"bg-white border border-gray-300 rounded-lg p-4 cursor-pointer hover:bg-gray-50 transition-colors duration-200",onClick:g,children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:`p-2 rounded-lg ${d.customer_type==="Business"?"bg-blue-100":"bg-green-100"}`,children:d.customer_type==="Business"?c.jsx(Eo,{className:"h-4 w-4 text-blue-600"}):c.jsx(la,{className:"h-4 w-4 text-green-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium text-gray-900",children:d.company_name}),c.jsx("p",{className:"text-sm text-gray-600",children:d.contact_person}),c.jsx("p",{className:"text-sm text-gray-500",children:d.email}),c.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Delivery: ",d.shipping_address.city,", ",d.shipping_address.state]})]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(bm,{className:"h-5 w-5 text-green-600"}),c.jsx("button",{onClick:m,className:"p-1 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded transition-colors duration-200",title:"Clear selection",type:"button",children:c.jsx(Sc,{className:"h-4 w-4"})})]})]})}):c.jsx("button",{type:"button",onClick:g,className:"w-full bg-white border border-gray-300 rounded-lg p-4 text-left hover:bg-gray-50 transition-colors duration-200",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"bg-gray-100 p-2 rounded-lg",children:c.jsx(la,{className:"h-4 w-4 text-gray-400"})}),c.jsx("span",{className:"text-gray-500",children:"Click to select a customer"})]})}),a&&c.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-300 rounded-lg shadow-lg z-50 max-h-96 overflow-hidden",children:[c.jsx("div",{className:"p-3 border-b border-gray-200",children:c.jsxs("div",{className:"relative",children:[c.jsx(bc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),c.jsx("input",{type:"text",placeholder:"Search customers...",value:i,onChange:N=>s(N.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent",autoFocus:!0,onClick:N=>N.stopPropagation()})]})}),r&&c.jsx("div",{className:"p-3 border-b border-gray-200 bg-indigo-50",children:c.jsxs("button",{type:"button",onClick:b,className:"w-full flex items-center space-x-3 p-3 text-left hover:bg-indigo-100 transition-colors duration-200 rounded-lg border-2 border-dashed border-indigo-300",children:[c.jsx("div",{className:"bg-indigo-100 p-2 rounded-lg",children:c.jsx(fi,{className:"h-4 w-4 text-indigo-600"})}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-medium text-indigo-900",children:"Add New Customer"}),c.jsx("p",{className:"text-sm text-indigo-700",children:"Create a new customer profile"})]})]})}),c.jsx("div",{className:"max-h-64 overflow-y-auto",children:l.map(([N,F])=>c.jsx("button",{type:"button",onClick:()=>p(N),className:"w-full p-3 text-left hover:bg-gray-50 transition-colors duration-200 border-b border-gray-100 last:border-b-0",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:`p-2 rounded-lg ${F.customer_type==="Business"?"bg-blue-100":"bg-green-100"}`,children:F.customer_type==="Business"?c.jsx(Eo,{className:"h-4 w-4 text-blue-600"}):c.jsx(la,{className:"h-4 w-4 text-green-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"font-medium text-gray-900",children:F.company_name}),c.jsx("p",{className:"text-sm text-gray-600",children:F.contact_person}),c.jsx("p",{className:"text-sm text-gray-500",children:F.email}),c.jsxs("p",{className:"text-xs text-gray-500",children:[F.shipping_address.city,", ",F.shipping_address.state]})]}),N===e&&c.jsx(bm,{className:"h-4 w-4 text-green-600"})]})},N))}),l.length===0&&!i&&c.jsx("div",{className:"p-4 text-center text-gray-500",children:"No customers found"}),l.length===0&&i&&c.jsxs("div",{className:"p-4 text-center text-gray-500",children:[c.jsxs("p",{children:['No customers found matching "',i,'"']}),r&&c.jsxs("button",{type:"button",onClick:b,className:"mt-2 text-indigo-600 hover:text-indigo-700 font-medium text-sm",children:['Add "',i,'" as new customer']})]}),c.jsx("div",{className:"p-3 border-t border-gray-200",children:c.jsx("button",{type:"button",onClick:()=>o(!1),className:"w-full px-3 py-2 text-sm text-gray-600 hover:text-gray-800 transition-colors duration-200",children:"Cancel"})})]})]})},I3=({onFilesSelected:t,isProcessing:e})=>{const n=Ee.useCallback(a=>{a.preventDefault(),a.stopPropagation();const l=Array.from(a.dataTransfer.files).filter(d=>{var m;const p=(m=d.name.split(".").pop())==null?void 0:m.toLowerCase();return["stl","step","stp","iges","igs"].includes(p||"")});l.length>0&&t(l)},[t]),r=Ee.useCallback(a=>{a.preventDefault(),a.stopPropagation()},[]),i=Ee.useCallback(a=>{a.stopPropagation();const o=Array.from(a.target.files||[]);o.length>0&&t(o),a.target.value=""},[t]),s=Ee.useCallback(a=>{if(a.stopPropagation(),!e){const o=a.currentTarget.querySelector('input[type="file"]');o&&o.click()}},[e]);return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload 3D Files"}),c.jsx("div",{onDrop:n,onDragOver:r,onClick:s,className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors duration-200 relative ${e?"border-gray-300 bg-gray-50 cursor-not-allowed":"border-gray-300 hover:border-indigo-400 hover:bg-indigo-50 cursor-pointer"}`,children:c.jsxs("div",{className:"flex flex-col items-center space-y-4",children:[e?c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"}):c.jsx(C3,{className:"h-12 w-12 text-gray-400"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-lg font-medium text-gray-900",children:e?"Processing files...":"Drop your 3D files here"}),c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:e?"Please wait while we analyze your files":"or click to browse files"})]}),c.jsx("input",{type:"file",multiple:!0,accept:".stl,.step,.stp,.iges,.igs",onChange:i,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",style:{pointerEvents:e?"none":"auto"},onClick:a=>a.stopPropagation()})]})})]}),c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx(wa,{className:"h-5 w-5 text-blue-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium text-blue-900",children:"Supported File Types"}),c.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"STL, STEP (.step, .stp), IGES (.iges, .igs)"})]})]})}),c.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx(Ad,{className:"h-5 w-5 text-amber-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium text-amber-900",children:"Note"}),c.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"STEP and IGES files will show estimated dimensions. For accurate pricing, STL files are recommended."})]})]})})]})},Vr={name:"Dexterous Manufacturing Labs Pvt Ltd",gstn:"29AAGCD4100R2ZC",address:{city:"Bangalore",state:"Karnataka"}};function zn(t,e){if(e.shipping_address.state.toLowerCase()==="karnataka"){const i=t*.09,s=t*.09;return{cgst:i,sgst:s,igst:0,total:i+s,type:"INTRASTATE"}}else{const i=t*.18;return{cgst:0,sgst:0,igst:i,total:i,type:"INTERSTATE"}}}function _5(t){return t.type==="INTRASTATE"?`CGST (9%): ${t.cgst.toFixed(2)}, SGST (9%): ${t.sgst.toFixed(2)}`:`IGST (18%): ${t.igst.toFixed(2)}`}const D3=({technologiesData:t,customer:e,onSave:n,onCancel:r,nextSerialNumber:i})=>{const[s,a]=Ee.useState({partName:"",volume:"",quantity:1,technology:"",material:"",comments:""}),[o,l]=Ee.useState({}),d=Object.entries(t.technologies),p=s.technology?t.technologies[s.technology]:null,m=p?Object.entries(p.materials):[],g=s.technology&&s.material?t.technologies[s.technology].materials[s.material]:null,f=(P,E)=>{a(T=>({...T,[P]:E})),o[P]&&l(T=>({...T,[P]:""})),P==="technology"&&a(T=>({...T,material:""}))},b=()=>{const P={};return s.partName.trim()||(P.partName="Part name is required"),(!s.volume||parseFloat(s.volume)<=0)&&(P.volume="Volume must be greater than 0"),s.quantity<=0&&(P.quantity="Quantity must be greater than 0"),s.technology||(P.technology="Technology is required"),s.material||(P.material="Material is required"),l(P),Object.keys(P).length===0},N=P=>{if(P.preventDefault(),!b()||!e||!g)return;console.log("Manual part form data:",{technology:s.technology,material:s.material,selectedMaterial:g});const E=parseFloat(s.volume),T=E*g.cost_per_cc,k=T*s.quantity,z=zn(k,e),V=k+z.total,A={id:`manual_part_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,serialNumber:i,fileName:s.partName,fileType:"manual",volume:E,boundingBox:null,technology:s.technology,material:s.material,quantity:s.quantity,unitPrice:T,totalPrice:k,gstAmount:z.total,finalPrice:V,file:void 0,selected:!1,comments:s.comments||void 0};n(A)},F=parseFloat(s.volume)||0,x=g&&F>0?F*g.cost_per_cc:0,w=x*s.quantity,j=e&&w>0?zn(w,e):null,S=w+((j==null?void 0:j.total)||0);return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"bg-indigo-100 p-2 rounded-lg",children:c.jsx(Fn,{className:"h-5 w-5 text-indigo-600"})}),c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Add Part Manually"})]}),c.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:c.jsx(Sc,{className:"h-5 w-5"})})]}),c.jsxs("form",{onSubmit:N,className:"p-6 space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Part Name *"}),c.jsx("input",{type:"text",value:s.partName,onChange:P=>f("partName",P.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 ${o.partName?"border-red-300":"border-gray-300"}`,placeholder:"Enter part name"}),o.partName&&c.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.partName})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Volume (cm) *"}),c.jsx("input",{type:"number",min:"0.01",step:"0.01",value:s.volume,onChange:P=>f("volume",P.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 ${o.volume?"border-red-300":"border-gray-300"}`,placeholder:"0.00"}),o.volume&&c.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.volume})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Technology *"}),c.jsxs("select",{value:s.technology,onChange:P=>f("technology",P.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 ${o.technology?"border-red-300":"border-gray-300"}`,children:[c.jsx("option",{value:"",children:"Select Technology"}),d.map(([P,E])=>c.jsx("option",{value:P,children:E.name},P))]}),o.technology&&c.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.technology})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Material *"}),c.jsxs("select",{value:s.material,onChange:P=>f("material",P.target.value),disabled:!s.technology,className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 disabled:bg-gray-100 disabled:cursor-not-allowed ${o.material?"border-red-300":"border-gray-300"}`,children:[c.jsx("option",{value:"",children:"Select Material"}),m.map(([P,E])=>c.jsxs("option",{value:P,children:[E.name," - ",E.cost_per_cc.toFixed(2),"/cm"]},P))]}),o.material&&c.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.material})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity *"}),c.jsx("input",{type:"number",min:"1",value:s.quantity,onChange:P=>f("quantity",parseInt(P.target.value)||1),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 ${o.quantity?"border-red-300":"border-gray-300"}`}),o.quantity&&c.jsx("p",{className:"text-red-500 text-xs mt-1",children:o.quantity})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Comments",c.jsx("span",{className:"text-gray-500 text-xs ml-1",children:"(Optional)"})]}),c.jsx("textarea",{value:s.comments,onChange:P=>f("comments",P.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Add specific requirements, painting color, heat inserts, delivery instructions, etc..."}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"These comments will appear on the quotation and invoice PDFs"})]}),g&&F>0&&c.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4",children:[c.jsx("h4",{className:"text-sm font-medium text-indigo-900 mb-3",children:"Pricing Preview"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-indigo-700",children:"Unit Price"}),c.jsxs("p",{className:"text-lg font-semibold text-indigo-900",children:["",x.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-indigo-700",children:"Base Total"}),c.jsxs("p",{className:"text-lg font-semibold text-indigo-900",children:["",w.toFixed(2)]})]})]}),j&&e&&c.jsxs("div",{className:"border-t border-indigo-200 pt-3",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-2",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-indigo-700",children:"GST (18%)"}),c.jsxs("p",{className:"text-sm font-medium text-indigo-800",children:["",j.total.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-indigo-700",children:"Final Price"}),c.jsxs("p",{className:"text-lg font-bold text-indigo-900",children:["",S.toFixed(2)]})]})]}),c.jsx("p",{className:"text-xs text-indigo-600",children:j.type==="INTRASTATE"?`CGST (9%): ${j.cgst.toFixed(2)}, SGST (9%): ${j.sgst.toFixed(2)}`:`IGST (18%): ${j.igst.toFixed(2)}`})]}),c.jsxs("div",{className:"mt-2 text-xs text-indigo-600",children:[F.toFixed(2)," cm  ",g.cost_per_cc.toFixed(2),"/cm  ",s.quantity," qty"]})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[c.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors duration-200",children:"Cancel"}),c.jsxs("button",{type:"submit",disabled:!e,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors duration-200 flex items-center space-x-2",children:[c.jsx(Oo,{className:"h-4 w-4"}),c.jsx("span",{children:"Add Part"})]})]}),!e&&c.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:c.jsx("p",{className:"text-sm text-yellow-800",children:"Please select a customer first to calculate pricing and GST."})})]})]})})},E3=({part:t,technologiesData:e,customer:n,onUpdatePart:r,onDeletePart:i,onToggleSelect:s,selectedParts:a,onBulkUpdate:o})=>{var j;const l=Object.entries(e.technologies),d=t.technology?e.technologies[t.technology]:null,p=d?Object.entries(d.materials):[],m=t.technology&&t.material?e.technologies[t.technology].materials[t.material]:null,g=t.selected||!1,f=a.length>1,b=S=>{if(console.log("Technology change for part:",t.id,"to:",S),f&&g&&o){const P=a.map(T=>T.id);console.log("Applying technology change to multiple parts:",P),o(P,{technology:S,material:void 0,unitPrice:0,totalPrice:0,gstAmount:0,finalPrice:0})}else{const P={technology:S,material:void 0,unitPrice:0,totalPrice:0,gstAmount:0,finalPrice:0};r(t.id,P)}},N=S=>{if(console.log("Material change for part:",t.id,"to:",S),!(!t.technology||!n))if(f&&g&&o){const P=a.map(T=>T.id);console.log("Applying material change to multiple parts:",P),o(P,{material:S})}else{const P=e.technologies[t.technology].materials[S],E=t.volume*P.cost_per_cc,T=E*t.quantity,k=zn(T,n),z=T+k.total,V={material:S,unitPrice:E,totalPrice:T,gstAmount:k.total,finalPrice:z};r(t.id,V)}},F=S=>{if(console.log("Quantity change for part:",t.id,"to:",S),f&&g&&o){const P=a.map(T=>T.id);console.log("Applying quantity change to multiple parts:",P),o(P,{quantity:S})}else{const P=t.unitPrice*S;let E=0,T=P;n&&P>0&&(E=zn(P,n).total,T=P+E);const k={quantity:S,totalPrice:P,gstAmount:E,finalPrice:T};r(t.id,k)}},x=()=>{if(f&&g){const S=a.map(P=>P.id);window.confirm(`Are you sure you want to delete ${S.length} selected parts?`)&&S.forEach(P=>i(P))}else window.confirm("Are you sure you want to delete this part?")&&i(t.id)},w=n&&t.totalPrice>0?zn(t.totalPrice,n):null;return c.jsxs("div",{className:`bg-white border rounded-lg p-6 hover:shadow-md transition-all duration-200 ${t.selected?"border-indigo-500 bg-indigo-50 ring-2 ring-indigo-200":"border-gray-200"}`,children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-4",children:[c.jsx("input",{type:"checkbox",checked:t.selected||!1,onChange:()=>s(t.id),className:"rounded border-gray-300 text-indigo-600 focus:ring-indigo-500"}),c.jsxs("div",{className:"bg-gray-100 px-2 py-1 rounded text-xs font-medium text-gray-600",children:["#",t.serialNumber]}),c.jsx("div",{className:"bg-indigo-100 p-3 rounded-lg",children:c.jsx(Fn,{className:"h-8 w-8 text-indigo-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-gray-900",children:t.fileName}),c.jsx("p",{className:"text-sm text-gray-500",children:t.fileType==="manual"?"Manual Entry":`${t.fileType.toUpperCase()} File`}),f&&g&&c.jsxs("p",{className:"text-xs text-indigo-600 font-medium",children:[t.technology," - ",t.material,((j=e.technologies[t.technology])==null?void 0:j.materials[t.material])&&c.jsxs("span",{className:"block text-xs text-gray-500",children:["(",e.technologies[t.technology].materials[t.material].name,")"]})]})]})]}),c.jsx("button",{type:"button",onClick:x,className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200",title:f&&g?`Delete ${a.length} selected parts`:"Delete this part",children:c.jsx(xi,{className:"h-4 w-4"})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4 p-3 bg-gray-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx($d,{className:"h-4 w-4 text-gray-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Volume"}),c.jsxs("p",{className:"text-sm font-medium",children:[t.volume.toFixed(2)," cm"]})]})]}),t.boundingBox?c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(j3,{className:"h-4 w-4 text-gray-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Bounding Box"}),c.jsxs("p",{className:"text-sm font-medium",children:[t.boundingBox.x.toFixed(1),"  ",t.boundingBox.y.toFixed(1),"  ",t.boundingBox.z.toFixed(1)," mm"]})]})]}):c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Fn,{className:"h-4 w-4 text-gray-500"}),c.jsxs("div",{children:[c.jsx("p",{className:"text-xs text-gray-500",children:"Entry Type"}),c.jsx("p",{className:"text-sm font-medium",children:"Manual Entry"})]})]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Technology",f&&g&&c.jsxs("span",{className:"text-xs text-indigo-600 ml-1",children:["(affects ",a.length," parts)"]})]}),c.jsxs("select",{value:t.technology||"",onChange:S=>b(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[c.jsx("option",{value:"",children:"Select Technology"}),l.map(([S,P])=>c.jsx("option",{value:S,children:P.name},S))]})]}),t.technology&&c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Material",f&&g&&c.jsxs("span",{className:"text-xs text-indigo-600 ml-1",children:["(affects ",a.length," parts)"]})]}),c.jsxs("select",{value:t.material||"",onChange:S=>N(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[c.jsx("option",{value:"",children:"Select Material"}),p.map(([S,P])=>c.jsxs("option",{value:S,children:[P.name," - ",P.cost_per_cc.toFixed(2),"/cm"]},S))]})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Comments",c.jsx("span",{className:"text-gray-500 text-xs ml-1",children:"(Optional)"})]}),c.jsx("textarea",{value:t.comments||"",onChange:S=>r(t.id,{comments:S.target.value}),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Add specific requirements, painting color, heat inserts, etc..."}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"These comments will appear on the quotation and invoice PDFs"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Quantity",f&&g&&c.jsxs("span",{className:"text-xs text-indigo-600 ml-1",children:["(affects ",a.length," parts)"]})]}),c.jsx("input",{type:"number",min:"1",value:t.quantity,onChange:S=>F(parseInt(S.target.value)||1),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),m&&c.jsxs("div",{className:"bg-indigo-50 border border-indigo-200 rounded-lg p-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-3",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-indigo-700",children:"Unit Price"}),c.jsxs("p",{className:"text-lg font-semibold text-indigo-900",children:["",t.unitPrice.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-indigo-700",children:"Base Total"}),c.jsxs("p",{className:"text-lg font-semibold text-indigo-900",children:["",t.totalPrice.toFixed(2)]})]})]}),w&&c.jsxs("div",{className:"border-t border-indigo-200 pt-3",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-2",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-indigo-700",children:"GST (18%)"}),c.jsxs("p",{className:"text-sm font-medium text-indigo-800",children:["",t.gstAmount.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm text-indigo-700",children:"Final Price"}),c.jsxs("p",{className:"text-lg font-bold text-indigo-900",children:["",t.finalPrice.toFixed(2)]})]})]}),c.jsx("p",{className:"text-xs text-indigo-600",children:_5(w)})]}),c.jsxs("div",{className:"mt-2 text-xs text-indigo-600",children:[t.volume.toFixed(2)," cm  ",m.cost_per_cc.toFixed(2),"/cm  ",t.quantity," qty"]})]})]})]})},O3="modulepreload",z3=function(t){return"/"+t},Sm={},_0=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=z3(l),l in Sm)return;Sm[l]=!0;const d=l.endsWith(".css"),p=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${p}`))return;const m=document.createElement("link");if(m.rel=d?"stylesheet":O3,d||(m.as="script"),m.crossOrigin="",m.href=l,o&&m.setAttribute("nonce",o),document.head.appendChild(m),d)return new Promise((g,f)=>{m.addEventListener("load",g),m.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function wt(t){"@babel/helpers - typeof";return wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wt(t)}var Tn=Uint8Array,lr=Uint16Array,Ip=Int32Array,Vd=new Tn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Gd=new Tn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),A0=new Tn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),A5=function(t,e){for(var n=new lr(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new Ip(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},C5=A5(Vd,2),P5=C5.b,C0=C5.r;P5[28]=258,C0[258]=28;var k5=A5(Gd,0),R3=k5.b,jm=k5.r,P0=new lr(32768);for(var Ft=0;Ft<32768;++Ft){var ls=(Ft&43690)>>1|(Ft&21845)<<1;ls=(ls&52428)>>2|(ls&13107)<<2,ls=(ls&61680)>>4|(ls&3855)<<4,P0[Ft]=((ls&65280)>>8|(ls&255)<<8)>>1}var yi=function(t,e,n){for(var r=t.length,i=0,s=new lr(e);i<r;++i)t[i]&&++s[t[i]-1];var a=new lr(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(n){o=new lr(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var d=i<<4|t[i],p=e-t[i],m=a[t[i]-1]++<<p,g=m|(1<<p)-1;m<=g;++m)o[P0[m]>>l]=d}else for(o=new lr(r),i=0;i<r;++i)t[i]&&(o[i]=P0[a[t[i]-1]++]>>15-t[i]);return o},Ms=new Tn(288);for(var Ft=0;Ft<144;++Ft)Ms[Ft]=8;for(var Ft=144;Ft<256;++Ft)Ms[Ft]=9;for(var Ft=256;Ft<280;++Ft)Ms[Ft]=7;for(var Ft=280;Ft<288;++Ft)Ms[Ft]=8;var hc=new Tn(32);for(var Ft=0;Ft<32;++Ft)hc[Ft]=5;var B3=yi(Ms,9,0),q3=yi(Ms,9,1),U3=yi(hc,5,0),W3=yi(hc,5,1),ff=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},Rr=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},pf=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},Dp=function(t){return(t+7)/8|0},L5=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Tn(t.subarray(e,n))},H3=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Hr=function(t,e,n){var r=new Error(e||H3[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,Hr),!n)throw r;return r},$3=function(t,e,n,r){var i=t.length,s=0;if(!i||e.f&&!e.l)return n||new Tn(0);var a=!n,o=a||e.i!=2,l=e.i;a&&(n=new Tn(i*3));var d=function(ge){var we=n.length;if(ge>we){var Se=new Tn(Math.max(we*2,ge));Se.set(n),n=Se}},p=e.f||0,m=e.p||0,g=e.b||0,f=e.l,b=e.d,N=e.m,F=e.n,x=i*8;do{if(!f){p=Rr(t,m,1);var w=Rr(t,m+1,3);if(m+=3,w)if(w==1)f=q3,b=W3,N=9,F=5;else if(w==2){var E=Rr(t,m,31)+257,T=Rr(t,m+10,15)+4,k=E+Rr(t,m+5,31)+1;m+=14;for(var z=new Tn(k),V=new Tn(19),A=0;A<T;++A)V[A0[A]]=Rr(t,m+A*3,7);m+=T*3;for(var _=ff(V),R=(1<<_)-1,B=yi(V,_,1),A=0;A<k;){var ae=B[Rr(t,m,R)];m+=ae&15;var j=ae>>4;if(j<16)z[A++]=j;else{var H=0,Y=0;for(j==16?(Y=3+Rr(t,m,3),m+=2,H=z[A-1]):j==17?(Y=3+Rr(t,m,7),m+=3):j==18&&(Y=11+Rr(t,m,127),m+=7);Y--;)z[A++]=H}}var W=z.subarray(0,E),G=z.subarray(E);N=ff(W),F=ff(G),f=yi(W,N,1),b=yi(G,F,1)}else Hr(1);else{var j=Dp(m)+4,S=t[j-4]|t[j-3]<<8,P=j+S;if(P>i){l&&Hr(0);break}o&&d(g+S),n.set(t.subarray(j,P),g),e.b=g+=S,e.p=m=P*8,e.f=p;continue}if(m>x){l&&Hr(0);break}}o&&d(g+131072);for(var te=(1<<N)-1,le=(1<<F)-1,L=m;;L=m){var H=f[pf(t,m)&te],U=H>>4;if(m+=H&15,m>x){l&&Hr(0);break}if(H||Hr(2),U<256)n[g++]=U;else if(U==256){L=m,f=null;break}else{var Q=U-254;if(U>264){var A=U-257,K=Vd[A];Q=Rr(t,m,(1<<K)-1)+P5[A],m+=K}var ee=b[pf(t,m)&le],ce=ee>>4;ee||Hr(3),m+=ee&15;var G=R3[ce];if(ce>3){var K=Gd[ce];G+=pf(t,m)&(1<<K)-1,m+=K}if(m>x){l&&Hr(0);break}o&&d(g+131072);var he=g+Q;if(g<G){var fe=s-G,Ae=Math.min(G,he);for(fe+g<0&&Hr(3);g<Ae;++g)n[g]=r[fe+g]}for(;g<he;++g)n[g]=n[g-G]}}e.l=f,e.p=L,e.b=g,e.f=p,f&&(p=1,e.m=N,e.d=b,e.n=F)}while(!p);return g!=n.length&&a?L5(n,0,g):n.subarray(0,g)},Fi=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},_l=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},mf=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:T5,l:0};if(i==1){var a=new Tn(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(P,E){return P.f-E.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],d=0,p=1,m=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};p!=i-1;)o=n[n[d].f<n[m].f?d++:m++],l=n[d!=p&&n[d].f<n[m].f?d++:m++],n[p++]={s:-1,f:o.f+l.f,l:o,r:l};for(var g=s[0].s,r=1;r<i;++r)s[r].s>g&&(g=s[r].s);var f=new lr(g+1),b=k0(n[p-1],f,0);if(b>e){var r=0,N=0,F=b-e,x=1<<F;for(s.sort(function(E,T){return f[T.s]-f[E.s]||E.f-T.f});r<i;++r){var w=s[r].s;if(f[w]>e)N+=x-(1<<b-f[w]),f[w]=e;else break}for(N>>=F;N>0;){var j=s[r].s;f[j]<e?N-=1<<e-f[j]++-1:++r}for(;r>=0&&N;--r){var S=s[r].s;f[S]==e&&(--f[S],++N)}b=e}return{t:new Tn(f),l:b}},k0=function(t,e,n){return t.s==-1?Math.max(k0(t.l,e,n+1),k0(t.r,e,n+1)):e[t.s]=n},_m=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new lr(++e),r=0,i=t[0],s=1,a=function(l){n[r++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:n.subarray(0,r),n:e}},Al=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},F5=function(t,e,n){var r=n.length,i=Dp(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},Am=function(t,e,n,r,i,s,a,o,l,d,p){Fi(e,p++,n),++i[256];for(var m=mf(i,15),g=m.t,f=m.l,b=mf(s,15),N=b.t,F=b.l,x=_m(g),w=x.c,j=x.n,S=_m(N),P=S.c,E=S.n,T=new lr(19),k=0;k<w.length;++k)++T[w[k]&31];for(var k=0;k<P.length;++k)++T[P[k]&31];for(var z=mf(T,7),V=z.t,A=z.l,_=19;_>4&&!V[A0[_-1]];--_);var R=d+5<<3,B=Al(i,Ms)+Al(s,hc)+a,ae=Al(i,g)+Al(s,N)+a+14+3*_+Al(T,V)+2*T[16]+3*T[17]+7*T[18];if(l>=0&&R<=B&&R<=ae)return F5(e,p,t.subarray(l,l+d));var H,Y,W,G;if(Fi(e,p,1+(ae<B)),p+=2,ae<B){H=yi(g,f,0),Y=g,W=yi(N,F,0),G=N;var te=yi(V,A,0);Fi(e,p,j-257),Fi(e,p+5,E-1),Fi(e,p+10,_-4),p+=14;for(var k=0;k<_;++k)Fi(e,p+3*k,V[A0[k]]);p+=3*_;for(var le=[w,P],L=0;L<2;++L)for(var U=le[L],k=0;k<U.length;++k){var Q=U[k]&31;Fi(e,p,te[Q]),p+=V[Q],Q>15&&(Fi(e,p,U[k]>>5&127),p+=U[k]>>12)}}else H=B3,Y=Ms,W=U3,G=hc;for(var k=0;k<o;++k){var K=r[k];if(K>255){var Q=K>>18&31;_l(e,p,H[Q+257]),p+=Y[Q+257],Q>7&&(Fi(e,p,K>>23&31),p+=Vd[Q]);var ee=K&31;_l(e,p,W[ee]),p+=G[ee],ee>3&&(_l(e,p,K>>5&8191),p+=Gd[ee])}else _l(e,p,H[K]),p+=Y[K]}return _l(e,p,H[256]),p+Y[256]},V3=new Ip([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),T5=new Tn(0),G3=function(t,e,n,r,i,s){var a=s.z||t.length,o=new Tn(r+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(r,o.length-i),d=s.l,p=(s.r||0)&7;if(e){p&&(l[0]=s.r>>3);for(var m=V3[e-1],g=m>>13,f=m&8191,b=(1<<n)-1,N=s.p||new lr(32768),F=s.h||new lr(b+1),x=Math.ceil(n/3),w=2*x,j=function(Le){return(t[Le]^t[Le+1]<<x^t[Le+2]<<w)&b},S=new Ip(25e3),P=new lr(288),E=new lr(32),T=0,k=0,z=s.i||0,V=0,A=s.w||0,_=0;z+2<a;++z){var R=j(z),B=z&32767,ae=F[R];if(N[B]=ae,F[R]=B,A<=z){var H=a-z;if((T>7e3||V>24576)&&(H>423||!d)){p=Am(t,l,0,S,P,E,k,V,_,z-_,p),V=T=k=0,_=z;for(var Y=0;Y<286;++Y)P[Y]=0;for(var Y=0;Y<30;++Y)E[Y]=0}var W=2,G=0,te=f,le=B-ae&32767;if(H>2&&R==j(z-le))for(var L=Math.min(g,H)-1,U=Math.min(32767,z),Q=Math.min(258,H);le<=U&&--te&&B!=ae;){if(t[z+W]==t[z+W-le]){for(var K=0;K<Q&&t[z+K]==t[z+K-le];++K);if(K>W){if(W=K,G=le,K>L)break;for(var ee=Math.min(le,K-2),ce=0,Y=0;Y<ee;++Y){var he=z-le+Y&32767,fe=N[he],Ae=he-fe&32767;Ae>ce&&(ce=Ae,ae=he)}}}B=ae,ae=N[B],le+=B-ae&32767}if(G){S[V++]=268435456|C0[W]<<18|jm[G];var ge=C0[W]&31,we=jm[G]&31;k+=Vd[ge]+Gd[we],++P[257+ge],++E[we],A=z+W,++T}else S[V++]=t[z],++P[t[z]]}}for(z=Math.max(z,A);z<a;++z)S[V++]=t[z],++P[t[z]];p=Am(t,l,d,S,P,E,k,V,_,z-_,p),d||(s.r=p&7|l[p/8|0]<<3,p-=7,s.h=F,s.p=N,s.i=z,s.w=A)}else{for(var z=s.w||0;z<a+d;z+=65535){var Se=z+65535;Se>=a&&(l[p/8|0]=d,Se=a),p=F5(l,p+1,t.subarray(z,Se))}s.i=a}return L5(o,0,r+Dp(p)+i)},M5=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=r+=n[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},Q3=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Tn(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return G3(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},I5=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},Y3=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=M5();i.p(e.dictionary),I5(t,2,i.d())}},J3=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Hr(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&Hr(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function L0(t,e){e||(e={});var n=M5();n.p(t);var r=Q3(t,e,e.dictionary?6:2,4);return Y3(r,e),I5(r,r.length-4,n.d()),r}function X3(t,e){return $3(t.subarray(J3(t,e),-4),{i:2},e,e)}var K3=typeof TextDecoder<"u"&&new TextDecoder,Z3=0;try{K3.decode(T5,{stream:!0}),Z3=1}catch{}var Qe=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function gf(){Qe.console&&typeof Qe.console.log=="function"&&Qe.console.log.apply(Qe.console,arguments)}var At={log:gf,warn:function(t){Qe.console&&(typeof Qe.console.warn=="function"?Qe.console.warn.apply(Qe.console,arguments):gf.call(null,arguments))},error:function(t){Qe.console&&(typeof Qe.console.error=="function"?Qe.console.error.apply(Qe.console,arguments):gf(t))}};function yf(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){ta(r.response,e,n)},r.onerror=function(){At.error("could not download file")},r.send()}function Cm(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Mu(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Ul,F0,ta=Qe.saveAs||((typeof window>"u"?"undefined":wt(window))!=="object"||window!==Qe?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Qe.URL||Qe.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?Cm(i.href)?yf(t,e,n):Mu(i,i.target="_blank"):Mu(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Mu(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(Cm(t))yf(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Mu(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:wt(s)!=="object"&&(At.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return yf(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(Qe.HTMLElement)||Qe.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":wt(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var p=o.result;p=a?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=p:location=p,r=null},o.readAsDataURL(t)}else{var l=Qe.URL||Qe.webkitURL,d=l.createObjectURL(t);r?r.location=d:location.href=d,r=null,setTimeout(function(){l.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function D5(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),d=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),d.length==1&&(d="0"+d),"#"+o+l+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function xf(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=_n(n,r,i,s,e[0],7,-680876936),s=_n(s,n,r,i,e[1],12,-389564586),i=_n(i,s,n,r,e[2],17,606105819),r=_n(r,i,s,n,e[3],22,-1044525330),n=_n(n,r,i,s,e[4],7,-176418897),s=_n(s,n,r,i,e[5],12,1200080426),i=_n(i,s,n,r,e[6],17,-1473231341),r=_n(r,i,s,n,e[7],22,-45705983),n=_n(n,r,i,s,e[8],7,1770035416),s=_n(s,n,r,i,e[9],12,-1958414417),i=_n(i,s,n,r,e[10],17,-42063),r=_n(r,i,s,n,e[11],22,-1990404162),n=_n(n,r,i,s,e[12],7,1804603682),s=_n(s,n,r,i,e[13],12,-40341101),i=_n(i,s,n,r,e[14],17,-1502002290),n=An(n,r=_n(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=An(s,n,r,i,e[6],9,-1069501632),i=An(i,s,n,r,e[11],14,643717713),r=An(r,i,s,n,e[0],20,-373897302),n=An(n,r,i,s,e[5],5,-701558691),s=An(s,n,r,i,e[10],9,38016083),i=An(i,s,n,r,e[15],14,-660478335),r=An(r,i,s,n,e[4],20,-405537848),n=An(n,r,i,s,e[9],5,568446438),s=An(s,n,r,i,e[14],9,-1019803690),i=An(i,s,n,r,e[3],14,-187363961),r=An(r,i,s,n,e[8],20,1163531501),n=An(n,r,i,s,e[13],5,-1444681467),s=An(s,n,r,i,e[2],9,-51403784),i=An(i,s,n,r,e[7],14,1735328473),n=Cn(n,r=An(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Cn(s,n,r,i,e[8],11,-2022574463),i=Cn(i,s,n,r,e[11],16,1839030562),r=Cn(r,i,s,n,e[14],23,-35309556),n=Cn(n,r,i,s,e[1],4,-1530992060),s=Cn(s,n,r,i,e[4],11,1272893353),i=Cn(i,s,n,r,e[7],16,-155497632),r=Cn(r,i,s,n,e[10],23,-1094730640),n=Cn(n,r,i,s,e[13],4,681279174),s=Cn(s,n,r,i,e[0],11,-358537222),i=Cn(i,s,n,r,e[3],16,-722521979),r=Cn(r,i,s,n,e[6],23,76029189),n=Cn(n,r,i,s,e[9],4,-640364487),s=Cn(s,n,r,i,e[12],11,-421815835),i=Cn(i,s,n,r,e[15],16,530742520),n=Pn(n,r=Cn(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Pn(s,n,r,i,e[7],10,1126891415),i=Pn(i,s,n,r,e[14],15,-1416354905),r=Pn(r,i,s,n,e[5],21,-57434055),n=Pn(n,r,i,s,e[12],6,1700485571),s=Pn(s,n,r,i,e[3],10,-1894986606),i=Pn(i,s,n,r,e[10],15,-1051523),r=Pn(r,i,s,n,e[1],21,-2054922799),n=Pn(n,r,i,s,e[8],6,1873313359),s=Pn(s,n,r,i,e[15],10,-30611744),i=Pn(i,s,n,r,e[6],15,-1560198380),r=Pn(r,i,s,n,e[13],21,1309151649),n=Pn(n,r,i,s,e[4],6,-145523070),s=Pn(s,n,r,i,e[11],10,-1120210379),i=Pn(i,s,n,r,e[2],15,718787259),r=Pn(r,i,s,n,e[9],21,-343485551),t[0]=ws(n,t[0]),t[1]=ws(r,t[1]),t[2]=ws(i,t[2]),t[3]=ws(s,t[3])}function Qd(t,e,n,r,i,s){return e=ws(ws(e,t),ws(r,s)),ws(e<<i|e>>>32-i,n)}function _n(t,e,n,r,i,s,a){return Qd(e&n|~e&r,t,e,i,s,a)}function An(t,e,n,r,i,s,a){return Qd(e&r|n&~r,t,e,i,s,a)}function Cn(t,e,n,r,i,s,a){return Qd(e^n^r,t,e,i,s,a)}function Pn(t,e,n,r,i,s,a){return Qd(n^(e|~r),t,e,i,s,a)}function E5(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)xf(r,ew(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(xf(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,xf(r,i),r}function ew(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}Ul=Qe.atob.bind(Qe),F0=Qe.btoa.bind(Qe);var Pm="0123456789abcdef".split("");function tw(t){for(var e="",n=0;n<4;n++)e+=Pm[t>>8*n+4&15]+Pm[t>>8*n&15];return e}function nw(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function T0(t){return E5(t).map(nw).join("")}var rw=function(t){for(var e=0;e<t.length;e++)t[e]=tw(t[e]);return t.join("")}(E5("hello"))!="5d41402abc4b2a76b9719d911017c592";function ws(t,e){if(rw){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function M0(t,e){var n,r,i,s;if(t!==n){for(var a=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var d=0;for(l=0;l<256;l++){var p=o[l];d=(d+p+a.charCodeAt(l))%256,o[l]=o[d],o[d]=p}n=t,r=o}else o=r;var m=e.length,g=0,f=0,b="";for(l=0;l<m;l++)f=(f+(p=o[g=(g+1)%256]))%256,o[g]=o[f],o[f]=p,a=o[(o[g]+o[f])%256],b+=String.fromCharCode(e.charCodeAt(l)^a);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var km={print:4,modify:8,copy:16,"annot-forms":32};function lo(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(km.perm!==void 0)throw new Error("Invalid permission: "+o);i+=km[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=T0(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=M0(this.encryptionKey,this.padding)}function co(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function Lm(t){if(wt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var a=e[n][s];try{a[0].apply(t,r)}catch(o){Qe.console&&At.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function fc(t){if(!(this instanceof fc))return new fc(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function O5(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function ys(t,e,n,r,i){if(!(this instanceof ys))return new ys(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,O5.call(this,r,i)}function sa(t,e,n,r,i){if(!(this instanceof sa))return new sa(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,O5.call(this,r,i)}function $e(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,d="S",p=null;wt(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(p=t.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),d=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,g={},f={internal:{},__private__:{}};f.__private__.PubSub=Lm;var b="1.3",N=f.__private__.getPdfVersion=function(){return b};f.__private__.setPdfVersion=function(y){b=y};var F={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return F};var x=f.__private__.getPageFormat=function(y){return F[y]};i=i||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},j=w.COMPAT;function S(){this.saveGraphicsState(),J(new Ge(Oe,0,0,-Oe,0,Yi()*Oe).toString()+" cm"),this.setFontSize(this.getFontSize()/Oe),d="n",j=w.ADVANCED}function P(){this.restoreGraphicsState(),d="S",j=w.COMPAT}var E=f.__private__.combineFontStyleAndFontWeight=function(y,I){if(y=="bold"&&I=="normal"||y=="bold"&&I==400||y=="normal"&&I=="italic"||y=="bold"&&I=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return I&&(y=I==400||I==="normal"?y==="italic"?"italic":"normal":I!=700&&I!=="bold"||y!=="normal"?(I==700?"bold":I)+""+y:"bold"),y};f.advancedAPI=function(y){var I=j===w.COMPAT;return I&&S.call(this),typeof y!="function"||(y(this),I&&P.call(this)),this},f.compatAPI=function(y){var I=j===w.ADVANCED;return I&&P.call(this),typeof y!="function"||(y(this),I&&S.call(this)),this},f.isAdvancedAPI=function(){return j===w.ADVANCED};var T,k=function(y){if(j!==w.ADVANCED)throw new Error(y+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},z=f.roundToPrecision=f.__private__.roundToPrecision=function(y,I){var Z=e||I;if(isNaN(y)||isNaN(Z))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return y.toFixed(Z).replace(/0+$/,"")};T=f.hpf=f.__private__.hpf=typeof l=="number"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return z(y,l)}:l==="smart"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return z(y,y>-1&&y<1?16:5)}:function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return z(y,16)};var V=f.f2=f.__private__.f2=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f2");return z(y,2)},A=f.__private__.f3=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f3");return z(y,3)},_=f.scale=f.__private__.scale=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.scale");return j===w.COMPAT?y*Oe:j===w.ADVANCED?y:void 0},R=function(y){return j===w.COMPAT?Yi()-y:j===w.ADVANCED?y:void 0},B=function(y){return _(R(y))};f.__private__.setPrecision=f.setPrecision=function(y){typeof parseInt(y,10)=="number"&&(e=parseInt(y,10))};var ae,H="00000000000000000000000000000000",Y=f.__private__.getFileId=function(){return H},W=f.__private__.setFileId=function(y){return H=y!==void 0&&/^[a-fA-F0-9]{32}$/.test(y)?y.toUpperCase():H.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(bn=new lo(p.userPermissions,p.userPassword,p.ownerPassword,H)),H};f.setFileId=function(y){return W(y),this},f.getFileId=function(){return Y()};var G=f.__private__.convertDateToPDFDate=function(y){var I=y.getTimezoneOffset(),Z=I<0?"+":"-",re=Math.floor(Math.abs(I/60)),de=Math.abs(I%60),xe=[Z,Q(re),"'",Q(de),"'"].join("");return["D:",y.getFullYear(),Q(y.getMonth()+1),Q(y.getDate()),Q(y.getHours()),Q(y.getMinutes()),Q(y.getSeconds()),xe].join("")},te=f.__private__.convertPDFDateToDate=function(y){var I=parseInt(y.substr(2,4),10),Z=parseInt(y.substr(6,2),10)-1,re=parseInt(y.substr(8,2),10),de=parseInt(y.substr(10,2),10),xe=parseInt(y.substr(12,2),10),Ce=parseInt(y.substr(14,2),10);return new Date(I,Z,re,de,xe,Ce,0)},le=f.__private__.setCreationDate=function(y){var I;if(y===void 0&&(y=new Date),y instanceof Date)I=G(y);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(y))throw new Error("Invalid argument passed to jsPDF.setCreationDate");I=y}return ae=I},L=f.__private__.getCreationDate=function(y){var I=ae;return y==="jsDate"&&(I=te(ae)),I};f.setCreationDate=function(y){return le(y),this},f.getCreationDate=function(y){return L(y)};var U,Q=f.__private__.padd2=function(y){return("0"+parseInt(y)).slice(-2)},K=f.__private__.padd2Hex=function(y){return("00"+(y=y.toString())).substr(y.length)},ee=0,ce=[],he=[],fe=0,Ae=[],ge=[],we=!1,Se=he,Le=function(){ee=0,fe=0,he=[],ce=[],Ae=[],bi=Kt(),Lr=Kt()};f.__private__.setCustomOutputDestination=function(y){we=!0,Se=y};var ne=function(y){we||(Se=y)};f.__private__.resetCustomOutputDestination=function(){we=!1,Se=he};var J=f.__private__.out=function(y){return y=y.toString(),fe+=y.length+1,Se.push(y),Se},Ue=f.__private__.write=function(y){return J(arguments.length===1?y.toString():Array.prototype.join.call(arguments," "))},Te=f.__private__.getArrayBuffer=function(y){for(var I=y.length,Z=new ArrayBuffer(I),re=new Uint8Array(Z);I--;)re[I]=y.charCodeAt(I);return Z},je=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return je};var Fe=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(y){return Fe=j===w.ADVANCED?y/Oe:y,this};var De,Pe=f.__private__.getFontSize=f.getFontSize=function(){return j===w.COMPAT?Fe:Fe*Oe},We=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(y){return We=y,this},f.__private__.getR2L=f.getR2L=function(){return We};var Xe,it=f.__private__.setZoomMode=function(y){var I=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(y))De=y;else if(isNaN(y)){if(I.indexOf(y)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+y+'" is not recognized.');De=y}else De=parseInt(y,10)};f.__private__.getZoomMode=function(){return De};var st,dt=f.__private__.setPageMode=function(y){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(y)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+y+'" is not recognized.');Xe=y};f.__private__.getPageMode=function(){return Xe};var Nt=f.__private__.setLayoutMode=function(y){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(y)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+y+'" is not recognized.');st=y};f.__private__.getLayoutMode=function(){return st},f.__private__.setDisplayMode=f.setDisplayMode=function(y,I,Z){return it(y),Nt(I),dt(Z),this};var Ye={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(y){if(Object.keys(Ye).indexOf(y)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ye[y]},f.__private__.getDocumentProperties=function(){return Ye},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(y){for(var I in Ye)Ye.hasOwnProperty(I)&&y[I]&&(Ye[I]=y[I]);return this},f.__private__.setDocumentProperty=function(y,I){if(Object.keys(Ye).indexOf(y)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ye[y]=I};var at,Oe,wn,pt,Cr,jt={},Mt={},Zr=[],gt={},zs={},Rt={},Pr={},wi=null,Bt=0,Ke=[],yt=new Lm(f),Rs=t.hotfixes||[],pn={},ei={},ti=[],Ge=function y(I,Z,re,de,xe,Ce){if(!(this instanceof y))return new y(I,Z,re,de,xe,Ce);isNaN(I)&&(I=1),isNaN(Z)&&(Z=0),isNaN(re)&&(re=0),isNaN(de)&&(de=1),isNaN(xe)&&(xe=0),isNaN(Ce)&&(Ce=0),this._matrix=[I,Z,re,de,xe,Ce]};Object.defineProperty(Ge.prototype,"sx",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(Ge.prototype,"shy",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(Ge.prototype,"shx",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(Ge.prototype,"sy",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(Ge.prototype,"tx",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(Ge.prototype,"ty",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(Ge.prototype,"a",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(Ge.prototype,"b",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(Ge.prototype,"c",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(Ge.prototype,"d",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(Ge.prototype,"e",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(Ge.prototype,"f",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(Ge.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ge.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ge.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ge.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ge.prototype.join=function(y){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(T).join(y)},Ge.prototype.multiply=function(y){var I=y.sx*this.sx+y.shy*this.shx,Z=y.sx*this.shy+y.shy*this.sy,re=y.shx*this.sx+y.sy*this.shx,de=y.shx*this.shy+y.sy*this.sy,xe=y.tx*this.sx+y.ty*this.shx+this.tx,Ce=y.tx*this.shy+y.ty*this.sy+this.ty;return new Ge(I,Z,re,de,xe,Ce)},Ge.prototype.decompose=function(){var y=this.sx,I=this.shy,Z=this.shx,re=this.sy,de=this.tx,xe=this.ty,Ce=Math.sqrt(y*y+I*I),ze=(y/=Ce)*Z+(I/=Ce)*re;Z-=y*ze,re-=I*ze;var He=Math.sqrt(Z*Z+re*re);return ze/=He,y*(re/=He)<I*(Z/=He)&&(y=-y,I=-I,ze=-ze,Ce=-Ce),{scale:new Ge(Ce,0,0,He,0,0),translate:new Ge(1,0,0,1,de,xe),rotate:new Ge(y,I,-I,y,0,0),skew:new Ge(1,0,ze,1,0,0)}},Ge.prototype.toString=function(y){return this.join(" ")},Ge.prototype.inversed=function(){var y=this.sx,I=this.shy,Z=this.shx,re=this.sy,de=this.tx,xe=this.ty,Ce=1/(y*re-I*Z),ze=re*Ce,He=-I*Ce,tt=-Z*Ce,Ze=y*Ce;return new Ge(ze,He,tt,Ze,-ze*de-tt*xe,-He*de-Ze*xe)},Ge.prototype.applyToPoint=function(y){var I=y.x*this.sx+y.y*this.shx+this.tx,Z=y.x*this.shy+y.y*this.sy+this.ty;return new Oa(I,Z)},Ge.prototype.applyToRectangle=function(y){var I=this.applyToPoint(y),Z=this.applyToPoint(new Oa(y.x+y.w,y.y+y.h));return new Xo(I.x,I.y,Z.x-I.x,Z.y-I.y)},Ge.prototype.clone=function(){var y=this.sx,I=this.shy,Z=this.shx,re=this.sy,de=this.tx,xe=this.ty;return new Ge(y,I,Z,re,de,xe)},f.Matrix=Ge;var kr=f.matrixMult=function(y,I){return I.multiply(y)},ni=new Ge(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=ni;var Un=function(y,I){if(!zs[y]){var Z=(I instanceof ys?"Sh":"P")+(Object.keys(gt).length+1).toString(10);I.id=Z,zs[y]=Z,gt[Z]=I,yt.publish("addPattern",I)}};f.ShadingPattern=ys,f.TilingPattern=sa,f.addShadingPattern=function(y,I){return k("addShadingPattern()"),Un(y,I),this},f.beginTilingPattern=function(y){k("beginTilingPattern()"),Hc(y.boundingBox[0],y.boundingBox[1],y.boundingBox[2]-y.boundingBox[0],y.boundingBox[3]-y.boundingBox[1],y.matrix)},f.endTilingPattern=function(y,I){k("endTilingPattern()"),I.stream=ge[U].join(`
`),Un(y,I),yt.publish("endTilingPattern",I),ti.pop().restore()};var rn=f.__private__.newObject=function(){var y=Kt();return er(y,!0),y},Kt=f.__private__.newObjectDeferred=function(){return ee++,ce[ee]=function(){return fe},ee},er=function(y,I){return I=typeof I=="boolean"&&I,ce[y]=fe,I&&J(y+" 0 obj"),y},ja=f.__private__.newAdditionalObject=function(){var y={objId:Kt(),content:""};return Ae.push(y),y},bi=Kt(),Lr=Kt(),Fr=f.__private__.decodeColorString=function(y){var I=y.split(" ");if(I.length!==2||I[1]!=="g"&&I[1]!=="G")I.length===5&&(I[4]==="k"||I[4]==="K")&&(I=[(1-I[0])*(1-I[3]),(1-I[1])*(1-I[3]),(1-I[2])*(1-I[3]),"r"]);else{var Z=parseFloat(I[0]);I=[Z,Z,Z,"r"]}for(var re="#",de=0;de<3;de++)re+=("0"+Math.floor(255*parseFloat(I[de])).toString(16)).slice(-2);return re},Tr=f.__private__.encodeColorString=function(y){var I;typeof y=="string"&&(y={ch1:y});var Z=y.ch1,re=y.ch2,de=y.ch3,xe=y.ch4,Ce=y.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Z=="string"&&Z.charAt(0)!=="#"){var ze=new D5(Z);if(ze.ok)Z=ze.toHex();else if(!/^\d*\.?\d*$/.test(Z))throw new Error('Invalid color "'+Z+'" passed to jsPDF.encodeColorString.')}if(typeof Z=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Z)&&(Z="#"+Z[1]+Z[1]+Z[2]+Z[2]+Z[3]+Z[3]),typeof Z=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Z)){var He=parseInt(Z.substr(1),16);Z=He>>16&255,re=He>>8&255,de=255&He}if(re===void 0||xe===void 0&&Z===re&&re===de)if(typeof Z=="string")I=Z+" "+Ce[0];else switch(y.precision){case 2:I=V(Z/255)+" "+Ce[0];break;case 3:default:I=A(Z/255)+" "+Ce[0]}else if(xe===void 0||wt(xe)==="object"){if(xe&&!isNaN(xe.a)&&xe.a===0)return I=["1.","1.","1.",Ce[1]].join(" ");if(typeof Z=="string")I=[Z,re,de,Ce[1]].join(" ");else switch(y.precision){case 2:I=[V(Z/255),V(re/255),V(de/255),Ce[1]].join(" ");break;default:case 3:I=[A(Z/255),A(re/255),A(de/255),Ce[1]].join(" ")}}else if(typeof Z=="string")I=[Z,re,de,xe,Ce[2]].join(" ");else switch(y.precision){case 2:I=[V(Z),V(re),V(de),V(xe),Ce[2]].join(" ");break;case 3:default:I=[A(Z),A(re),A(de),A(xe),Ce[2]].join(" ")}return I},ri=f.__private__.getFilters=function(){return a},fr=f.__private__.putStream=function(y){var I=(y=y||{}).data||"",Z=y.filters||ri(),re=y.alreadyAppliedFilters||[],de=y.addLength1||!1,xe=I.length,Ce=y.objectId,ze=function(Nn){return Nn};if(p!==null&&Ce===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(ze=bn.encryptor(Ce,0));var He={};Z===!0&&(Z=["FlateEncode"]);var tt=y.additionalKeyValues||[],Ze=(He=$e.API.processDataByFilters!==void 0?$e.API.processDataByFilters(I,Z):{data:I,reverseChain:[]}).reverseChain+(Array.isArray(re)?re.join(" "):re.toString());if(He.data.length!==0&&(tt.push({key:"Length",value:He.data.length}),de===!0&&tt.push({key:"Length1",value:xe})),Ze.length!=0)if(Ze.split("/").length-1==1)tt.push({key:"Filter",value:Ze});else{tt.push({key:"Filter",value:"["+Ze+"]"});for(var ut=0;ut<tt.length;ut+=1)if(tt[ut].key==="DecodeParms"){for(var Dt=[],qt=0;qt<He.reverseChain.split("/").length-1;qt+=1)Dt.push("null");Dt.push(tt[ut].value),tt[ut].value="["+Dt.join(" ")+"]"}}J("<<");for(var Zt=0;Zt<tt.length;Zt++)J("/"+tt[Zt].key+" "+tt[Zt].value);J(">>"),He.data.length!==0&&(J("stream"),J(ze(He.data)),J("endstream"))},ii=f.__private__.putPage=function(y){var I=y.number,Z=y.data,re=y.objId,de=y.contentsObjId;er(re,!0),J("<</Type /Page"),J("/Parent "+y.rootDictionaryObjId+" 0 R"),J("/Resources "+y.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(T(y.mediaBox.bottomLeftX))+" "+parseFloat(T(y.mediaBox.bottomLeftY))+" "+T(y.mediaBox.topRightX)+" "+T(y.mediaBox.topRightY)+"]"),y.cropBox!==null&&J("/CropBox ["+T(y.cropBox.bottomLeftX)+" "+T(y.cropBox.bottomLeftY)+" "+T(y.cropBox.topRightX)+" "+T(y.cropBox.topRightY)+"]"),y.bleedBox!==null&&J("/BleedBox ["+T(y.bleedBox.bottomLeftX)+" "+T(y.bleedBox.bottomLeftY)+" "+T(y.bleedBox.topRightX)+" "+T(y.bleedBox.topRightY)+"]"),y.trimBox!==null&&J("/TrimBox ["+T(y.trimBox.bottomLeftX)+" "+T(y.trimBox.bottomLeftY)+" "+T(y.trimBox.topRightX)+" "+T(y.trimBox.topRightY)+"]"),y.artBox!==null&&J("/ArtBox ["+T(y.artBox.bottomLeftX)+" "+T(y.artBox.bottomLeftY)+" "+T(y.artBox.topRightX)+" "+T(y.artBox.topRightY)+"]"),typeof y.userUnit=="number"&&y.userUnit!==1&&J("/UserUnit "+y.userUnit),yt.publish("putPage",{objId:re,pageContext:Ke[I],pageNumber:I,page:Z}),J("/Contents "+de+" 0 R"),J(">>"),J("endobj");var xe=Z.join(`
`);return j===w.ADVANCED&&(xe+=`
Q`),er(de,!0),fr({data:xe,filters:ri(),objectId:de}),J("endobj"),re},Bs=f.__private__.putPages=function(){var y,I,Z=[];for(y=1;y<=Bt;y++)Ke[y].objId=Kt(),Ke[y].contentsObjId=Kt();for(y=1;y<=Bt;y++)Z.push(ii({number:y,data:ge[y],objId:Ke[y].objId,contentsObjId:Ke[y].contentsObjId,mediaBox:Ke[y].mediaBox,cropBox:Ke[y].cropBox,bleedBox:Ke[y].bleedBox,trimBox:Ke[y].trimBox,artBox:Ke[y].artBox,userUnit:Ke[y].userUnit,rootDictionaryObjId:bi,resourceDictionaryObjId:Lr}));er(bi,!0),J("<</Type /Pages");var re="/Kids [";for(I=0;I<Bt;I++)re+=Z[I]+" 0 R ";J(re+"]"),J("/Count "+Bt),J(">>"),J("endobj"),yt.publish("postPutPages")},_a=function(y){yt.publish("putFont",{font:y,out:J,newObject:rn,putStream:fr}),y.isAlreadyPutted!==!0&&(y.objectNumber=rn(),J("<<"),J("/Type /Font"),J("/BaseFont /"+co(y.postScriptName)),J("/Subtype /Type1"),typeof y.encoding=="string"&&J("/Encoding /"+y.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},Aa=function(){for(var y in jt)jt.hasOwnProperty(y)&&(m===!1||m===!0&&g.hasOwnProperty(y))&&_a(jt[y])},Ca=function(y){y.objectNumber=rn();var I=[];I.push({key:"Type",value:"/XObject"}),I.push({key:"Subtype",value:"/Form"}),I.push({key:"BBox",value:"["+[T(y.x),T(y.y),T(y.x+y.width),T(y.y+y.height)].join(" ")+"]"}),I.push({key:"Matrix",value:"["+y.matrix.toString()+"]"});var Z=y.pages[1].join(`
`);fr({data:Z,additionalKeyValues:I,objectId:y.objectNumber}),J("endobj")},Pa=function(){for(var y in pn)pn.hasOwnProperty(y)&&Ca(pn[y])},Ac=function(y,I){var Z,re=[],de=1/(I-1);for(Z=0;Z<1;Z+=de)re.push(Z);if(re.push(1),y[0].offset!=0){var xe={offset:0,color:y[0].color};y.unshift(xe)}if(y[y.length-1].offset!=1){var Ce={offset:1,color:y[y.length-1].color};y.push(Ce)}for(var ze="",He=0,tt=0;tt<re.length;tt++){for(Z=re[tt];Z>y[He+1].offset;)He++;var Ze=y[He].offset,ut=(Z-Ze)/(y[He+1].offset-Ze),Dt=y[He].color,qt=y[He+1].color;ze+=K(Math.round((1-ut)*Dt[0]+ut*qt[0]).toString(16))+K(Math.round((1-ut)*Dt[1]+ut*qt[1]).toString(16))+K(Math.round((1-ut)*Dt[2]+ut*qt[2]).toString(16))}return ze.trim()},Jd=function(y,I){I||(I=21);var Z=rn(),re=Ac(y.colors,I),de=[];de.push({key:"FunctionType",value:"0"}),de.push({key:"Domain",value:"[0.0 1.0]"}),de.push({key:"Size",value:"["+I+"]"}),de.push({key:"BitsPerSample",value:"8"}),de.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),de.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),fr({data:re,additionalKeyValues:de,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Z}),J("endobj"),y.objectNumber=rn(),J("<< /ShadingType "+y.type),J("/ColorSpace /DeviceRGB");var xe="/Coords ["+T(parseFloat(y.coords[0]))+" "+T(parseFloat(y.coords[1]))+" ";y.type===2?xe+=T(parseFloat(y.coords[2]))+" "+T(parseFloat(y.coords[3])):xe+=T(parseFloat(y.coords[2]))+" "+T(parseFloat(y.coords[3]))+" "+T(parseFloat(y.coords[4]))+" "+T(parseFloat(y.coords[5])),J(xe+="]"),y.matrix&&J("/Matrix ["+y.matrix.toString()+"]"),J("/Function "+Z+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},Xd=function(y,I){var Z=Kt(),re=rn();I.push({resourcesOid:Z,objectOid:re}),y.objectNumber=re;var de=[];de.push({key:"Type",value:"/Pattern"}),de.push({key:"PatternType",value:"1"}),de.push({key:"PaintType",value:"1"}),de.push({key:"TilingType",value:"1"}),de.push({key:"BBox",value:"["+y.boundingBox.map(T).join(" ")+"]"}),de.push({key:"XStep",value:T(y.xStep)}),de.push({key:"YStep",value:T(y.yStep)}),de.push({key:"Resources",value:Z+" 0 R"}),y.matrix&&de.push({key:"Matrix",value:"["+y.matrix.toString()+"]"}),fr({data:y.stream,additionalKeyValues:de,objectId:y.objectNumber}),J("endobj")},ka=function(y){var I;for(I in gt)gt.hasOwnProperty(I)&&(gt[I]instanceof ys?Jd(gt[I]):gt[I]instanceof sa&&Xd(gt[I],y))},Cc=function(y){for(var I in y.objectNumber=rn(),J("<<"),y)switch(I){case"opacity":J("/ca "+V(y[I]));break;case"stroke-opacity":J("/CA "+V(y[I]))}J(">>"),J("endobj")},Kd=function(){var y;for(y in Rt)Rt.hasOwnProperty(y)&&Cc(Rt[y])},qo=function(){for(var y in J("/XObject <<"),pn)pn.hasOwnProperty(y)&&pn[y].objectNumber>=0&&J("/"+y+" "+pn[y].objectNumber+" 0 R");yt.publish("putXobjectDict"),J(">>")},Zd=function(){bn.oid=rn(),J("<<"),J("/Filter /Standard"),J("/V "+bn.v),J("/R "+bn.r),J("/U <"+bn.toHexString(bn.U)+">"),J("/O <"+bn.toHexString(bn.O)+">"),J("/P "+bn.P),J(">>"),J("endobj")},Pc=function(){for(var y in J("/Font <<"),jt)jt.hasOwnProperty(y)&&(m===!1||m===!0&&g.hasOwnProperty(y))&&J("/"+y+" "+jt[y].objectNumber+" 0 R");J(">>")},eh=function(){if(Object.keys(gt).length>0){for(var y in J("/Shading <<"),gt)gt.hasOwnProperty(y)&&gt[y]instanceof ys&&gt[y].objectNumber>=0&&J("/"+y+" "+gt[y].objectNumber+" 0 R");yt.publish("putShadingPatternDict"),J(">>")}},La=function(y){if(Object.keys(gt).length>0){for(var I in J("/Pattern <<"),gt)gt.hasOwnProperty(I)&&gt[I]instanceof f.TilingPattern&&gt[I].objectNumber>=0&&gt[I].objectNumber<y&&J("/"+I+" "+gt[I].objectNumber+" 0 R");yt.publish("putTilingPatternDict"),J(">>")}},th=function(){if(Object.keys(Rt).length>0){var y;for(y in J("/ExtGState <<"),Rt)Rt.hasOwnProperty(y)&&Rt[y].objectNumber>=0&&J("/"+y+" "+Rt[y].objectNumber+" 0 R");yt.publish("putGStateDict"),J(">>")}},$t=function(y){er(y.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Pc(),eh(),La(y.objectOid),th(),qo(),J(">>"),J("endobj")},kc=function(){var y=[];Aa(),Kd(),Pa(),ka(y),yt.publish("putResources"),y.forEach($t),$t({resourcesOid:Lr,objectOid:Number.MAX_SAFE_INTEGER}),yt.publish("postPutResources")},Lc=function(){yt.publish("putAdditionalObjects");for(var y=0;y<Ae.length;y++){var I=Ae[y];er(I.objId,!0),J(I.content),J("endobj")}yt.publish("postPutAdditionalObjects")},Fc=function(y){Mt[y.fontName]=Mt[y.fontName]||{},Mt[y.fontName][y.fontStyle]=y.id},Uo=function(y,I,Z,re,de){var xe={id:"F"+(Object.keys(jt).length+1).toString(10),postScriptName:y,fontName:I,fontStyle:Z,encoding:re,isStandardFont:de||!1,metadata:{}};return yt.publish("addFont",{font:xe,instance:this}),jt[xe.id]=xe,Fc(xe),xe.id},nh=function(y){for(var I=0,Z=je.length;I<Z;I++){var re=Uo.call(this,y[I][0],y[I][1],y[I][2],je[I][3],!0);m===!1&&(g[re]=!0);var de=y[I][0].split("-");Fc({id:re,fontName:de[0],fontStyle:de[1]||""})}yt.publish("addFonts",{fonts:jt,dictionary:Mt})},Mr=function(y){return y.foo=function(){try{return y.apply(this,arguments)}catch(re){var I=re.stack||"";~I.indexOf(" at ")&&(I=I.split(" at ")[1]);var Z="Error in function "+I.split(`
`)[0].split("<")[0]+": "+re.message;if(!Qe.console)throw new Error(Z);Qe.console.error(Z,re),Qe.alert&&alert(Z)}},y.foo.bar=y,y.foo},Fa=function(y,I){var Z,re,de,xe,Ce,ze,He,tt,Ze;if(de=(I=I||{}).sourceEncoding||"Unicode",Ce=I.outputEncoding,(I.autoencode||Ce)&&jt[at].metadata&&jt[at].metadata[de]&&jt[at].metadata[de].encoding&&(xe=jt[at].metadata[de].encoding,!Ce&&jt[at].encoding&&(Ce=jt[at].encoding),!Ce&&xe.codePages&&(Ce=xe.codePages[0]),typeof Ce=="string"&&(Ce=xe[Ce]),Ce)){for(He=!1,ze=[],Z=0,re=y.length;Z<re;Z++)(tt=Ce[y.charCodeAt(Z)])?ze.push(String.fromCharCode(tt)):ze.push(y[Z]),ze[Z].charCodeAt(0)>>8&&(He=!0);y=ze.join("")}for(Z=y.length;He===void 0&&Z!==0;)y.charCodeAt(Z-1)>>8&&(He=!0),Z--;if(!He)return y;for(ze=I.noBOM?[]:[254,255],Z=0,re=y.length;Z<re;Z++){if((Ze=(tt=y.charCodeAt(Z))>>8)>>8)throw new Error("Character at position "+Z+" of string '"+y+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ze.push(Ze),ze.push(tt-(Ze<<8))}return String.fromCharCode.apply(void 0,ze)},Wn=f.__private__.pdfEscape=f.pdfEscape=function(y,I){return Fa(y,I).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Wo=f.__private__.beginPage=function(y){ge[++Bt]=[],Ke[Bt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(y[0]),topRightY:Number(y[1])}},Mc(Bt),ne(ge[U])},Tc=function(y,I){var Z,re,de;switch(n=I||n,typeof y=="string"&&(Z=x(y.toLowerCase()),Array.isArray(Z)&&(re=Z[0],de=Z[1])),Array.isArray(y)&&(re=y[0]*Oe,de=y[1]*Oe),isNaN(re)&&(re=i[0],de=i[1]),(re>14400||de>14400)&&(At.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),re=Math.min(14400,re),de=Math.min(14400,de)),i=[re,de],n.substr(0,1)){case"l":de>re&&(i=[de,re]);break;case"p":re>de&&(i=[de,re])}Wo(i),Rc(Go),J(Ir),Yo!==0&&J(Yo+" J"),Jo!==0&&J(Jo+" j"),yt.publish("addPage",{pageNumber:Bt})},rh=function(y){y>0&&y<=Bt&&(ge.splice(y,1),Ke.splice(y,1),Bt--,U>Bt&&(U=Bt),this.setPage(U))},Mc=function(y){y>0&&y<=Bt&&(U=y)},ih=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return ge.length-1},Ic=function(y,I,Z){var re,de=void 0;return Z=Z||{},y=y!==void 0?y:jt[at].fontName,I=I!==void 0?I:jt[at].fontStyle,re=y.toLowerCase(),Mt[re]!==void 0&&Mt[re][I]!==void 0?de=Mt[re][I]:Mt[y]!==void 0&&Mt[y][I]!==void 0?de=Mt[y][I]:Z.disableWarning===!1&&At.warn("Unable to look up font label for font '"+y+"', '"+I+"'. Refer to getFontList() for available fonts."),de||Z.noFallback||(de=Mt.times[I])==null&&(de=Mt.times.normal),de},sh=f.__private__.putInfo=function(){var y=rn(),I=function(re){return re};for(var Z in p!==null&&(I=bn.encryptor(y,0)),J("<<"),J("/Producer ("+Wn(I("jsPDF "+$e.version))+")"),Ye)Ye.hasOwnProperty(Z)&&Ye[Z]&&J("/"+Z.substr(0,1).toUpperCase()+Z.substr(1)+" ("+Wn(I(Ye[Z]))+")");J("/CreationDate ("+Wn(I(ae))+")"),J(">>"),J("endobj")},Ho=f.__private__.putCatalog=function(y){var I=(y=y||{}).rootDictionaryObjId||bi;switch(rn(),J("<<"),J("/Type /Catalog"),J("/Pages "+I+" 0 R"),De||(De="fullwidth"),De){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Z=""+De;Z.substr(Z.length-1)==="%"&&(De=parseInt(De)/100),typeof De=="number"&&J("/OpenAction [3 0 R /XYZ null null "+V(De)+"]")}switch(st||(st="continuous"),st){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}Xe&&J("/PageMode /"+Xe),yt.publish("putCatalog"),J(">>"),J("endobj")},ah=f.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(ee+1)),J("/Root "+ee+" 0 R"),J("/Info "+(ee-1)+" 0 R"),p!==null&&J("/Encrypt "+bn.oid+" 0 R"),J("/ID [ <"+H+"> <"+H+"> ]"),J(">>")},oh=f.__private__.putHeader=function(){J("%PDF-"+b),J("%")},lh=f.__private__.putXRef=function(){var y="0000000000";J("xref"),J("0 "+(ee+1)),J("0000000000 65535 f ");for(var I=1;I<=ee;I++)typeof ce[I]=="function"?J((y+ce[I]()).slice(-10)+" 00000 n "):ce[I]!==void 0?J((y+ce[I]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},Ni=f.__private__.buildDocument=function(){Le(),ne(he),yt.publish("buildDocument"),oh(),Bs(),Lc(),kc(),p!==null&&Zd(),sh(),Ho();var y=fe;return lh(),ah(),J("startxref"),J(""+y),J("%%EOF"),ne(ge[U]),he.join(`
`)},Ta=f.__private__.getBlob=function(y){return new Blob([Te(y)],{type:"application/pdf"})},Ma=f.output=f.__private__.output=Mr(function(y,I){switch(typeof(I=I||{})=="string"?I={filename:I}:I.filename=I.filename||"generated.pdf",y){case void 0:return Ni();case"save":f.save(I.filename);break;case"arraybuffer":return Te(Ni());case"blob":return Ta(Ni());case"bloburi":case"bloburl":if(Qe.URL!==void 0&&typeof Qe.URL.createObjectURL=="function")return Qe.URL&&Qe.URL.createObjectURL(Ta(Ni()))||void 0;At.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Z="",re=Ni();try{Z=F0(re)}catch{Z=F0(unescape(encodeURIComponent(re)))}return"data:application/pdf;filename="+I.filename+";base64,"+Z;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Qe)==="[object Window]"){var de="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",xe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';I.pdfObjectUrl&&(de=I.pdfObjectUrl,xe="");var Ce='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+de+'"'+xe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(I)+");<\/script></body></html>",ze=Qe.open();return ze!==null&&ze.document.write(Ce),ze}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Qe)==="[object Window]"){var He='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(I.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+I.filename+'" width="500px" height="400px" /></body></html>',tt=Qe.open();if(tt!==null){tt.document.write(He);var Ze=this;tt.document.documentElement.querySelector("#pdfViewer").onload=function(){tt.document.title=I.filename,tt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ze.output("bloburl"))}}return tt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Qe)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",I)+'"></iframe></body></html>',Dt=Qe.open();if(Dt!==null&&(Dt.document.write(ut),Dt.document.title=I.filename),Dt||typeof safari>"u")return Dt;break;case"datauri":case"dataurl":return Qe.document.location.href=this.output("datauristring",I);default:return null}}),Dc=function(y){return Array.isArray(Rs)===!0&&Rs.indexOf(y)>-1};switch(r){case"pt":Oe=1;break;case"mm":Oe=72/25.4;break;case"cm":Oe=72/2.54;break;case"in":Oe=72;break;case"px":Oe=Dc("px_scaling")==1?.75:96/72;break;case"pc":case"em":Oe=12;break;case"ex":Oe=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Oe=r}var bn=null;le(),W();var ch=function(y){return p!==null?bn.encryptor(y,0):function(I){return I}},Ec=f.__private__.getPageInfo=f.getPageInfo=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ke[y].objId,pageNumber:y,pageContext:Ke[y]}},Je=f.__private__.getPageInfoByObjId=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var I in Ke)if(Ke[I].objId===y)break;return Ec(I)},uh=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Ke[U].objId,pageNumber:U,pageContext:Ke[U]}};f.addPage=function(){return Tc.apply(this,arguments),this},f.setPage=function(){return Mc.apply(this,arguments),ne.call(this,ge[U]),this},f.insertPage=function(y){return this.addPage(),this.movePage(U,y),this},f.movePage=function(y,I){var Z,re;if(y>I){Z=ge[y],re=Ke[y];for(var de=y;de>I;de--)ge[de]=ge[de-1],Ke[de]=Ke[de-1];ge[I]=Z,Ke[I]=re,this.setPage(I)}else if(y<I){Z=ge[y],re=Ke[y];for(var xe=y;xe<I;xe++)ge[xe]=ge[xe+1],Ke[xe]=Ke[xe+1];ge[I]=Z,Ke[I]=re,this.setPage(I)}return this},f.deletePage=function(){return rh.apply(this,arguments),this},f.__private__.text=f.text=function(y,I,Z,re,de){var xe,Ce,ze,He,tt,Ze,ut,Dt,qt,Zt=(re=re||{}).scope||this;if(typeof y=="number"&&typeof I=="number"&&(typeof Z=="string"||Array.isArray(Z))){var Nn=Z;Z=I,I=y,y=Nn}if(arguments[3]instanceof Ge?(k("The transform parameter of text() with a Matrix value"),qt=de):(ze=arguments[4],He=arguments[5],wt(ut=arguments[3])==="object"&&ut!==null||(typeof ze=="string"&&(He=ze,ze=null),typeof ut=="string"&&(He=ut,ut=null),typeof ut=="number"&&(ze=ut,ut=null),re={flags:ut,angle:ze,align:He})),isNaN(I)||isNaN(Z)||y==null)throw new Error("Invalid arguments passed to jsPDF.text");if(y.length===0)return Zt;var cn="",Dr=!1,tr=typeof re.lineHeightFactor=="number"?re.lineHeightFactor:Us,oi=Zt.internal.scaleFactor;function $c(Ct){return Ct=Ct.split("	").join(Array(re.TabLen||9).join(" ")),Wn(Ct,ut)}function tl(Ct){for(var Pt,Gt=Ct.concat(),sn=[],Ci=Gt.length;Ci--;)typeof(Pt=Gt.shift())=="string"?sn.push(Pt):Array.isArray(Ct)&&(Pt.length===1||Pt[1]===void 0&&Pt[2]===void 0)?sn.push(Pt[0]):sn.push([Pt[0],Pt[1],Pt[2]]);return sn}function nl(Ct,Pt){var Gt;if(typeof Ct=="string")Gt=Pt(Ct)[0];else if(Array.isArray(Ct)){for(var sn,Ci,ul=Ct.concat(),Qa=[],Jc=ul.length;Jc--;)typeof(sn=ul.shift())=="string"?Qa.push(Pt(sn)[0]):Array.isArray(sn)&&typeof sn[0]=="string"&&(Ci=Pt(sn[0],sn[1],sn[2]),Qa.push([Ci[0],Ci[1],Ci[2]]));Gt=Qa}return Gt}var Ra=!1,rl=!0;if(typeof y=="string")Ra=!0;else if(Array.isArray(y)){var il=y.concat();Ce=[];for(var Ba,mn=il.length;mn--;)(typeof(Ba=il.shift())!="string"||Array.isArray(Ba)&&typeof Ba[0]!="string")&&(rl=!1);Ra=rl}if(Ra===!1)throw new Error('Type of text must be string or Array. "'+y+'" is not recognized.');typeof y=="string"&&(y=y.match(/[\r?\n]/)?y.split(/\r\n|\r|\n/g):[y]);var qa=Fe/Zt.internal.scaleFactor,Ua=qa*(tr-1);switch(re.baseline){case"bottom":Z-=Ua;break;case"top":Z+=qa-Ua;break;case"hanging":Z+=qa-2*Ua;break;case"middle":Z+=qa/2-Ua}if((Ze=re.maxWidth||0)>0&&(typeof y=="string"?y=Zt.splitTextToSize(y,Ze):Object.prototype.toString.call(y)==="[object Array]"&&(y=y.reduce(function(Ct,Pt){return Ct.concat(Zt.splitTextToSize(Pt,Ze))},[]))),xe={text:y,x:I,y:Z,options:re,mutex:{pdfEscape:Wn,activeFontKey:at,fonts:jt,activeFontSize:Fe}},yt.publish("preProcessText",xe),y=xe.text,ze=(re=xe.options).angle,!(qt instanceof Ge)&&ze&&typeof ze=="number"){ze*=Math.PI/180,re.rotationDirection===0&&(ze=-ze),j===w.ADVANCED&&(ze=-ze);var Wa=Math.cos(ze),sl=Math.sin(ze);qt=new Ge(Wa,sl,-sl,Wa,0,0)}else ze&&ze instanceof Ge&&(qt=ze);j!==w.ADVANCED||qt||(qt=ni),(tt=re.charSpace||Ea)!==void 0&&(cn+=T(_(tt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Dt=re.horizontalScale)!==void 0&&(cn+=T(100*Dt)+` Tz
`),re.lang;var Hn=-1,wh=re.renderingMode!==void 0?re.renderingMode:re.stroke,al=Zt.internal.getCurrentPageInfo().pageContext;switch(wh){case 0:case!1:case"fill":Hn=0;break;case 1:case!0:case"stroke":Hn=1;break;case 2:case"fillThenStroke":Hn=2;break;case 3:case"invisible":Hn=3;break;case 4:case"fillAndAddForClipping":Hn=4;break;case 5:case"strokeAndAddPathForClipping":Hn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Hn=6;break;case 7:case"addToPathForClipping":Hn=7}var Vc=al.usedRenderingMode!==void 0?al.usedRenderingMode:-1;Hn!==-1?cn+=Hn+` Tr
`:Vc!==-1&&(cn+=`0 Tr
`),Hn!==-1&&(al.usedRenderingMode=Hn),He=re.align||"left";var pr,Ha=Fe*tr,Gc=Zt.internal.pageSize.getWidth(),Qc=jt[at];tt=re.charSpace||Ea,Ze=re.maxWidth||0,ut=Object.assign({autoencode:!0,noBOM:!0},re.flags);var Ji=[],$s=function(Ct){return Zt.getStringUnitWidth(Ct,{font:Qc,charSpace:tt,fontSize:Fe,doKerning:!1})*Fe/oi};if(Object.prototype.toString.call(y)==="[object Array]"){var $n;Ce=tl(y),He!=="left"&&(pr=Ce.map($s));var In,Xi=0;if(He==="right"){I-=pr[0],y=[],mn=Ce.length;for(var ji=0;ji<mn;ji++)ji===0?(In=ai(I),$n=Si(Z)):(In=_(Xi-pr[ji]),$n=-Ha),y.push([Ce[ji],In,$n]),Xi=pr[ji]}else if(He==="center"){I-=pr[0]/2,y=[],mn=Ce.length;for(var _i=0;_i<mn;_i++)_i===0?(In=ai(I),$n=Si(Z)):(In=_((Xi-pr[_i])/2),$n=-Ha),y.push([Ce[_i],In,$n]),Xi=pr[_i]}else if(He==="left"){y=[],mn=Ce.length;for(var $a=0;$a<mn;$a++)y.push(Ce[$a])}else if(He==="justify"&&Qc.encoding==="Identity-H"){y=[],mn=Ce.length,Ze=Ze!==0?Ze:Gc;for(var Ai=0,Vt=0;Vt<mn;Vt++)if($n=Vt===0?Si(Z):-Ha,In=Vt===0?ai(I):Ai,Vt<mn-1){var ol=_((Ze-pr[Vt])/(Ce[Vt].split(" ").length-1)),Dn=Ce[Vt].split(" ");y.push([Dn[0]+" ",In,$n]),Ai=0;for(var mr=1;mr<Dn.length;mr++){var Va=($s(Dn[mr-1]+" "+Dn[mr])-$s(Dn[mr]))*oi+ol;mr==Dn.length-1?y.push([Dn[mr],Va,0]):y.push([Dn[mr]+" ",Va,0]),Ai-=Va}}else y.push([Ce[Vt],In,$n]);y.push(["",Ai,0])}else{if(He!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(y=[],mn=Ce.length,Ze=Ze!==0?Ze:Gc,Vt=0;Vt<mn;Vt++)$n=Vt===0?Si(Z):-Ha,In=Vt===0?ai(I):0,Vt<mn-1?Ji.push(T(_((Ze-pr[Vt])/(Ce[Vt].split(" ").length-1)))):Ji.push(0),y.push([Ce[Vt],In,$n])}}var Yc=typeof re.R2L=="boolean"?re.R2L:We;Yc===!0&&(y=nl(y,function(Ct,Pt,Gt){return[Ct.split("").reverse().join(""),Pt,Gt]})),xe={text:y,x:I,y:Z,options:re,mutex:{pdfEscape:Wn,activeFontKey:at,fonts:jt,activeFontSize:Fe}},yt.publish("postProcessText",xe),y=xe.text,Dr=xe.mutex.isHex||!1;var ll=jt[at].encoding;ll!=="WinAnsiEncoding"&&ll!=="StandardEncoding"||(y=nl(y,function(Ct,Pt,Gt){return[$c(Ct),Pt,Gt]})),Ce=tl(y),y=[];for(var Vs,Gs,Ki,Qs=0,Ga=1,Ys=Array.isArray(Ce[0])?Ga:Qs,Zi="",cl=function(Ct,Pt,Gt){var sn="";return Gt instanceof Ge?(Gt=typeof re.angle=="number"?kr(Gt,new Ge(1,0,0,1,Ct,Pt)):kr(new Ge(1,0,0,1,Ct,Pt),Gt),j===w.ADVANCED&&(Gt=kr(new Ge(1,0,0,-1,0,0),Gt)),sn=Gt.join(" ")+` Tm
`):sn=T(Ct)+" "+T(Pt)+` Td
`,sn},gr=0;gr<Ce.length;gr++){switch(Zi="",Ys){case Ga:Ki=(Dr?"<":"(")+Ce[gr][0]+(Dr?">":")"),Vs=parseFloat(Ce[gr][1]),Gs=parseFloat(Ce[gr][2]);break;case Qs:Ki=(Dr?"<":"(")+Ce[gr]+(Dr?">":")"),Vs=ai(I),Gs=Si(Z)}Ji!==void 0&&Ji[gr]!==void 0&&(Zi=Ji[gr]+` Tw
`),gr===0?y.push(Zi+cl(Vs,Gs,qt)+Ki):Ys===Qs?y.push(Zi+Ki):Ys===Ga&&y.push(Zi+cl(Vs,Gs,qt)+Ki)}y=Ys===Qs?y.join(` Tj
T* `):y.join(` Tj
`),y+=` Tj
`;var yr=`BT
/`;return yr+=at+" "+Fe+` Tf
`,yr+=T(Fe*tr)+` TL
`,yr+=Ws+`
`,yr+=cn,yr+=y,J(yr+="ET"),g[at]=!0,Zt};var dh=f.__private__.clip=f.clip=function(y){return J(y==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return dh("evenodd")},f.__private__.discardPath=f.discardPath=function(){return J("n"),this};var si=f.__private__.isValidStyle=function(y){var I=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(y)!==-1&&(I=!0),I};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(y){return si(y)&&(d=y),this};var Oc=f.__private__.getStyle=f.getStyle=function(y){var I=d;switch(y){case"D":case"S":I="S";break;case"F":I="f";break;case"FD":case"DF":I="B";break;case"f":case"f*":case"B":case"B*":I=y}return I},zc=f.close=function(){return J("h"),this};f.stroke=function(){return J("S"),this},f.fill=function(y){return Ia("f",y),this},f.fillEvenOdd=function(y){return Ia("f*",y),this},f.fillStroke=function(y){return Ia("B",y),this},f.fillStrokeEvenOdd=function(y){return Ia("B*",y),this};var Ia=function(y,I){wt(I)==="object"?fh(I,y):J(y)},$o=function(y){y===null||j===w.ADVANCED&&y===void 0||(y=Oc(y),J(y))};function hh(y,I,Z,re,de){var xe=new sa(I||this.boundingBox,Z||this.xStep,re||this.yStep,this.gState,de||this.matrix);xe.stream=this.stream;var Ce=y+"$$"+this.cloneIndex+++"$$";return Un(Ce,xe),xe}var fh=function(y,I){var Z=zs[y.key],re=gt[Z];if(re instanceof ys)J("q"),J(ph(I)),re.gState&&f.setGState(re.gState),J(y.matrix.toString()+" cm"),J("/"+Z+" sh"),J("Q");else if(re instanceof sa){var de=new Ge(1,0,0,-1,0,Yi());y.matrix&&(de=de.multiply(y.matrix||ni),Z=hh.call(re,y.key,y.boundingBox,y.xStep,y.yStep,de).id),J("q"),J("/Pattern cs"),J("/"+Z+" scn"),re.gState&&f.setGState(re.gState),J(I),J("Q")}},ph=function(y){switch(y){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Vo=f.moveTo=function(y,I){return J(T(_(y))+" "+T(B(I))+" m"),this},qs=f.lineTo=function(y,I){return J(T(_(y))+" "+T(B(I))+" l"),this},Gi=f.curveTo=function(y,I,Z,re,de,xe){return J([T(_(y)),T(B(I)),T(_(Z)),T(B(re)),T(_(de)),T(B(xe)),"c"].join(" ")),this};f.__private__.line=f.line=function(y,I,Z,re,de){if(isNaN(y)||isNaN(I)||isNaN(Z)||isNaN(re)||!si(de))throw new Error("Invalid arguments passed to jsPDF.line");return j===w.COMPAT?this.lines([[Z-y,re-I]],y,I,[1,1],de||"S"):this.lines([[Z-y,re-I]],y,I,[1,1]).stroke()},f.__private__.lines=f.lines=function(y,I,Z,re,de,xe){var Ce,ze,He,tt,Ze,ut,Dt,qt,Zt,Nn,cn,Dr;if(typeof y=="number"&&(Dr=Z,Z=I,I=y,y=Dr),re=re||[1,1],xe=xe||!1,isNaN(I)||isNaN(Z)||!Array.isArray(y)||!Array.isArray(re)||!si(de)||typeof xe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Vo(I,Z),Ce=re[0],ze=re[1],tt=y.length,Nn=I,cn=Z,He=0;He<tt;He++)(Ze=y[He]).length===2?(Nn=Ze[0]*Ce+Nn,cn=Ze[1]*ze+cn,qs(Nn,cn)):(ut=Ze[0]*Ce+Nn,Dt=Ze[1]*ze+cn,qt=Ze[2]*Ce+Nn,Zt=Ze[3]*ze+cn,Nn=Ze[4]*Ce+Nn,cn=Ze[5]*ze+cn,Gi(ut,Dt,qt,Zt,Nn,cn));return xe&&zc(),$o(de),this},f.path=function(y){for(var I=0;I<y.length;I++){var Z=y[I],re=Z.c;switch(Z.op){case"m":Vo(re[0],re[1]);break;case"l":qs(re[0],re[1]);break;case"c":Gi.apply(this,re);break;case"h":zc()}}return this},f.__private__.rect=f.rect=function(y,I,Z,re,de){if(isNaN(y)||isNaN(I)||isNaN(Z)||isNaN(re)||!si(de))throw new Error("Invalid arguments passed to jsPDF.rect");return j===w.COMPAT&&(re=-re),J([T(_(y)),T(B(I)),T(_(Z)),T(_(re)),"re"].join(" ")),$o(de),this},f.__private__.triangle=f.triangle=function(y,I,Z,re,de,xe,Ce){if(isNaN(y)||isNaN(I)||isNaN(Z)||isNaN(re)||isNaN(de)||isNaN(xe)||!si(Ce))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Z-y,re-I],[de-Z,xe-re],[y-de,I-xe]],y,I,[1,1],Ce,!0),this},f.__private__.roundedRect=f.roundedRect=function(y,I,Z,re,de,xe,Ce){if(isNaN(y)||isNaN(I)||isNaN(Z)||isNaN(re)||isNaN(de)||isNaN(xe)||!si(Ce))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ze=4/3*(Math.SQRT2-1);return de=Math.min(de,.5*Z),xe=Math.min(xe,.5*re),this.lines([[Z-2*de,0],[de*ze,0,de,xe-xe*ze,de,xe],[0,re-2*xe],[0,xe*ze,-de*ze,xe,-de,xe],[2*de-Z,0],[-de*ze,0,-de,-xe*ze,-de,-xe],[0,2*xe-re],[0,-xe*ze,de*ze,-xe,de,-xe]],y+de,I,[1,1],Ce,!0),this},f.__private__.ellipse=f.ellipse=function(y,I,Z,re,de){if(isNaN(y)||isNaN(I)||isNaN(Z)||isNaN(re)||!si(de))throw new Error("Invalid arguments passed to jsPDF.ellipse");var xe=4/3*(Math.SQRT2-1)*Z,Ce=4/3*(Math.SQRT2-1)*re;return Vo(y+Z,I),Gi(y+Z,I-Ce,y+xe,I-re,y,I-re),Gi(y-xe,I-re,y-Z,I-Ce,y-Z,I),Gi(y-Z,I+Ce,y-xe,I+re,y,I+re),Gi(y+xe,I+re,y+Z,I+Ce,y+Z,I),$o(de),this},f.__private__.circle=f.circle=function(y,I,Z,re){if(isNaN(y)||isNaN(I)||isNaN(Z)||!si(re))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(y,I,Z,Z,re)},f.setFont=function(y,I,Z){return Z&&(I=E(I,Z)),at=Ic(y,I,{disableWarning:!1}),this};var mh=f.__private__.getFont=f.getFont=function(){return jt[Ic.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var y,I,Z={};for(y in Mt)if(Mt.hasOwnProperty(y))for(I in Z[y]=[],Mt[y])Mt[y].hasOwnProperty(I)&&Z[y].push(I);return Z},f.addFont=function(y,I,Z,re,de){var xe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&xe.indexOf(arguments[3])!==-1?de=arguments[3]:arguments[3]&&xe.indexOf(arguments[3])==-1&&(Z=E(Z,re)),de=de||"Identity-H",Uo.call(this,y,I,Z,de)};var Us,Go=t.lineWidth||.200025,Da=f.__private__.getLineWidth=f.getLineWidth=function(){return Go},Rc=f.__private__.setLineWidth=f.setLineWidth=function(y){return Go=y,J(T(_(y))+" w"),this};f.__private__.setLineDash=$e.API.setLineDash=$e.API.setLineDashPattern=function(y,I){if(y=y||[],I=I||0,isNaN(I)||!Array.isArray(y))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return y=y.map(function(Z){return T(_(Z))}).join(" "),I=T(_(I)),J("["+y+"] "+I+" d"),this};var Bc=f.__private__.getLineHeight=f.getLineHeight=function(){return Fe*Us};f.__private__.getLineHeight=f.getLineHeight=function(){return Fe*Us};var qc=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(y){return typeof(y=y||1.15)=="number"&&(Us=y),this},Uc=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Us};qc(t.lineHeight);var ai=f.__private__.getHorizontalCoordinate=function(y){return _(y)},Si=f.__private__.getVerticalCoordinate=function(y){return j===w.ADVANCED?y:Ke[U].mediaBox.topRightY-Ke[U].mediaBox.bottomLeftY-_(y)},gh=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(y){return T(ai(y))},Qi=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(y){return T(Si(y))},Ir=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Fr(Ir)},f.__private__.setStrokeColor=f.setDrawColor=function(y,I,Z,re){return Ir=Tr({ch1:y,ch2:I,ch3:Z,ch4:re,pdfColorType:"draw",precision:2}),J(Ir),this};var Qo=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Fr(Qo)},f.__private__.setFillColor=f.setFillColor=function(y,I,Z,re){return Qo=Tr({ch1:y,ch2:I,ch3:Z,ch4:re,pdfColorType:"fill",precision:2}),J(Qo),this};var Ws=t.textColor||"0 g",yh=f.__private__.getTextColor=f.getTextColor=function(){return Fr(Ws)};f.__private__.setTextColor=f.setTextColor=function(y,I,Z,re){return Ws=Tr({ch1:y,ch2:I,ch3:Z,ch4:re,pdfColorType:"text",precision:3}),this};var Ea=t.charSpace,xh=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Ea||0)};f.__private__.setCharSpace=f.setCharSpace=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ea=y,this};var Yo=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(y){var I=f.CapJoinStyles[y];if(I===void 0)throw new Error("Line cap style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Yo=I,J(I+" J"),this};var Jo=0;f.__private__.setLineJoin=f.setLineJoin=function(y){var I=f.CapJoinStyles[y];if(I===void 0)throw new Error("Line join style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Jo=I,J(I+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(y){if(y=y||0,isNaN(y))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(T(_(y))+" M"),this},f.GState=fc,f.setGState=function(y){(y=typeof y=="string"?Rt[Pr[y]]:Wc(null,y)).equals(wi)||(J("/"+y.id+" gs"),wi=y)};var Wc=function(y,I){if(!y||!Pr[y]){var Z=!1;for(var re in Rt)if(Rt.hasOwnProperty(re)&&Rt[re].equals(I)){Z=!0;break}if(Z)I=Rt[re];else{var de="GS"+(Object.keys(Rt).length+1).toString(10);Rt[de]=I,I.id=de}return y&&(Pr[y]=I.id),yt.publish("addGState",I),I}};f.addGState=function(y,I){return Wc(y,I),this},f.saveGraphicsState=function(){return J("q"),Zr.push({key:at,size:Fe,color:Ws}),this},f.restoreGraphicsState=function(){J("Q");var y=Zr.pop();return at=y.key,Fe=y.size,Ws=y.color,wi=null,this},f.setCurrentTransformationMatrix=function(y){return J(y.toString()+" cm"),this},f.comment=function(y){return J("#"+y),this};var Oa=function(y,I){var Z=y||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Z},set:function(xe){isNaN(xe)||(Z=parseFloat(xe))}});var re=I||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return re},set:function(xe){isNaN(xe)||(re=parseFloat(xe))}});var de="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return de},set:function(xe){de=xe.toString()}}),this},Xo=function(y,I,Z,re){Oa.call(this,y,I),this.type="rect";var de=Z||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return de},set:function(Ce){isNaN(Ce)||(de=parseFloat(Ce))}});var xe=re||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return xe},set:function(Ce){isNaN(Ce)||(xe=parseFloat(Ce))}}),this},Ko=function(){this.page=Bt,this.currentPage=U,this.pages=ge.slice(0),this.pagesContext=Ke.slice(0),this.x=wn,this.y=pt,this.matrix=Cr,this.width=Hs(U),this.height=Yi(U),this.outputDestination=Se,this.id="",this.objectNumber=-1};Ko.prototype.restore=function(){Bt=this.page,U=this.currentPage,Ke=this.pagesContext,ge=this.pages,wn=this.x,pt=this.y,Cr=this.matrix,Zo(U,this.width),el(U,this.height),Se=this.outputDestination};var Hc=function(y,I,Z,re,de){ti.push(new Ko),Bt=U=0,ge=[],wn=y,pt=I,Cr=de,Wo([Z,re])},vh=function(y){if(ei[y])ti.pop().restore();else{var I=new Ko,Z="Xo"+(Object.keys(pn).length+1).toString(10);I.id=Z,ei[y]=Z,pn[Z]=I,yt.publish("addFormObject",I),ti.pop().restore()}};for(var za in f.beginFormObject=function(y,I,Z,re,de){return Hc(y,I,Z,re,de),this},f.endFormObject=function(y){return vh(y),this},f.doFormObject=function(y,I){var Z=pn[ei[y]];return J("q"),J(I.toString()+" cm"),J("/"+Z.id+" Do"),J("Q"),this},f.getFormObject=function(y){var I=pn[ei[y]];return{x:I.x,y:I.y,width:I.width,height:I.height,matrix:I.matrix}},f.save=function(y,I){return y=y||"generated.pdf",(I=I||{}).returnPromise=I.returnPromise||!1,I.returnPromise===!1?(ta(Ta(Ni()),y),typeof ta.unload=="function"&&Qe.setTimeout&&setTimeout(ta.unload,911),this):new Promise(function(Z,re){try{var de=ta(Ta(Ni()),y);typeof ta.unload=="function"&&Qe.setTimeout&&setTimeout(ta.unload,911),Z(de)}catch(xe){re(xe.message)}})},$e.API)$e.API.hasOwnProperty(za)&&(za==="events"&&$e.API.events.length?function(y,I){var Z,re,de;for(de=I.length-1;de!==-1;de--)Z=I[de][0],re=I[de][1],y.subscribe.apply(y,[Z].concat(typeof re=="function"?[re]:re))}(yt,$e.API.events):f[za]=$e.API[za]);var Hs=f.getPageWidth=function(y){return(Ke[y=y||U].mediaBox.topRightX-Ke[y].mediaBox.bottomLeftX)/Oe},Zo=f.setPageWidth=function(y,I){Ke[y].mediaBox.topRightX=I*Oe+Ke[y].mediaBox.bottomLeftX},Yi=f.getPageHeight=function(y){return(Ke[y=y||U].mediaBox.topRightY-Ke[y].mediaBox.bottomLeftY)/Oe},el=f.setPageHeight=function(y,I){Ke[y].mediaBox.topRightY=I*Oe+Ke[y].mediaBox.bottomLeftY};return f.internal={pdfEscape:Wn,getStyle:Oc,getFont:mh,getFontSize:Pe,getCharSpace:xh,getTextColor:yh,getLineHeight:Bc,getLineHeightFactor:Uc,getLineWidth:Da,write:Ue,getHorizontalCoordinate:ai,getVerticalCoordinate:Si,getCoordinateString:gh,getVerticalCoordinateString:Qi,collections:{},newObject:rn,newAdditionalObject:ja,newObjectDeferred:Kt,newObjectDeferredBegin:er,getFilters:ri,putStream:fr,events:yt,scaleFactor:Oe,pageSize:{getWidth:function(){return Hs(U)},setWidth:function(y){Zo(U,y)},getHeight:function(){return Yi(U)},setHeight:function(y){el(U,y)}},encryptionOptions:p,encryption:bn,getEncryptor:ch,output:Ma,getNumberOfPages:ih,pages:ge,out:J,f2:V,f3:A,getPageInfo:Ec,getPageInfoByObjId:Je,getCurrentPageInfo:uh,getPDFVersion:N,Point:Oa,Rectangle:Xo,Matrix:Ge,hasHotfix:Dc},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Hs(U)},set:function(y){Zo(U,y)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return Yi(U)},set:function(y){el(U,y)},enumerable:!0,configurable:!0}),nh.call(f,je),at="F1",Tc(i,n),yt.publish("initialized"),f}lo.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},lo.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},lo.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},lo.prototype.processOwnerPassword=function(t,e){return M0(T0(e).substr(0,5),t)},lo.prototype.encryptor=function(t,e){var n=T0(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return M0(n,r)}},fc.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||wt(t)!==wt(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},$e.API={events:[]},$e.version="2.5.2";var Wt=$e.API,Ep=1,Sa=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},eo=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},et=function(t){return t.toFixed(2)},cs=function(t){return t.toFixed(5)};Wt.__acroform__={};var Zn=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Fm=function(t){return t*Ep},ui=function(t){var e=new R5,n=qe.internal.getHeight(t)||0,r=qe.internal.getWidth(t)||0;return e.BBox=[0,0,Number(et(r)),Number(et(n))],e},iw=Wt.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},sw=Wt.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},aw=Wt.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Yt=Wt.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return aw(t,e-1)},Jt=Wt.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return iw(t,e-1)},Xt=Wt.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return sw(t,e-1)},ow=Wt.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+o)||0,l.upperRight_X=n(i+a)||0,l.upperRight_Y=r(s)||0,[Number(et(l.lowerLeft_X)),Number(et(l.lowerLeft_Y)),Number(et(l.upperRight_X)),Number(et(l.upperRight_Y))]},lw=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=I0(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+et(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=ui(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},I0=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(A){return A.split(`
`)}):i.map(function(A){return[A]});var s=n,a=qe.internal.getHeight(t)||0;a=a<0?-a:a;var o=qe.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(A,_,R){if(A+1<i.length){var B=_+" "+i[A+1][0];return Iu(B,t,R).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var d,p,m=Iu("3",t,s).height,g=t.multiline?a-s:(a-m)/2,f=g+=2,b=0,N=0,F=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Iu(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var x="",w=0,j=0;j<i.length;j++)if(i.hasOwnProperty(j)){var S=!1;if(i[j].length!==1&&F!==i[j].length-1){if((m+2)*(w+2)+2>a)continue e;x+=i[j][F],S=!0,N=j,j--}else{x=(x+=i[j][F]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var P=parseInt(j),E=l(P,x,s),T=j>=i.length-1;if(E&&!T){x+=" ",F=0;continue}if(E||T){if(T)N=P;else if(t.multiline&&(m+2)*(w+2)+2>a)continue e}else{if(!t.multiline||(m+2)*(w+2)+2>a)continue e;N=P}}for(var k="",z=b;z<=N;z++){var V=i[z];if(t.multiline){if(z===N){k+=V[F]+" ",F=(F+1)%V.length;continue}if(z===b){k+=V[V.length-1]+" ";continue}}k+=V[0]+" "}switch(k=k.substr(k.length-1)==" "?k.substr(0,k.length-1):k,p=Iu(k,t,s).width,t.textAlign){case"right":d=o-p-2;break;case"center":d=(o-p)/2;break;case"left":default:d=2}e+=et(d)+" "+et(f)+` Td
`,e+="("+Sa(k)+`) Tj
`,e+=-et(d)+` 0 Td
`,f=-(s+2),p=0,b=S?N:N+1,w++,x=""}break}return r.text=e,r.fontSize=s,r},Iu=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},cw={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},uw=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},dw=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),wt(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},hw=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Xr.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(cw)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Ep=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new B5,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&uw(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],l=[],d=o.Rect;if(o.Rect&&(o.Rect=ow(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=qe.createDefaultAppearanceStream(o),wt(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=d,o.hasAppearanceStream&&!o.appearanceStreamContent){var p=lw(o);l.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(o.appearanceStreamContent){var m="";for(var g in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(g)){var f=o.appearanceStreamContent[g];if(m+="/"+g+" ",m+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var a in f)if(f.hasOwnProperty(a)){var b=f[a];typeof b=="function"&&(b=b.call(i,o)),m+="/"+a+" "+b+" ",i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b)}}else typeof(b=f)=="function"&&(b=b.call(i,o)),m+="/"+a+" "+b,i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b);m+=">>"}l.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&dw(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},z5=Wt.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),wt(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Sa(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},vf=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Sa(r(t))+")"},pi=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};pi.prototype.toString=function(){return this.objId+" 0 R"},pi.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},pi.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:z5(i,this.objId,this.scope)}):i instanceof pi?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var R5=function(){pi.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};Zn(R5,pi);var B5=function(){pi.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Sa(n(t))+")"}},set:function(n){t=n}})};Zn(B5,pi);var Xr=function t(){pi.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Yt(e,3)},set:function(x){x?this.F=Jt(e,3):this.F=Xt(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');n=x}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(x){r=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(x){r[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(x){r[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(x){r[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(x){r[3]=x}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Pd)return;s="FieldObject"+t.FieldNum++}var x=function(w){return w};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+Sa(x(s))+")"},set:function(x){s=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(x){s=x}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(x){a=x}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Ep:d},set:function(x){d=x}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(x){p=x}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof Pd||this instanceof ks))return vf(m,this.objId,this.scope)},set:function(x){x=x.toString(),m=x}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof on?g:vf(g,this.objId,this.scope)},set:function(x){x=x.toString(),g=this instanceof on?x:x.substr(0,1)==="("?eo(x.substr(1,x.length-2)):eo(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof on?eo(g.substr(1,g.length-1)):g},set:function(x){x=x.toString(),g=this instanceof on?"/"+x:x}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof on?f:vf(f,this.objId,this.scope)},set:function(x){x=x.toString(),f=this instanceof on?x:x.substr(0,1)==="("?eo(x.substr(1,x.length-2)):eo(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof on?eo(f.substr(1,f.length-1)):f},set:function(x){x=x.toString(),f=this instanceof on?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,N=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return N},set:function(x){x=!!x,N=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(x){b=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Yt(this.Ff,1)},set:function(x){x?this.Ff=Jt(this.Ff,1):this.Ff=Xt(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Yt(this.Ff,2)},set:function(x){x?this.Ff=Jt(this.Ff,2):this.Ff=Xt(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Yt(this.Ff,3)},set:function(x){x?this.Ff=Jt(this.Ff,3):this.Ff=Xt(this.Ff,3)}});var F=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(F!==null)return F},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');F=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(F){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:F=2;break;case"center":case 1:F=1;break;case"left":case 0:default:F=0}}})};Zn(Xr,pi);var ca=function(){Xr.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return z5(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,d=[];l=a.exec(s);)d.push(l[o]);return d}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Yt(this.Ff,18)},set:function(n){n?this.Ff=Jt(this.Ff,18):this.Ff=Xt(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Yt(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Jt(this.Ff,19):this.Ff=Xt(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Yt(this.Ff,20)},set:function(n){n?(this.Ff=Jt(this.Ff,20),e.sort()):this.Ff=Xt(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yt(this.Ff,22)},set:function(n){n?this.Ff=Jt(this.Ff,22):this.Ff=Xt(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yt(this.Ff,23)},set:function(n){n?this.Ff=Jt(this.Ff,23):this.Ff=Xt(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Yt(this.Ff,27)},set:function(n){n?this.Ff=Jt(this.Ff,27):this.Ff=Xt(this.Ff,27)}}),this.hasAppearanceStream=!1};Zn(ca,Xr);var ua=function(){ca.call(this),this.fontName="helvetica",this.combo=!1};Zn(ua,ca);var da=function(){ua.call(this),this.combo=!0};Zn(da,ua);var Wl=function(){da.call(this),this.edit=!0};Zn(Wl,da);var on=function(){Xr.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Yt(this.Ff,15)},set:function(n){n?this.Ff=Jt(this.Ff,15):this.Ff=Xt(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Yt(this.Ff,16)},set:function(n){n?this.Ff=Jt(this.Ff,16):this.Ff=Xt(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Yt(this.Ff,17)},set:function(n){n?this.Ff=Jt(this.Ff,17):this.Ff=Xt(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Yt(this.Ff,26)},set:function(n){n?this.Ff=Jt(this.Ff,26):this.Ff=Xt(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Sa(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){wt(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};Zn(on,Xr);var Hl=function(){on.call(this),this.pushButton=!0};Zn(Hl,on);var ha=function(){on.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Zn(ha,on);var Pd=function(){var t,e;Xr.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+Sa(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){wt(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=qe.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Zn(Pd,Xr),ha.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},ha.prototype.createOption=function(t){var e=new Pd;return e.Parent=this,e.optionName=t,this.Kids.push(e),fw.call(this.scope,e),e};var $l=function(){on.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=qe.CheckBox.createAppearanceStream()};Zn($l,on);var ks=function(){Xr.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Yt(this.Ff,13)},set:function(e){e?this.Ff=Jt(this.Ff,13):this.Ff=Xt(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Yt(this.Ff,21)},set:function(e){e?this.Ff=Jt(this.Ff,21):this.Ff=Xt(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Yt(this.Ff,23)},set:function(e){e?this.Ff=Jt(this.Ff,23):this.Ff=Xt(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Yt(this.Ff,24)},set:function(e){e?this.Ff=Jt(this.Ff,24):this.Ff=Xt(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Yt(this.Ff,25)},set:function(e){e?this.Ff=Jt(this.Ff,25):this.Ff=Xt(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Yt(this.Ff,26)},set:function(e){e?this.Ff=Jt(this.Ff,26):this.Ff=Xt(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Zn(ks,Xr);var Vl=function(){ks.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Yt(this.Ff,14)},set:function(t){t?this.Ff=Jt(this.Ff,14):this.Ff=Xt(this.Ff,14)}}),this.password=!0};Zn(Vl,ks);var qe={CheckBox:{createAppearanceStream:function(){return{N:{On:qe.CheckBox.YesNormal},D:{On:qe.CheckBox.YesPushDown,Off:qe.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=ui(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=I0(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+et(qe.internal.getWidth(t))+" "+et(qe.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+et(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=ui(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=qe.internal.getHeight(t),a=qe.internal.getWidth(t),o=I0(t,t.caption);return i.push("1 g"),i.push("0 0 "+et(a)+" "+et(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+et(a-1)+" "+et(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+et(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=ui(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+et(qe.internal.getWidth(t))+" "+et(qe.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:qe.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=qe.RadioButton.Circle.YesNormal,e.D[t]=qe.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=ui(t);e.scope=t.scope;var n=[],r=qe.internal.getWidth(t)<=qe.internal.getHeight(t)?qe.internal.getWidth(t)/4:qe.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=qe.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+cs(qe.internal.getWidth(t)/2)+" "+cs(qe.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ui(t);e.scope=t.scope;var n=[],r=qe.internal.getWidth(t)<=qe.internal.getHeight(t)?qe.internal.getWidth(t)/4:qe.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*qe.internal.Bezier_C).toFixed(5)),a=Number((r*qe.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+cs(qe.internal.getWidth(t)/2)+" "+cs(qe.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+cs(qe.internal.getWidth(t)/2)+" "+cs(qe.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=ui(t);e.scope=t.scope;var n=[],r=qe.internal.getWidth(t)<=qe.internal.getHeight(t)?qe.internal.getWidth(t)/4:qe.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*qe.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+cs(qe.internal.getWidth(t)/2)+" "+cs(qe.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:qe.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=qe.RadioButton.Cross.YesNormal,e.D[t]=qe.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=ui(t);e.scope=t.scope;var n=[],r=qe.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+et(qe.internal.getWidth(t)-2)+" "+et(qe.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(et(r.x1.x)+" "+et(r.x1.y)+" m"),n.push(et(r.x2.x)+" "+et(r.x2.y)+" l"),n.push(et(r.x4.x)+" "+et(r.x4.y)+" m"),n.push(et(r.x3.x)+" "+et(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=ui(t);e.scope=t.scope;var n=qe.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+et(qe.internal.getWidth(t))+" "+et(qe.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+et(qe.internal.getWidth(t)-2)+" "+et(qe.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(et(n.x1.x)+" "+et(n.x1.y)+" m"),r.push(et(n.x2.x)+" "+et(n.x2.y)+" l"),r.push(et(n.x4.x)+" "+et(n.x4.y)+" m"),r.push(et(n.x3.x)+" "+et(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=ui(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+et(qe.internal.getWidth(t))+" "+et(qe.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};qe.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=qe.internal.getWidth(t),n=qe.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},qe.internal.getWidth=function(t){var e=0;return wt(t)==="object"&&(e=Fm(t.Rect[2])),e},qe.internal.getHeight=function(t){var e=0;return wt(t)==="object"&&(e=Fm(t.Rect[3])),e};var fw=Wt.addField=function(t){if(hw(this,t),!(t instanceof Xr))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Wt.AcroFormChoiceField=ca,Wt.AcroFormListBox=ua,Wt.AcroFormComboBox=da,Wt.AcroFormEditBox=Wl,Wt.AcroFormButton=on,Wt.AcroFormPushButton=Hl,Wt.AcroFormRadioButton=ha,Wt.AcroFormCheckBox=$l,Wt.AcroFormTextField=ks,Wt.AcroFormPasswordField=Vl,Wt.AcroFormAppearance=qe,Wt.AcroForm={ChoiceField:ca,ListBox:ua,ComboBox:da,EditBox:Wl,Button:on,PushButton:Hl,RadioButton:ha,CheckBox:$l,TextField:ks,PasswordField:Vl,Appearance:qe},$e.AcroForm={ChoiceField:ca,ListBox:ua,ComboBox:da,EditBox:Wl,Button:on,PushButton:Hl,RadioButton:ha,CheckBox:$l,TextField:ks,PasswordField:Vl,Appearance:qe};var pw=$e.AcroForm;function q5(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(A,_){var R,B,ae,H,Y,W=e;if((_=_||e)==="RGBA"||A.data!==void 0&&A.data instanceof Uint8ClampedArray&&"height"in A&&"width"in A)return"RGBA";if(E(A))for(Y in n)for(ae=n[Y],R=0;R<ae.length;R+=1){for(H=!0,B=0;B<ae[R].length;B+=1)if(ae[R][B]!==void 0&&ae[R][B]!==A[B]){H=!1;break}if(H===!0){W=Y;break}}else for(Y in n)for(ae=n[Y],R=0;R<ae.length;R+=1){for(H=!0,B=0;B<ae[R].length;B+=1)if(ae[R][B]!==void 0&&ae[R][B]!==A.charCodeAt(B)){H=!1;break}if(H===!0){W=Y;break}}return W===e&&_!==e&&(W=_),W},i=function A(_){for(var R=this.internal.write,B=this.internal.putStream,ae=(0,this.internal.getFilters)();ae.indexOf("FlateEncode")!==-1;)ae.splice(ae.indexOf("FlateEncode"),1);_.objectId=this.internal.newObject();var H=[];if(H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Image"}),H.push({key:"Width",value:_.width}),H.push({key:"Height",value:_.height}),_.colorSpace===F.INDEXED?H.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(_.palette.length/3-1)+" "+("sMask"in _&&_.sMask!==void 0?_.objectId+2:_.objectId+1)+" 0 R]"}):(H.push({key:"ColorSpace",value:"/"+_.colorSpace}),_.colorSpace===F.DEVICE_CMYK&&H.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),H.push({key:"BitsPerComponent",value:_.bitsPerComponent}),"decodeParameters"in _&&_.decodeParameters!==void 0&&H.push({key:"DecodeParms",value:"<<"+_.decodeParameters+">>"}),"transparency"in _&&Array.isArray(_.transparency)){for(var Y="",W=0,G=_.transparency.length;W<G;W++)Y+=_.transparency[W]+" "+_.transparency[W]+" ";H.push({key:"Mask",value:"["+Y+"]"})}_.sMask!==void 0&&H.push({key:"SMask",value:_.objectId+1+" 0 R"});var te=_.filter!==void 0?["/"+_.filter]:void 0;if(B({data:_.data,additionalKeyValues:H,alreadyAppliedFilters:te,objectId:_.objectId}),R("endobj"),"sMask"in _&&_.sMask!==void 0){var le="/Predictor "+_.predictor+" /Colors 1 /BitsPerComponent "+_.bitsPerComponent+" /Columns "+_.width,L={width:_.width,height:_.height,colorSpace:"DeviceGray",bitsPerComponent:_.bitsPerComponent,decodeParameters:le,data:_.sMask};"filter"in _&&(L.filter=_.filter),A.call(this,L)}if(_.colorSpace===F.INDEXED){var U=this.internal.newObject();B({data:k(new Uint8Array(_.palette)),objectId:U}),R("endobj")}},s=function(){var A=this.internal.collections.addImage_images;for(var _ in A)i.call(this,A[_])},a=function(){var A,_=this.internal.collections.addImage_images,R=this.internal.write;for(var B in _)R("/I"+(A=_[B]).index,A.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var A=this.internal.collections.addImage_images;return o.call(this),A},d=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(A){return typeof t["process"+A.toUpperCase()]=="function"},m=function(A){return wt(A)==="object"&&A.nodeType===1},g=function(A,_){if(A.nodeName==="IMG"&&A.hasAttribute("src")){var R=""+A.getAttribute("src");if(R.indexOf("data:image/")===0)return Ul(unescape(R).split("base64,").pop());var B=t.loadFile(R,!0);if(B!==void 0)return B}if(A.nodeName==="CANVAS"){if(A.width===0||A.height===0)throw new Error("Given canvas must have data. Canvas width: "+A.width+", height: "+A.height);var ae;switch(_){case"PNG":ae="image/png";break;case"WEBP":ae="image/webp";break;case"JPEG":case"JPG":default:ae="image/jpeg"}return Ul(A.toDataURL(ae,1).split("base64,").pop())}},f=function(A){var _=this.internal.collections.addImage_images;if(_){for(var R in _)if(A===_[R].alias)return _[R]}},b=function(A,_,R){return A||_||(A=-96,_=-96),A<0&&(A=-1*R.width*72/A/this.internal.scaleFactor),_<0&&(_=-1*R.height*72/_/this.internal.scaleFactor),A===0&&(A=_*R.width/R.height),_===0&&(_=A*R.height/R.width),[A,_]},N=function(A,_,R,B,ae,H){var Y=b.call(this,R,B,ae),W=this.internal.getCoordinateString,G=this.internal.getVerticalCoordinateString,te=l.call(this);if(R=Y[0],B=Y[1],te[ae.index]=ae,H){H*=Math.PI/180;var le=Math.cos(H),L=Math.sin(H),U=function(K){return K.toFixed(4)},Q=[U(le),U(L),U(-1*L),U(le),0,0,"cm"]}this.internal.write("q"),H?(this.internal.write([1,"0","0",1,W(A),G(_+B),"cm"].join(" ")),this.internal.write(Q.join(" ")),this.internal.write([W(R),"0","0",W(B),"0","0","cm"].join(" "))):this.internal.write([W(R),"0","0",W(B),W(A),G(_+B),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ae.index+" Do"),this.internal.write("Q")},F=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=t.__addimage__.sHashCode=function(A){var _,R,B=0;if(typeof A=="string")for(R=A.length,_=0;_<R;_++)B=(B<<5)-B+A.charCodeAt(_),B|=0;else if(E(A))for(R=A.byteLength/2,_=0;_<R;_++)B=(B<<5)-B+A[_],B|=0;return B},j=t.__addimage__.validateStringAsBase64=function(A){(A=A||"").toString().trim();var _=!0;return A.length===0&&(_=!1),A.length%4!=0&&(_=!1),/^[A-Za-z0-9+/]+$/.test(A.substr(0,A.length-2))===!1&&(_=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(A.substr(-2))===!1&&(_=!1),_},S=t.__addimage__.extractImageFromDataUrl=function(A){var _=(A=A||"").split("base64,"),R=null;if(_.length===2){var B=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(_[0]);Array.isArray(B)&&(R={mimeType:B[1],charset:B[2],data:_[1]})}return R},P=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(A){return P()&&A instanceof ArrayBuffer};var E=t.__addimage__.isArrayBufferView=function(A){return P()&&typeof Uint32Array<"u"&&(A instanceof Int8Array||A instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&A instanceof Uint8ClampedArray||A instanceof Int16Array||A instanceof Uint16Array||A instanceof Int32Array||A instanceof Uint32Array||A instanceof Float32Array||A instanceof Float64Array)},T=t.__addimage__.binaryStringToUint8Array=function(A){for(var _=A.length,R=new Uint8Array(_),B=0;B<_;B++)R[B]=A.charCodeAt(B);return R},k=t.__addimage__.arrayBufferToBinaryString=function(A){for(var _="",R=E(A)?A:new Uint8Array(A),B=0;B<R.length;B+=8192)_+=String.fromCharCode.apply(null,R.subarray(B,B+8192));return _};t.addImage=function(){var A,_,R,B,ae,H,Y,W,G;if(typeof arguments[1]=="number"?(_=e,R=arguments[1],B=arguments[2],ae=arguments[3],H=arguments[4],Y=arguments[5],W=arguments[6],G=arguments[7]):(_=arguments[1],R=arguments[2],B=arguments[3],ae=arguments[4],H=arguments[5],Y=arguments[6],W=arguments[7],G=arguments[8]),wt(A=arguments[0])==="object"&&!m(A)&&"imageData"in A){var te=A;A=te.imageData,_=te.format||_||e,R=te.x||R||0,B=te.y||B||0,ae=te.w||te.width||ae,H=te.h||te.height||H,Y=te.alias||Y,W=te.compression||W,G=te.rotation||te.angle||G}var le=this.internal.getFilters();if(W===void 0&&le.indexOf("FlateEncode")!==-1&&(W="SLOW"),isNaN(R)||isNaN(B))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var L=z.call(this,A,_,Y,W);return N.call(this,R,B,ae,H,L,G),this};var z=function(A,_,R,B){var ae,H,Y;if(typeof A=="string"&&r(A)===e){A=unescape(A);var W=V(A,!1);(W!==""||(W=t.loadFile(A,!0))!==void 0)&&(A=W)}if(m(A)&&(A=g(A,_)),_=r(A,_),!p(_))throw new Error("addImage does not support files of type '"+_+"', please ensure that a plugin for '"+_+"' support is added.");if(((Y=R)==null||Y.length===0)&&(R=function(G){return typeof G=="string"||E(G)?w(G):E(G.data)?w(G.data):null}(A)),(ae=f.call(this,R))||(P()&&(A instanceof Uint8Array||_==="RGBA"||(H=A,A=T(A))),ae=this["process"+_.toUpperCase()](A,d.call(this),R,function(G){return G&&typeof G=="string"&&(G=G.toUpperCase()),G in t.image_compression?G:x.NONE}(B),H)),!ae)throw new Error("An unknown error occurred whilst processing the image.");return ae},V=t.__addimage__.convertBase64ToBinaryString=function(A,_){var R;_=typeof _!="boolean"||_;var B,ae="";if(typeof A=="string"){B=(R=S(A))!==null?R.data:A;try{ae=Ul(B)}catch(H){if(_)throw j(B)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+H.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ae};t.getImageProperties=function(A){var _,R,B="";if(m(A)&&(A=g(A)),typeof A=="string"&&r(A)===e&&((B=V(A,!1))===""&&(B=t.loadFile(A)||""),A=B),R=r(A),!p(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(!P()||A instanceof Uint8Array||(A=T(A)),!(_=this["process"+R.toUpperCase()](A)))throw new Error("An unknown error occurred whilst processing the image");return _.fileType=R,_}})($e.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};$e.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),d=n.pageContext.annotations,p=!1,m=0;m<d.length&&!p;m++)switch((r=d[m]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var g=0;g<d.length;g++){r=d[g];var f=this.internal.pdfEscape,b=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var N=this.internal.newAdditionalObject(),F=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(N.objId),w=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+f(x(r.contents))+")",s+=" /Popup "+F.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+f(x(w))+") >>",N.content=s;var j=N.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+j,r.open&&(s+=" /Open true"),s+=" >>",F.content=s,this.internal.write(N.objId,"0 R",F.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var S=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(b(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+S+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var P=this.annotations._nameMap[r.options.name];r.options.pageNumber=P.page,r.options.top=P.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(b(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var E=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+E+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:d(r),w:l(n+i),h:d(r+s)},options:a,type:"link"})},t.textWithLink=function(n,r,i,s){var a,o,l=this.getTextWidth(n),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var p=this.splitTextToSize(n,o).length;a=Math.ceil(d*p)}else o=l,a=d;return this.text(n,r,i,s),i+=.2*d,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-d,o,a,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}($e.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(N){return e[N.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(N){return typeof N=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(N)},o=t.__arabicParser__.isArabicEndLetter=function(N){return a(N)&&s(N)&&e[N.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(N){return a(N)&&i.indexOf(N.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(N){return a(N)&&s(N)&&e[N.charCodeAt(0)].length>=1};var d=t.__arabicParser__.arabicLetterHasFinalForm=function(N){return a(N)&&s(N)&&e[N.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(N){return a(N)&&s(N)&&e[N.charCodeAt(0)].length>=3};var p=t.__arabicParser__.arabicLetterHasMedialForm=function(N){return a(N)&&s(N)&&e[N.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(N){var F=0,x=n,w="",j=0;for(F=0;F<N.length;F+=1)x[N.charCodeAt(F)]!==void 0?(j++,typeof(x=x[N.charCodeAt(F)])=="number"&&(w+=String.fromCharCode(x),x=n,j=0),F===N.length-1&&(x=n,w+=N.charAt(F-(j-1)),F-=j-1,j=0)):(x=n,w+=N.charAt(F-j),F-=j,j=0);return w};t.__arabicParser__.isArabicDiacritic=function(N){return N!==void 0&&r[N.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(N,F,x){return a(N)?s(N)===!1?-1:!d(N)||!a(F)&&!a(x)||!a(x)&&o(F)||o(N)&&!a(F)||o(N)&&l(F)||o(N)&&o(F)?0:p(N)&&a(F)&&!o(F)&&a(x)&&d(x)?3:o(N)||!a(x)?1:2:-1},f=function(N){var F=0,x=0,w=0,j="",S="",P="",E=(N=N||"").split("\\s+"),T=[];for(F=0;F<E.length;F+=1){for(T.push(""),x=0;x<E[F].length;x+=1)j=E[F][x],S=E[F][x-1],P=E[F][x+1],a(j)?(w=g(j,S,P),T[F]+=w!==-1?String.fromCharCode(e[j.charCodeAt(0)][w]):j):T[F]+=j;T[F]=m(T[F])}return T.join(" ")},b=t.__arabicParser__.processArabic=t.processArabic=function(){var N,F=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(F)){var w=0;for(x=[],w=0;w<F.length;w+=1)Array.isArray(F[w])?x.push([f(F[w][0]),F[w][1],F[w][2]]):x.push([f(F[w])]);N=x}else N=f(F);return typeof arguments[0]=="string"?N:(arguments[0].text=N,arguments[0])};t.events.push(["preProcessText",b])}($e.API),$e.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}($e.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(N){l=N}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(N){d=N}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(N){p=N}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(N){m=N}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(N){g=N}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(N){f=N}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(N){b=N}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,d){r.call(this);var p=(d=d||{}).fontSize||this.getFontSize(),m=d.font||this.getFont(),g=d.scaleFactor||this.internal.scaleFactor,f=0,b=0,N=0,F=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var x=d.maxWidth;x>0?typeof l=="string"?l=this.splitTextToSize(l,x):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(j,S){return j.concat(F.splitTextToSize(S,x))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)f<(N=this.getStringUnitWidth(l[w],{font:m})*p)&&(f=N);return f!==0&&(b=l.length),{w:f/=g,h:Math.max((b*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var d=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===l.lineNumber?(l.x=(d.x||0)+(d.width||0),l.y=d.y||0):d.y+d.height+l.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=m.top,f&&g&&(this.printHeaderRow(l.lineNumber,!0),l.y+=g[0].height)):l.y=d.y+d.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-p,l.y+p,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+p,{align:"center",baseline:"top",maxWidth:l.width-p-p}):this.text(l.text,l.x+p,l.y+p,{align:"left",baseline:"top",maxWidth:l.width-p-p})),this.internal.__cell__.lastCell=l,this};t.table=function(l,d,p,m,g){if(r.call(this),!p)throw new Error("No data for PDF table.");var f,b,N,F,x=[],w=[],j=[],S={},P={},E=[],T=[],k=(g=g||{}).autoSize||!1,z=g.printHeaders!==!1,V=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,A=g.margins||Object.assign({width:this.getPageWidth()},e),_=typeof g.padding=="number"?g.padding:3,R=g.headerBackgroundColor||"#c8c8c8",B=g.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=z,this.internal.__cell__.margins=A,this.internal.__cell__.table_font_size=V,this.internal.__cell__.padding=_,this.internal.__cell__.headerBackgroundColor=R,this.internal.__cell__.headerTextColor=B,this.setFontSize(V),m==null)w=x=Object.keys(p[0]),j=x.map(function(){return"left"});else if(Array.isArray(m)&&wt(m[0])==="object")for(x=m.map(function(te){return te.name}),w=m.map(function(te){return te.prompt||te.name||""}),j=m.map(function(te){return te.align||"left"}),f=0;f<m.length;f+=1)P[m[f].name]=m[f].width*(19.049976/25.4);else Array.isArray(m)&&typeof m[0]=="string"&&(w=x=m,j=x.map(function(){return"left"}));if(k||Array.isArray(m)&&typeof m[0]=="string")for(f=0;f<x.length;f+=1){for(S[F=x[f]]=p.map(function(te){return te[F]}),this.setFont(void 0,"bold"),E.push(this.getTextDimensions(w[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=S[F],this.setFont(void 0,"normal"),N=0;N<b.length;N+=1)E.push(this.getTextDimensions(b[N],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);P[F]=Math.max.apply(null,E)+_+_,E=[]}if(z){var ae={};for(f=0;f<x.length;f+=1)ae[x[f]]={},ae[x[f]].text=w[f],ae[x[f]].align=j[f];var H=o.call(this,ae,P);T=x.map(function(te){return new s(l,d,P[te],H,ae[te].text,void 0,ae[te].align)}),this.setTableHeaderRow(T),this.printHeaderRow(1,!1)}var Y=m.reduce(function(te,le){return te[le.name]=le.align,te},{});for(f=0;f<p.length;f+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:f,data:p[f]},this);var W=o.call(this,p[f],P);for(N=0;N<x.length;N+=1){var G=p[f][x[N]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:f,col:N,data:G},this),a.call(this,new s(l,d,P[x[N]],W,G,f+2,Y[x[N]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=d,this};var o=function(l,d){var p=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(l).map(function(f){var b=l[f];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,d[f]-p-p)},this).map(function(f){return this.getLineHeightFactor()*f.length*m/g+p+p},this).reduce(function(f,b){return Math.max(f,b)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,d){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){p=this.internal.__cell__.tableHeaderRow[f].clone(),d&&(p.y=this.internal.__cell__.margins.top||0,g.push(p)),p.lineNumber=l;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,p),this.setTextColor(b)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),n=!1}}($e.API);var U5={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},W5=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],D0=q5(W5),H5=[100,200,300,400,500,600,700,800,900],mw=q5(H5);function E0(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return U5[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof D0[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function Tm(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var gw={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mm={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Im(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function yw(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},gw,n.genericFontFamilies||{}),s=null,a=null,o=0;o<e.length;++o)if(i[(s=E0(e[o])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){a=t[s.family];break}if(!(a=a||t[r]))throw new Error("Could not find a font-family for the rule '"+Im(s)+"' and default family '"+r+"'.");if(a=function(l,d){if(d[l])return d[l];var p=D0[l],m=p<=D0.normal?-1:1,g=Tm(d,W5,p,m);if(!g)throw new Error("Could not find a matching font-stretch value for "+l);return g}(s.stretch,a),a=function(l,d){if(d[l])return d[l];for(var p=U5[l],m=0;m<p.length;++m)if(d[p[m]])return d[p[m]];throw new Error("Could not find a matching font-style for "+l)}(s.style,a),!(a=function(l,d){if(d[l])return d[l];if(l===400&&d[500])return d[500];if(l===500&&d[400])return d[400];var p=mw[l],m=Tm(d,H5,p,l<400?-1:1);if(!m)throw new Error("Could not find a matching font-weight for value "+l);return m}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+Im(s)+"'.");return a}function Dm(t){return t.trimLeft()}function xw(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function vw(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Du,Em,Om,wf=["times"];(function(t){var e,n,r,i,s,a,o,l,d,p=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new l,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new a,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new a,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,d=new p}]);var m=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var U=L;Object.defineProperty(this,"pdf",{get:function(){return U}});var Q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Q},set:function(ne){Q=!!ne}});var K=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return K},set:function(ne){K=!!ne}});var ee=0;Object.defineProperty(this,"posX",{get:function(){return ee},set:function(ne){isNaN(ne)||(ee=ne)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(ne){isNaN(ne)||(ce=ne)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ne){var J;typeof ne=="number"?J=[ne,ne,ne,ne]:((J=new Array(4))[0]=ne[0],J[1]=ne.length>=2?ne[1]:J[0],J[2]=ne.length>=3?ne[2]:J[0],J[3]=ne.length>=4?ne[3]:J[1]),d.margin=J}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(ne){he=ne}});var fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return fe},set:function(ne){fe=ne}});var Ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ae},set:function(ne){Ae=ne}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ne){ne instanceof p&&(d=ne)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ne){d.path=ne}});var ge=[];Object.defineProperty(this,"ctxStack",{get:function(){return ge},set:function(ne){ge=ne}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ne){var J;J=g(ne),this.ctx.fillStyle=J.style,this.ctx.isFillTransparent=J.a===0,this.ctx.fillOpacity=J.a,this.pdf.setFillColor(J.r,J.g,J.b,{a:J.a}),this.pdf.setTextColor(J.r,J.g,J.b,{a:J.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ne){var J=g(ne);this.ctx.strokeStyle=J.style,this.ctx.isStrokeTransparent=J.a===0,this.ctx.strokeOpacity=J.a,J.a===0?this.pdf.setDrawColor(255,255,255):(J.a,this.pdf.setDrawColor(J.r,J.g,J.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ne){["butt","round","square"].indexOf(ne)!==-1&&(this.ctx.lineCap=ne,this.pdf.setLineCap(ne))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ne){isNaN(ne)||(this.ctx.lineWidth=ne,this.pdf.setLineWidth(ne))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ne){["bevel","round","miter"].indexOf(ne)!==-1&&(this.ctx.lineJoin=ne,this.pdf.setLineJoin(ne))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ne){isNaN(ne)||(this.ctx.miterLimit=ne,this.pdf.setMiterLimit(ne))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ne){this.ctx.textBaseline=ne}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ne){["right","end","center","left","start"].indexOf(ne)!==-1&&(this.ctx.textAlign=ne)}});var we=null;function Se(ne,J){if(we===null){var Ue=function(Te){var je=[];return Object.keys(Te).forEach(function(Fe){Te[Fe].forEach(function(De){var Pe=null;switch(De){case"bold":Pe={family:Fe,weight:"bold"};break;case"italic":Pe={family:Fe,style:"italic"};break;case"bolditalic":Pe={family:Fe,weight:"bold",style:"italic"};break;case"":case"normal":Pe={family:Fe}}Pe!==null&&(Pe.ref={name:Fe,style:De},je.push(Pe))})}),je}(ne.getFontList());we=function(Te){for(var je={},Fe=0;Fe<Te.length;++Fe){var De=E0(Te[Fe]),Pe=De.family,We=De.stretch,Xe=De.style,it=De.weight;je[Pe]=je[Pe]||{},je[Pe][We]=je[Pe][We]||{},je[Pe][We][Xe]=je[Pe][We][Xe]||{},je[Pe][We][Xe][it]=De}return je}(Ue.concat(J))}return we}var Le=null;Object.defineProperty(this,"fontFaces",{get:function(){return Le},set:function(ne){we=null,Le=ne}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ne){var J;if(this.ctx.font=ne,(J=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ne))!==null){var Ue=J[1],Te=(J[2],J[3]),je=J[4],Fe=(J[5],J[6]),De=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(je)[2];je=Math.floor(De==="px"?parseFloat(je)*this.pdf.internal.scaleFactor:De==="em"?parseFloat(je)*this.pdf.getFontSize():parseFloat(je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(je);var Pe=function(Ye){var at,Oe,wn=[],pt=Ye.trim();if(pt==="")return wf;if(pt in Mm)return[Mm[pt]];for(;pt!=="";){switch(Oe=null,at=(pt=Dm(pt)).charAt(0)){case'"':case"'":Oe=xw(pt.substring(1),at);break;default:Oe=vw(pt)}if(Oe===null||(wn.push(Oe[0]),(pt=Dm(Oe[1]))!==""&&pt.charAt(0)!==","))return wf;pt=pt.replace(/^,/,"")}return wn}(Fe);if(this.fontFaces){var We=yw(Se(this.pdf,this.fontFaces),Pe.map(function(Ye){return{family:Ye,stretch:"normal",weight:Te,style:Ue}}));this.pdf.setFont(We.ref.name,We.ref.style)}else{var Xe="";(Te==="bold"||parseInt(Te,10)>=700||Ue==="bold")&&(Xe="bold"),Ue==="italic"&&(Xe+="italic"),Xe.length===0&&(Xe="normal");for(var it="",st={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},dt=0;dt<Pe.length;dt++){if(this.pdf.internal.getFont(Pe[dt],Xe,{noFallback:!0,disableWarning:!0})!==void 0){it=Pe[dt];break}if(Xe==="bolditalic"&&this.pdf.internal.getFont(Pe[dt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)it=Pe[dt],Xe="bold";else if(this.pdf.internal.getFont(Pe[dt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){it=Pe[dt],Xe="normal";break}}if(it===""){for(var Nt=0;Nt<Pe.length;Nt++)if(st[Pe[Nt]]){it=st[Pe[Nt]];break}}it=it===""?"Times":it,this.pdf.setFont(it,Xe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ne){this.ctx.globalCompositeOperation=ne}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ne){this.ctx.globalAlpha=ne}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ne){this.ctx.lineDashOffset=ne,le.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ne){this.ctx.lineDash=ne,le.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ne){this.ctx.ignoreClearRect=!!ne}})};m.prototype.setLineDash=function(L){this.lineDash=L},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){S.call(this,"fill",!1)},m.prototype.stroke=function(){S.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(L,U){if(isNaN(L)||isNaN(U))throw At.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Q=this.ctx.transform.applyToPoint(new a(L,U));this.path.push({type:"mt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new a(L,U)},m.prototype.closePath=function(){var L=new a(0,0),U=0;for(U=this.path.length-1;U!==-1;U--)if(this.path[U].type==="begin"&&wt(this.path[U+1])==="object"&&typeof this.path[U+1].x=="number"){L=new a(this.path[U+1].x,this.path[U+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(L.x,L.y)},m.prototype.lineTo=function(L,U){if(isNaN(L)||isNaN(U))throw At.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Q=this.ctx.transform.applyToPoint(new a(L,U));this.path.push({type:"lt",x:Q.x,y:Q.y}),this.ctx.lastPoint=new a(Q.x,Q.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),S.call(this,null,!0)},m.prototype.quadraticCurveTo=function(L,U,Q,K){if(isNaN(Q)||isNaN(K)||isNaN(L)||isNaN(U))throw At.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ee=this.ctx.transform.applyToPoint(new a(Q,K)),ce=this.ctx.transform.applyToPoint(new a(L,U));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new a(ee.x,ee.y)},m.prototype.bezierCurveTo=function(L,U,Q,K,ee,ce){if(isNaN(ee)||isNaN(ce)||isNaN(L)||isNaN(U)||isNaN(Q)||isNaN(K))throw At.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new a(ee,ce)),fe=this.ctx.transform.applyToPoint(new a(L,U)),Ae=this.ctx.transform.applyToPoint(new a(Q,K));this.path.push({type:"bct",x1:fe.x,y1:fe.y,x2:Ae.x,y2:Ae.y,x:he.x,y:he.y}),this.ctx.lastPoint=new a(he.x,he.y)},m.prototype.arc=function(L,U,Q,K,ee,ce){if(isNaN(L)||isNaN(U)||isNaN(Q)||isNaN(K)||isNaN(ee))throw At.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new a(L,U));L=he.x,U=he.y;var fe=this.ctx.transform.applyToPoint(new a(0,Q)),Ae=this.ctx.transform.applyToPoint(new a(0,0));Q=Math.sqrt(Math.pow(fe.x-Ae.x,2)+Math.pow(fe.y-Ae.y,2))}Math.abs(ee-K)>=2*Math.PI&&(K=0,ee=2*Math.PI),this.path.push({type:"arc",x:L,y:U,radius:Q,startAngle:K,endAngle:ee,counterclockwise:ce})},m.prototype.arcTo=function(L,U,Q,K,ee){throw new Error("arcTo not implemented.")},m.prototype.rect=function(L,U,Q,K){if(isNaN(L)||isNaN(U)||isNaN(Q)||isNaN(K))throw At.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,U),this.lineTo(L+Q,U),this.lineTo(L+Q,U+K),this.lineTo(L,U+K),this.lineTo(L,U),this.lineTo(L+Q,U),this.lineTo(L,U)},m.prototype.fillRect=function(L,U,Q,K){if(isNaN(L)||isNaN(U)||isNaN(Q)||isNaN(K))throw At.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var ee={};this.lineCap!=="butt"&&(ee.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ee.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,U,Q,K),this.fill(),ee.hasOwnProperty("lineCap")&&(this.lineCap=ee.lineCap),ee.hasOwnProperty("lineJoin")&&(this.lineJoin=ee.lineJoin)}},m.prototype.strokeRect=function(L,U,Q,K){if(isNaN(L)||isNaN(U)||isNaN(Q)||isNaN(K))throw At.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(L,U,Q,K),this.stroke())},m.prototype.clearRect=function(L,U,Q,K){if(isNaN(L)||isNaN(U)||isNaN(Q)||isNaN(K))throw At.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,U,Q,K))},m.prototype.save=function(L){L=typeof L!="boolean"||L;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("q");if(this.pdf.setPage(U),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var K=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=K}},m.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,Q=0;Q<this.pdf.internal.getNumberOfPages();Q++)this.pdf.setPage(Q+1),this.pdf.internal.out("Q");this.pdf.setPage(U),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(L){var U,Q,K,ee;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))U=0,Q=0,K=0,ee=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(ce!==null)U=parseInt(ce[1]),Q=parseInt(ce[2]),K=parseInt(ce[3]),ee=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)U=parseInt(ce[1]),Q=parseInt(ce[2]),K=parseInt(ce[3]),ee=parseFloat(ce[4]);else{if(ee=1,typeof L=="string"&&L.charAt(0)!=="#"){var he=new D5(L);L=he.ok?he.toHex():"#000000"}L.length===4?(U=L.substring(1,2),U+=U,Q=L.substring(2,3),Q+=Q,K=L.substring(3,4),K+=K):(U=L.substring(1,3),Q=L.substring(3,5),K=L.substring(5,7)),U=parseInt(U,16),Q=parseInt(Q,16),K=parseInt(K,16)}}return{r:U,g:Q,b:K,a:ee,style:L}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(L,U,Q,K){if(isNaN(U)||isNaN(Q)||typeof L!="string")throw At.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(K=isNaN(K)?void 0:K,!f.call(this)){var ee=W(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;_.call(this,{text:L,x:U,y:Q,scale:ce,angle:ee,align:this.textAlign,maxWidth:K})}},m.prototype.strokeText=function(L,U,Q,K){if(isNaN(U)||isNaN(Q)||typeof L!="string")throw At.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){K=isNaN(K)?void 0:K;var ee=W(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;_.call(this,{text:L,x:U,y:Q,scale:ce,renderingMode:"stroke",angle:ee,align:this.textAlign,maxWidth:K})}},m.prototype.measureText=function(L){if(typeof L!="string")throw At.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var U=this.pdf,Q=this.pdf.internal.scaleFactor,K=U.internal.getFontSize(),ee=U.getStringUnitWidth(L)*K/U.internal.scaleFactor,ce=function(he){var fe=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return fe}}),this};return new ce({width:ee*=Math.round(96*Q/72*1e4)/1e4})},m.prototype.scale=function(L,U){if(isNaN(L)||isNaN(U))throw At.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Q=new l(L,0,0,U,0,0);this.ctx.transform=this.ctx.transform.multiply(Q)},m.prototype.rotate=function(L){if(isNaN(L))throw At.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var U=new l(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(U)},m.prototype.translate=function(L,U){if(isNaN(L)||isNaN(U))throw At.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Q=new l(1,0,0,1,L,U);this.ctx.transform=this.ctx.transform.multiply(Q)},m.prototype.transform=function(L,U,Q,K,ee,ce){if(isNaN(L)||isNaN(U)||isNaN(Q)||isNaN(K)||isNaN(ee)||isNaN(ce))throw At.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new l(L,U,Q,K,ee,ce);this.ctx.transform=this.ctx.transform.multiply(he)},m.prototype.setTransform=function(L,U,Q,K,ee,ce){L=isNaN(L)?1:L,U=isNaN(U)?0:U,Q=isNaN(Q)?0:Q,K=isNaN(K)?1:K,ee=isNaN(ee)?0:ee,ce=isNaN(ce)?0:ce,this.ctx.transform=new l(L,U,Q,K,ee,ce)};var N=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(L,U,Q,K,ee,ce,he,fe,Ae){var ge=this.pdf.getImageProperties(L),we=1,Se=1,Le=1,ne=1;K!==void 0&&fe!==void 0&&(Le=fe/K,ne=Ae/ee,we=ge.width/K*fe/K,Se=ge.height/ee*Ae/ee),ce===void 0&&(ce=U,he=Q,U=0,Q=0),K!==void 0&&fe===void 0&&(fe=K,Ae=ee),K===void 0&&fe===void 0&&(fe=ge.width,Ae=ge.height);for(var J,Ue=this.ctx.transform.decompose(),Te=W(Ue.rotate.shx),je=new l,Fe=(je=(je=(je=je.multiply(Ue.translate)).multiply(Ue.skew)).multiply(Ue.scale)).applyToRectangle(new o(ce-U*Le,he-Q*ne,K*we,ee*Se)),De=F.call(this,Fe),Pe=[],We=0;We<De.length;We+=1)Pe.indexOf(De[We])===-1&&Pe.push(De[We]);if(j(Pe),this.autoPaging)for(var Xe=Pe[0],it=Pe[Pe.length-1],st=Xe;st<it+1;st++){this.pdf.setPage(st);var dt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Nt=st===1?this.posY+this.margin[0]:this.margin[0],Ye=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Oe=st===1?0:Ye+(st-2)*at;if(this.ctx.clip_path.length!==0){var wn=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(J,this.posX+this.margin[3],-Oe+Nt+this.ctx.prevPageLastElemOffset),P.call(this,"fill",!0),this.path=wn}var pt=JSON.parse(JSON.stringify(Fe));pt=w([pt],this.posX+this.margin[3],-Oe+Nt+this.ctx.prevPageLastElemOffset)[0];var Cr=(st>Xe||st<it)&&N.call(this);Cr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],dt,at,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",pt.x,pt.y,pt.w,pt.h,null,null,Te),Cr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(L,"JPEG",Fe.x,Fe.y,Fe.w,Fe.h,null,null,Te)};var F=function(L,U,Q){var K=[];U=U||this.pdf.internal.pageSize.width,Q=Q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ee=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":K.push(Math.floor((L.y+ee)/Q)+1);break;case"arc":K.push(Math.floor((L.y+ee-L.radius)/Q)+1),K.push(Math.floor((L.y+ee+L.radius)/Q)+1);break;case"qct":var ce=G(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);K.push(Math.floor((ce.y+ee)/Q)+1),K.push(Math.floor((ce.y+ce.h+ee)/Q)+1);break;case"bct":var he=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);K.push(Math.floor((he.y+ee)/Q)+1),K.push(Math.floor((he.y+he.h+ee)/Q)+1);break;case"rect":K.push(Math.floor((L.y+ee)/Q)+1),K.push(Math.floor((L.y+L.h+ee)/Q)+1)}for(var fe=0;fe<K.length;fe+=1)for(;this.pdf.internal.getNumberOfPages()<K[fe];)x.call(this);return K},x=function(){var L=this.fillStyle,U=this.strokeStyle,Q=this.font,K=this.lineCap,ee=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=U,this.font=Q,this.lineCap=K,this.lineWidth=ee,this.lineJoin=ce},w=function(L,U,Q){for(var K=0;K<L.length;K++)switch(L[K].type){case"bct":L[K].x2+=U,L[K].y2+=Q;case"qct":L[K].x1+=U,L[K].y1+=Q;case"mt":case"lt":case"arc":default:L[K].x+=U,L[K].y+=Q}return L},j=function(L){return L.sort(function(U,Q){return U-Q})},S=function(L,U){for(var Q,K,ee=this.fillStyle,ce=this.strokeStyle,he=this.lineCap,fe=this.lineWidth,Ae=Math.abs(fe*this.ctx.transform.scaleX),ge=this.lineJoin,we=JSON.parse(JSON.stringify(this.path)),Se=JSON.parse(JSON.stringify(this.path)),Le=[],ne=0;ne<Se.length;ne++)if(Se[ne].x!==void 0)for(var J=F.call(this,Se[ne]),Ue=0;Ue<J.length;Ue+=1)Le.indexOf(J[Ue])===-1&&Le.push(J[Ue]);for(var Te=0;Te<Le.length;Te++)for(;this.pdf.internal.getNumberOfPages()<Le[Te];)x.call(this);if(j(Le),this.autoPaging)for(var je=Le[0],Fe=Le[Le.length-1],De=je;De<Fe+1;De++){this.pdf.setPage(De),this.fillStyle=ee,this.strokeStyle=ce,this.lineCap=he,this.lineWidth=Ae,this.lineJoin=ge;var Pe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],We=De===1?this.posY+this.margin[0]:this.margin[0],Xe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],it=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=De===1?0:Xe+(De-2)*it;if(this.ctx.clip_path.length!==0){var dt=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Q,this.posX+this.margin[3],-st+We+this.ctx.prevPageLastElemOffset),P.call(this,L,!0),this.path=dt}if(K=JSON.parse(JSON.stringify(we)),this.path=w(K,this.posX+this.margin[3],-st+We+this.ctx.prevPageLastElemOffset),U===!1||De===0){var Nt=(De>je||De<Fe)&&N.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pe,it,null).clip().discardPath()),P.call(this,L,U),Nt&&this.pdf.restoreGraphicsState()}this.lineWidth=fe}else this.lineWidth=Ae,P.call(this,L,U),this.lineWidth=fe;this.path=we},P=function(L,U){if((L!=="stroke"||U||!b.call(this))&&(L==="stroke"||U||!f.call(this))){for(var Q,K,ee=[],ce=this.path,he=0;he<ce.length;he++){var fe=ce[he];switch(fe.type){case"begin":ee.push({begin:!0});break;case"close":ee.push({close:!0});break;case"mt":ee.push({start:fe,deltas:[],abs:[]});break;case"lt":var Ae=ee.length;if(ce[he-1]&&!isNaN(ce[he-1].x)&&(Q=[fe.x-ce[he-1].x,fe.y-ce[he-1].y],Ae>0)){for(;Ae>=0;Ae--)if(ee[Ae-1].close!==!0&&ee[Ae-1].begin!==!0){ee[Ae-1].deltas.push(Q),ee[Ae-1].abs.push(fe);break}}break;case"bct":Q=[fe.x1-ce[he-1].x,fe.y1-ce[he-1].y,fe.x2-ce[he-1].x,fe.y2-ce[he-1].y,fe.x-ce[he-1].x,fe.y-ce[he-1].y],ee[ee.length-1].deltas.push(Q);break;case"qct":var ge=ce[he-1].x+2/3*(fe.x1-ce[he-1].x),we=ce[he-1].y+2/3*(fe.y1-ce[he-1].y),Se=fe.x+2/3*(fe.x1-fe.x),Le=fe.y+2/3*(fe.y1-fe.y),ne=fe.x,J=fe.y;Q=[ge-ce[he-1].x,we-ce[he-1].y,Se-ce[he-1].x,Le-ce[he-1].y,ne-ce[he-1].x,J-ce[he-1].y],ee[ee.length-1].deltas.push(Q);break;case"arc":ee.push({deltas:[],abs:[],arc:!0}),Array.isArray(ee[ee.length-1].abs)&&ee[ee.length-1].abs.push(fe)}}K=U?null:L==="stroke"?"stroke":"fill";for(var Ue=!1,Te=0;Te<ee.length;Te++)if(ee[Te].arc)for(var je=ee[Te].abs,Fe=0;Fe<je.length;Fe++){var De=je[Fe];De.type==="arc"?k.call(this,De.x,De.y,De.radius,De.startAngle,De.endAngle,De.counterclockwise,void 0,U,!Ue):R.call(this,De.x,De.y),Ue=!0}else if(ee[Te].close===!0)this.pdf.internal.out("h"),Ue=!1;else if(ee[Te].begin!==!0){var Pe=ee[Te].start.x,We=ee[Te].start.y;B.call(this,ee[Te].deltas,Pe,We),Ue=!0}K&&z.call(this,K),U&&V.call(this)}},E=function(L){var U=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Q=U*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-Q;case"top":return L+U-Q;case"hanging":return L+U-2*Q;case"middle":return L+U/2-Q;case"ideographic":return L;case"alphabetic":default:return L}},T=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(U,Q){this.colorStops.push([U,Q])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var k=function(L,U,Q,K,ee,ce,he,fe,Ae){for(var ge=H.call(this,Q,K,ee,ce),we=0;we<ge.length;we++){var Se=ge[we];we===0&&(Ae?A.call(this,Se.x1+L,Se.y1+U):R.call(this,Se.x1+L,Se.y1+U)),ae.call(this,L,U,Se.x2,Se.y2,Se.x3,Se.y3,Se.x4,Se.y4)}fe?V.call(this):z.call(this,he)},z=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},V=function(){this.pdf.clip(),this.pdf.discardPath()},A=function(L,U){this.pdf.internal.out(n(L)+" "+r(U)+" m")},_=function(L){var U;switch(L.align){case"right":case"end":U="right";break;case"center":U="center";break;case"left":case"start":default:U="left"}var Q=this.pdf.getTextDimensions(L.text),K=E.call(this,L.y),ee=T.call(this,K)-Q.h,ce=this.ctx.transform.applyToPoint(new a(L.x,K)),he=this.ctx.transform.decompose(),fe=new l;fe=(fe=(fe=fe.multiply(he.translate)).multiply(he.skew)).multiply(he.scale);for(var Ae,ge,we,Se=this.ctx.transform.applyToRectangle(new o(L.x,K,Q.w,Q.h)),Le=fe.applyToRectangle(new o(L.x,ee,Q.w,Q.h)),ne=F.call(this,Le),J=[],Ue=0;Ue<ne.length;Ue+=1)J.indexOf(ne[Ue])===-1&&J.push(ne[Ue]);if(j(J),this.autoPaging)for(var Te=J[0],je=J[J.length-1],Fe=Te;Fe<je+1;Fe++){this.pdf.setPage(Fe);var De=Fe===1?this.posY+this.margin[0]:this.margin[0],Pe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],We=this.pdf.internal.pageSize.height-this.margin[2],Xe=We-this.margin[0],it=this.pdf.internal.pageSize.width-this.margin[1],st=it-this.margin[3],dt=Fe===1?0:Pe+(Fe-2)*Xe;if(this.ctx.clip_path.length!==0){var Nt=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Ae,this.posX+this.margin[3],-1*dt+De),P.call(this,"fill",!0),this.path=Nt}var Ye=w([JSON.parse(JSON.stringify(Le))],this.posX+this.margin[3],-dt+De+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ge*L.scale),we=this.lineWidth,this.lineWidth=we*L.scale);var at=this.autoPaging!=="text";if(at||Ye.y+Ye.h<=We){if(at||Ye.y>=De&&Ye.x<=it){var Oe=at?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||it-Ye.x)[0],wn=w([JSON.parse(JSON.stringify(Se))],this.posX+this.margin[3],-dt+De+this.ctx.prevPageLastElemOffset)[0],pt=at&&(Fe>Te||Fe<je)&&N.call(this);pt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],st,Xe,null).clip().discardPath()),this.pdf.text(Oe,wn.x,wn.y,{angle:L.angle,align:U,renderingMode:L.renderingMode}),pt&&this.pdf.restoreGraphicsState()}}else Ye.y<We&&(this.ctx.prevPageLastElemOffset+=We-Ye.y);L.scale>=.01&&(this.pdf.setFontSize(ge),this.lineWidth=we)}else L.scale>=.01&&(ge=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ge*L.scale),we=this.lineWidth,this.lineWidth=we*L.scale),this.pdf.text(L.text,ce.x+this.posX,ce.y+this.posY,{angle:L.angle,align:U,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(ge),this.lineWidth=we)},R=function(L,U,Q,K){Q=Q||0,K=K||0,this.pdf.internal.out(n(L+Q)+" "+r(U+K)+" l")},B=function(L,U,Q){return this.pdf.lines(L,U,Q,null,null)},ae=function(L,U,Q,K,ee,ce,he,fe){this.pdf.internal.out([e(i(Q+L)),e(s(K+U)),e(i(ee+L)),e(s(ce+U)),e(i(he+L)),e(s(fe+U)),"c"].join(" "))},H=function(L,U,Q,K){for(var ee=2*Math.PI,ce=Math.PI/2;U>Q;)U-=ee;var he=Math.abs(Q-U);he<ee&&K&&(he=ee-he);for(var fe=[],Ae=K?-1:1,ge=U;he>1e-5;){var we=ge+Ae*Math.min(he,ce);fe.push(Y.call(this,L,ge,we)),he-=Math.abs(we-ge),ge=we}return fe},Y=function(L,U,Q){var K=(Q-U)/2,ee=L*Math.cos(K),ce=L*Math.sin(K),he=ee,fe=-ce,Ae=he*he+fe*fe,ge=Ae+he*ee+fe*ce,we=4/3*(Math.sqrt(2*Ae*ge)-ge)/(he*ce-fe*ee),Se=he-we*fe,Le=fe+we*he,ne=Se,J=-Le,Ue=K+U,Te=Math.cos(Ue),je=Math.sin(Ue);return{x1:L*Math.cos(U),y1:L*Math.sin(U),x2:Se*Te-Le*je,y2:Se*je+Le*Te,x3:ne*Te-J*je,y3:ne*je+J*Te,x4:L*Math.cos(Q),y4:L*Math.sin(Q)}},W=function(L){return 180*L/Math.PI},G=function(L,U,Q,K,ee,ce){var he=L+.5*(Q-L),fe=U+.5*(K-U),Ae=ee+.5*(Q-ee),ge=ce+.5*(K-ce),we=Math.min(L,ee,he,Ae),Se=Math.max(L,ee,he,Ae),Le=Math.min(U,ce,fe,ge),ne=Math.max(U,ce,fe,ge);return new o(we,Le,Se-we,ne-Le)},te=function(L,U,Q,K,ee,ce,he,fe){var Ae,ge,we,Se,Le,ne,J,Ue,Te,je,Fe,De,Pe,We,Xe=Q-L,it=K-U,st=ee-Q,dt=ce-K,Nt=he-ee,Ye=fe-ce;for(ge=0;ge<41;ge++)Te=(J=(we=L+(Ae=ge/40)*Xe)+Ae*((Le=Q+Ae*st)-we))+Ae*(Le+Ae*(ee+Ae*Nt-Le)-J),je=(Ue=(Se=U+Ae*it)+Ae*((ne=K+Ae*dt)-Se))+Ae*(ne+Ae*(ce+Ae*Ye-ne)-Ue),ge==0?(Fe=Te,De=je,Pe=Te,We=je):(Fe=Math.min(Fe,Te),De=Math.min(De,je),Pe=Math.max(Pe,Te),We=Math.max(We,je));return new o(Math.round(Fe),Math.round(De),Math.round(Pe-Fe),Math.round(We-De))},le=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,U,Q=(L=this.ctx.lineDash,U=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:U}));this.prevLineDash!==Q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Q)}}})($e.API),function(t){var e=function(s){var a,o,l,d,p,m,g,f,b,N;for(o=[],l=0,d=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;d>l;l+=4)(p=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(m=(p=((p=((p=((p=(p-(N=p%85))/85)-(b=p%85))/85)-(f=p%85))/85)-(g=p%85))/85)%85,o.push(m+33,g+33,f+33,b+33,N+33)):o.push(122);return function(F,x){for(var w=x;w>0;w--)F.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},n=function(s){var a,o,l,d,p,m=String,g="length",f=255,b="charCodeAt",N="slice",F="replace";for(s[N](-2),s=s[N](0,-2)[F](/\s/g,"")[F]("z","!!!!!"),l=[],d=0,p=(s+=a="uuuuu"[N](s[g]%5||5))[g];p>d;d+=5)o=52200625*(s[b](d)-33)+614125*(s[b](d+1)-33)+7225*(s[b](d+2)-33)+85*(s[b](d+3)-33)+(s[b](d+4)-33),l.push(f&o>>24,f&o>>16,f&o>>8,f&o);return function(x,w){for(var j=w;j>0;j--)x.pop()}(l,a[g]),m.fromCharCode.apply(m,l)},r=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var o="",l=0;l<s.length;l+=2)o+=String.fromCharCode("0x"+(s[l]+s[l+1]));return o},i=function(s){for(var a=new Uint8Array(s.length),o=s.length;o--;)a[o]=s.charCodeAt(o);return s=(a=L0(a)).reduce(function(l,d){return l+String.fromCharCode(d)},"")};t.processDataByFilters=function(s,a){var o=0,l=s||"",d=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:l,reverseChain:d.reverse().join(" ")}}}($e.API),function(t){t.loadFile=function(e,n,r){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,d,p){var m=new XMLHttpRequest,g=0,f=function(b){var N=b.length,F=[],x=String.fromCharCode;for(g=0;g<N;g+=1)F.push(x(255&b.charCodeAt(g)));return F.join("")};if(m.open("GET",l,!d),m.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(m.onload=function(){m.status===200?p(f(this.responseText)):p(void 0)}),m.send(null),d&&m.status===200)return f(m.responseText)}(i,s,a)}catch{}return o}(e,n,r)},t.loadImageFile=t.loadFile}($e.API),function(t){function e(){return(Qe.html2canvas?Promise.resolve(Qe.html2canvas):_0(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(Qe.DOMPurify?Promise.resolve(Qe.DOMPurify):_0(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var o=wt(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},i=function(a,o){var l=document.createElement(a);for(var d in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[d]=o.style[d];return l},s=function a(o){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),d=a.convert(Promise.resolve(),l);return d=(d=d.setProgress(1,a,1,[a])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,o){return a.__proto__=o||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:a,dompurify:l})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(d,p){for(var m=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),g=d.firstChild;g;g=g.nextSibling)p!==!0&&g.nodeType===1&&g.nodeName==="SCRIPT"||m.appendChild(l(g,p));return d.nodeType===1&&(d.nodeName==="CANVAS"?(m.width=d.width,m.height=d.height,m.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(m.value=d.value),m.addEventListener("load",function(){m.scrollTop=d.scrollTop,m.scrollLeft=d.scrollLeft},!0)),m}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=this.opt.jsPDF,d=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=d,d)for(var g=0;g<d.length;++g){var f=d[g],b=f.src.find(function(N){return N.format==="truetype"});b&&l.addFont(b.url,f.ref.name,f.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,l.context2d.save(!0),o(this.prop.container,m)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},s.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(r(a)!=="object")return this;var o=Object.keys(a||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}},this);return this.then(function(){return this.thenList(o)})},s.prototype.get=function(a,o){return this.then(function(){var l=a in s.template.prop?this.prop[a]:this.opt[a];return o?o(l):l})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function o(l,d){return Math.floor(l*d/72*96)}return this.then(function(){(a=a||$e.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,o,l,d){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,o,l,d){return this.setProgress(a?this.progress.val+a:null,o||null,l?this.progress.n+l:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(a,o){var l=this;return this.thenCore(a,o,function(d,p){return l.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(m){return l.updateProgress(null,d),m}).then(d,p).then(function(m){return l.updateProgress(1),m})})},s.prototype.thenCore=function(a,o,l){l=l||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),p=l.call(d,a,o);return s.convert(p,this.__proto__)},s.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},s.prototype.thenList=function(a){var o=this;return a.forEach(function(l){o=o.thenCore(l)}),o},s.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return s.convert(o,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,$e.getPageSize=function(a,o,l){if(wt(a)==="object"){var d=a;a=d.orientation,o=d.unit||o,l=d.format||l}o=o||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var p,m=(""+l).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+o}var f,b=0,N=0;if(g.hasOwnProperty(m))b=g[m][1]/p,N=g[m][0]/p;else try{b=l[1],N=l[0]}catch{throw new Error("Invalid format: "+l)}if(a==="p"||a==="portrait")a="p",N>b&&(f=N,N=b,b=f);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",b>N&&(f=N,N=b,b=f)}return{width:N,height:b,unit:o,k:p,orientation:a}},t.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(E0):null;var l=new s(o);return o.worker?l:l.from(a).doCallback()}}($e.API),$e.API.addJS=function(t){return Om=t,this.internal.events.subscribe("postPutResources",function(){Du=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Du+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Em=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Om+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Du!==void 0&&Em!==void 0&&this.internal.out("/Names <</JavaScript "+Du+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=r.exec(a);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,p=[];for(s=0;s<d;s++){var m=n.internal.newObject();p.push(m);var g=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var f=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<p.length;s++)n.internal.write("(page_"+(s+1)+")"+p[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+f+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<r.children.length;d++)this.renderItems(r.children[d])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}($e.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,a,o){var l,d=this.decode.DCT_DECODE,p=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(m){for(var g,f=256*m.charCodeAt(4)+m.charCodeAt(5),b=m.length,N={width:0,height:0,numcomponents:1},F=4;F<b;F+=2){if(F+=f,e.indexOf(m.charCodeAt(F+1))!==-1){g=256*m.charCodeAt(F+5)+m.charCodeAt(F+6),N={width:256*m.charCodeAt(F+7)+m.charCodeAt(F+8),height:g,numcomponents:m.charCodeAt(F+9)};break}f=256*m.charCodeAt(F+2)+m.charCodeAt(F+3)}return N}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}p={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:d,index:r,alias:i}}return p}}($e.API);var to,Eu,zm,Rm,Bm,ww=function(){var t,e,n;function r(s){var a,o,l,d,p,m,g,f,b,N,F,x,w,j;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},m=null;;){switch(a=this.readUInt32(),b=(function(){var S,P;for(P=[],S=0;S<4;++S)P.push(String.fromCharCode(this.data[this.pos++]));return P}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":m&&this.animation.frames.push(m),this.pos+=4,m={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),d=this.readUInt16()||100,m.delay=1e3*p/d,m.disposeOp=this.data[this.pos++],m.blendOp=this.data[this.pos++],m.data=[];break;case"IDAT":case"fdAT":for(b==="fdAT"&&(this.pos+=4,a-=4),s=(m!=null?m.data:void 0)||this.imgData,x=0;0<=a?x<a:x>a;0<=a?++x:--x)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((N=l-this.transparency.indexed.length)>0)for(w=0;0<=N?w<N:w>N;0<=N?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":g=(F=this.read(a)).indexOf(0),f=String.fromCharCode.apply(String,F.slice(0,g)),this.text[f]=String.fromCharCode.apply(String,F.slice(g+1));break;case"IEND":return m&&this.animation.frames.push(m),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(j=this.colorType)===4||j===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var a,o;for(o=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)o.push(this.data[this.pos++]);return o},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),l=0,d=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function p(m,g,f,b){var N,F,x,w,j,S,P,E,T,k,z,V,A,_,R,B,ae,H,Y,W,G,te=Math.ceil((d.width-m)/f),le=Math.ceil((d.height-g)/b),L=d.width==te&&d.height==le;for(_=a*te,V=L?o:new Uint8Array(_*le),S=s.length,A=0,F=0;A<le&&l<S;){switch(s[l++]){case 0:for(w=ae=0;ae<_;w=ae+=1)V[F++]=s[l++];break;case 1:for(w=H=0;H<_;w=H+=1)N=s[l++],j=w<a?0:V[F-a],V[F++]=(N+j)%256;break;case 2:for(w=Y=0;Y<_;w=Y+=1)N=s[l++],x=(w-w%a)/a,R=A&&V[(A-1)*_+x*a+w%a],V[F++]=(R+N)%256;break;case 3:for(w=W=0;W<_;w=W+=1)N=s[l++],x=(w-w%a)/a,j=w<a?0:V[F-a],R=A&&V[(A-1)*_+x*a+w%a],V[F++]=(N+Math.floor((j+R)/2))%256;break;case 4:for(w=G=0;G<_;w=G+=1)N=s[l++],x=(w-w%a)/a,j=w<a?0:V[F-a],A===0?R=B=0:(R=V[(A-1)*_+x*a+w%a],B=x&&V[(A-1)*_+(x-1)*a+w%a]),P=j+R-B,E=Math.abs(P-j),k=Math.abs(P-R),z=Math.abs(P-B),T=E<=k&&E<=z?j:k<=z?R:B,V[F++]=(N+T)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!L){var U=((g+A*b)*d.width+m)*a,Q=A*_;for(w=0;w<te;w+=1){for(var K=0;K<a;K+=1)o[U++]=V[Q++];U+=(f-1)*a}}A++}}return s=X3(s),d.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),o},r.prototype.decodePalette=function(){var s,a,o,l,d,p,m,g,f;for(o=this.palette,p=this.transparency.indexed||[],d=new Uint8Array((p.length||0)+o.length),l=0,s=0,a=m=0,g=o.length;m<g;a=m+=3)d[l++]=o[a],d[l++]=o[a+1],d[l++]=o[a+2],d[l++]=(f=p[s++])!=null?f:255;return d},r.prototype.copyToImageData=function(s,a){var o,l,d,p,m,g,f,b,N,F,x;if(l=this.colors,N=null,o=this.hasAlphaChannel,this.palette.length&&(N=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),l=4,o=!0),b=(d=s.data||s).length,m=N||a,p=g=0,l===1)for(;p<b;)f=N?4*a[p/4]:g,F=m[f++],d[p++]=F,d[p++]=F,d[p++]=F,d[p++]=o?m[f++]:255,g=f;else for(;p<b;)f=N?4*a[p/4]:g,d[p++]=m[f++],d[p++]=m[f++],d[p++]=m[f++],d[p++]=o?m[f++]:255,g=f},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Qe)==="[object Window]"){try{e=Qe.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var a;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var a,o,l,d,p,m,g,f;if(this.animation){for(f=[],o=p=0,m=(g=this.animation.frames).length;p<m;o=++p)a=g[o],l=s.createImageData(a.width,a.height),d=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(l,d),a.imageData=l,f.push(a.image=t(l));return f}},r.prototype.renderFrame=function(s,a){var o,l,d;return o=(l=this.animation.frames)[a],d=l[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?s.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&s.putImageData(d.imageData,d.xOffset,d.yOffset),o.blendOp===0&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},r.prototype.animate=function(s){var a,o,l,d,p,m,g=this;return o=0,m=this.animation,d=m.numFrames,l=m.frames,p=m.numPlays,(a=function(){var f,b;if(f=o++%d,b=l[f],g.renderFrame(s,f),d>1&&o/d<p)return g.animation._timeout=setTimeout(a,b.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var a,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function bw(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<(7&i)+1;t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var d=!0,p=[],m=0,g=null,f=0,b=null;for(this.width=n,this.height=r;d&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,b=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((A=t[e++])>=0))throw Error("Invalid block size");if(A===0)break;e+=A}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var N=t[e++];m=t[e++]|t[e++]<<8,g=t[e++],!(1&N)&&(g=null),f=N>>2&7,e++;break;case 254:for(;;){if(!((A=t[e++])>=0))throw Error("Invalid block size");if(A===0)break;e+=A}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var F=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,j=t[e++]|t[e++]<<8,S=t[e++],P=S>>6&1,E=1<<(7&S)+1,T=o,k=l,z=!1;S>>7&&(z=!0,T=e,k=E,e+=3*E);var V=e;for(e++;;){var A;if(!((A=t[e++])>=0))throw Error("Invalid block size");if(A===0)break;e+=A}p.push({x:F,y:x,width:w,height:j,has_local_palette:z,palette_offset:T,palette_size:k,data_offset:V,data_length:e-V,transparent_index:g,interlaced:!!P,delay:m,disposal:f});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return b},this.frameInfo=function(_){if(_<0||_>=p.length)throw new Error("Frame index out of range.");return p[_]},this.decodeAndBlitFrameBGRA=function(_,R){var B=this.frameInfo(_),ae=B.width*B.height,H=new Uint8Array(ae);qm(t,B.data_offset,H,ae);var Y=B.palette_offset,W=B.transparent_index;W===null&&(W=256);var G=B.width,te=n-G,le=G,L=4*(B.y*n+B.x),U=4*((B.y+B.height)*n+B.x),Q=L,K=4*te;B.interlaced===!0&&(K+=4*n*7);for(var ee=8,ce=0,he=H.length;ce<he;++ce){var fe=H[ce];if(le===0&&(le=G,(Q+=K)>=U&&(K=4*te+4*n*(ee-1),Q=L+(G+te)*(ee<<1),ee>>=1)),fe===W)Q+=4;else{var Ae=t[Y+3*fe],ge=t[Y+3*fe+1],we=t[Y+3*fe+2];R[Q++]=we,R[Q++]=ge,R[Q++]=Ae,R[Q++]=255}--le}},this.decodeAndBlitFrameRGBA=function(_,R){var B=this.frameInfo(_),ae=B.width*B.height,H=new Uint8Array(ae);qm(t,B.data_offset,H,ae);var Y=B.palette_offset,W=B.transparent_index;W===null&&(W=256);var G=B.width,te=n-G,le=G,L=4*(B.y*n+B.x),U=4*((B.y+B.height)*n+B.x),Q=L,K=4*te;B.interlaced===!0&&(K+=4*n*7);for(var ee=8,ce=0,he=H.length;ce<he;++ce){var fe=H[ce];if(le===0&&(le=G,(Q+=K)>=U&&(K=4*te+4*n*(ee-1),Q=L+(G+te)*(ee<<1),ee>>=1)),fe===W)Q+=4;else{var Ae=t[Y+3*fe],ge=t[Y+3*fe+1],we=t[Y+3*fe+2];R[Q++]=Ae,R[Q++]=ge,R[Q++]=we,R[Q++]=255}--le}}}function qm(t,e,n,r){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,d=(1<<l)-1,p=0,m=0,g=0,f=t[e++],b=new Int32Array(4096),N=null;;){for(;p<16&&f!==0;)m|=t[e++]<<p,p+=8,f===1?f=t[e++]:--f;if(p<l)break;var F=m&d;if(m>>=l,p-=l,F!==s){if(F===a)break;for(var x=F<o?F:N,w=0,j=x;j>s;)j=b[j]>>8,++w;var S=j;if(g+w+(x!==F?1:0)>r)return void At.log("Warning, gif stream longer than expected.");n[g++]=S;var P=g+=w;for(x!==F&&(n[g++]=S),j=x;w--;)j=b[j],n[--P]=255&j,j>>=8;N!==null&&o<4096&&(b[o++]=N<<8|S,o>=d+1&&l<12&&(++l,d=d<<1|1)),N=F}else o=a+1,d=(1<<(l=i+1))-1,N=null}return g!==r&&At.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function bf(t){var e,n,r,i,s,a=Math.floor,o=new Array(64),l=new Array(64),d=new Array(64),p=new Array(64),m=new Array(65535),g=new Array(65535),f=new Array(64),b=new Array(64),N=[],F=0,x=7,w=new Array(64),j=new Array(64),S=new Array(64),P=new Array(256),E=new Array(2048),T=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],k=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],z=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],A=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],_=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ae=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function H(L,U){for(var Q=0,K=0,ee=new Array,ce=1;ce<=16;ce++){for(var he=1;he<=L[ce];he++)ee[U[K]]=[],ee[U[K]][0]=Q,ee[U[K]][1]=ce,K++,Q++;Q*=2}return ee}function Y(L){for(var U=L[0],Q=L[1]-1;Q>=0;)U&1<<Q&&(F|=1<<x),Q--,--x<0&&(F==255?(W(255),W(0)):W(F),x=7,F=0)}function W(L){N.push(L)}function G(L){W(L>>8&255),W(255&L)}function te(L,U,Q,K,ee){for(var ce,he=ee[0],fe=ee[240],Ae=function(je,Fe){var De,Pe,We,Xe,it,st,dt,Nt,Ye,at,Oe=0;for(Ye=0;Ye<8;++Ye){De=je[Oe],Pe=je[Oe+1],We=je[Oe+2],Xe=je[Oe+3],it=je[Oe+4],st=je[Oe+5],dt=je[Oe+6];var wn=De+(Nt=je[Oe+7]),pt=De-Nt,Cr=Pe+dt,jt=Pe-dt,Mt=We+st,Zr=We-st,gt=Xe+it,zs=Xe-it,Rt=wn+gt,Pr=wn-gt,wi=Cr+Mt,Bt=Cr-Mt;je[Oe]=Rt+wi,je[Oe+4]=Rt-wi;var Ke=.707106781*(Bt+Pr);je[Oe+2]=Pr+Ke,je[Oe+6]=Pr-Ke;var yt=.382683433*((Rt=zs+Zr)-(Bt=jt+pt)),Rs=.5411961*Rt+yt,pn=1.306562965*Bt+yt,ei=.707106781*(wi=Zr+jt),ti=pt+ei,Ge=pt-ei;je[Oe+5]=Ge+Rs,je[Oe+3]=Ge-Rs,je[Oe+1]=ti+pn,je[Oe+7]=ti-pn,Oe+=8}for(Oe=0,Ye=0;Ye<8;++Ye){De=je[Oe],Pe=je[Oe+8],We=je[Oe+16],Xe=je[Oe+24],it=je[Oe+32],st=je[Oe+40],dt=je[Oe+48];var kr=De+(Nt=je[Oe+56]),ni=De-Nt,Un=Pe+dt,rn=Pe-dt,Kt=We+st,er=We-st,ja=Xe+it,bi=Xe-it,Lr=kr+ja,Fr=kr-ja,Tr=Un+Kt,ri=Un-Kt;je[Oe]=Lr+Tr,je[Oe+32]=Lr-Tr;var fr=.707106781*(ri+Fr);je[Oe+16]=Fr+fr,je[Oe+48]=Fr-fr;var ii=.382683433*((Lr=bi+er)-(ri=rn+ni)),Bs=.5411961*Lr+ii,_a=1.306562965*ri+ii,Aa=.707106781*(Tr=er+rn),Ca=ni+Aa,Pa=ni-Aa;je[Oe+40]=Pa+Bs,je[Oe+24]=Pa-Bs,je[Oe+8]=Ca+_a,je[Oe+56]=Ca-_a,Oe++}for(Ye=0;Ye<64;++Ye)at=je[Ye]*Fe[Ye],f[Ye]=at>0?at+.5|0:at-.5|0;return f}(L,U),ge=0;ge<64;++ge)b[T[ge]]=Ae[ge];var we=b[0]-Q;Q=b[0],we==0?Y(K[0]):(Y(K[g[ce=32767+we]]),Y(m[ce]));for(var Se=63;Se>0&&b[Se]==0;)Se--;if(Se==0)return Y(he),Q;for(var Le,ne=1;ne<=Se;){for(var J=ne;b[ne]==0&&ne<=Se;)++ne;var Ue=ne-J;if(Ue>=16){Le=Ue>>4;for(var Te=1;Te<=Le;++Te)Y(fe);Ue&=15}ce=32767+b[ne],Y(ee[(Ue<<4)+g[ce]]),Y(m[ce]),ne++}return Se!=63&&Y(he),Q}function le(L){L=Math.min(Math.max(L,1),100),s!=L&&(function(U){for(var Q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],K=0;K<64;K++){var ee=a((Q[K]*U+50)/100);ee=Math.min(Math.max(ee,1),255),o[T[K]]=ee}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var fe=a((ce[he]*U+50)/100);fe=Math.min(Math.max(fe,1),255),l[T[he]]=fe}for(var Ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ge=0,we=0;we<8;we++)for(var Se=0;Se<8;Se++)d[ge]=1/(o[T[ge]]*Ae[we]*Ae[Se]*8),p[ge]=1/(l[T[ge]]*Ae[we]*Ae[Se]*8),ge++}(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),s=L)}this.encode=function(L,U){U&&le(U),N=new Array,F=0,x=7,G(65496),G(65504),G(16),W(74),W(70),W(73),W(70),W(0),W(1),W(1),W(0),G(1),G(1),W(0),W(0),function(){G(65499),G(132),W(0);for(var Pe=0;Pe<64;Pe++)W(o[Pe]);W(1);for(var We=0;We<64;We++)W(l[We])}(),function(Pe,We){G(65472),G(17),W(8),G(We),G(Pe),W(3),W(1),W(17),W(0),W(2),W(17),W(1),W(3),W(17),W(1)}(L.width,L.height),function(){G(65476),G(418),W(0);for(var Pe=0;Pe<16;Pe++)W(k[Pe+1]);for(var We=0;We<=11;We++)W(z[We]);W(16);for(var Xe=0;Xe<16;Xe++)W(V[Xe+1]);for(var it=0;it<=161;it++)W(A[it]);W(1);for(var st=0;st<16;st++)W(_[st+1]);for(var dt=0;dt<=11;dt++)W(R[dt]);W(17);for(var Nt=0;Nt<16;Nt++)W(B[Nt+1]);for(var Ye=0;Ye<=161;Ye++)W(ae[Ye])}(),G(65498),G(12),W(3),W(1),W(0),W(2),W(17),W(3),W(17),W(0),W(63),W(0);var Q=0,K=0,ee=0;F=0,x=7,this.encode.displayName="_encode_";for(var ce,he,fe,Ae,ge,we,Se,Le,ne,J=L.data,Ue=L.width,Te=L.height,je=4*Ue,Fe=0;Fe<Te;){for(ce=0;ce<je;){for(ge=je*Fe+ce,Se=-1,Le=0,ne=0;ne<64;ne++)we=ge+(Le=ne>>3)*je+(Se=4*(7&ne)),Fe+Le>=Te&&(we-=je*(Fe+1+Le-Te)),ce+Se>=je&&(we-=ce+Se-je+4),he=J[we++],fe=J[we++],Ae=J[we++],w[ne]=(E[he]+E[fe+256>>0]+E[Ae+512>>0]>>16)-128,j[ne]=(E[he+768>>0]+E[fe+1024>>0]+E[Ae+1280>>0]>>16)-128,S[ne]=(E[he+1280>>0]+E[fe+1536>>0]+E[Ae+1792>>0]>>16)-128;Q=te(w,d,Q,e,r),K=te(j,p,K,n,i),ee=te(S,p,ee,n,i),ce+=32}Fe+=8}if(x>=0){var De=[];De[1]=x+1,De[0]=(1<<x+1)-1,Y(De)}return G(65497),new Uint8Array(N)},t=t||50,function(){for(var L=String.fromCharCode,U=0;U<256;U++)P[U]=L(U)}(),e=H(k,z),n=H(_,R),r=H(V,A),i=H(B,ae),function(){for(var L=1,U=2,Q=1;Q<=15;Q++){for(var K=L;K<U;K++)g[32767+K]=Q,m[32767+K]=[],m[32767+K][1]=Q,m[32767+K][0]=K;for(var ee=-(U-1);ee<=-L;ee++)g[32767+ee]=Q,m[32767+ee]=[],m[32767+ee][1]=Q,m[32767+ee][0]=U-1+ee;L<<=1,U<<=1}}(),function(){for(var L=0;L<256;L++)E[L]=19595*L,E[L+256>>0]=38470*L,E[L+512>>0]=7471*L+32768,E[L+768>>0]=-11059*L,E[L+1024>>0]=-21709*L,E[L+1280>>0]=32768*L+8421375,E[L+1536>>0]=-27439*L,E[L+1792>>0]=-5329*L}(),le(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Br(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Um(t){function e(k){if(!k)throw Error("assert :P")}function n(k,z,V){for(var A=0;4>A;A++)if(k[z+A]!=V.charCodeAt(A))return!0;return!1}function r(k,z,V,A,_){for(var R=0;R<_;R++)k[z+R]=V[A+R]}function i(k,z,V,A){for(var _=0;_<A;_++)k[z+_]=V}function s(k){return new Int32Array(k)}function a(k,z){for(var V=[],A=0;A<k;A++)V.push(new z);return V}function o(k,z){var V=[];return function A(_,R,B){for(var ae=B[R],H=0;H<ae&&(_.push(B.length>R+1?[]:new z),!(B.length<R+1));H++)A(_[H],R+1,B)}(V,0,k),V}var l=function(){var k=this;function z(u,h){for(var v=1<<h-1>>>0;u&v;)v>>>=1;return v?(u&v-1)+v:u}function V(u,h,v,C,M){e(!(C%v));do u[h+(C-=v)]=M;while(0<C)}function A(u,h,v,C,M){if(e(2328>=M),512>=M)var D=s(512);else if((D=s(M))==null)return 0;return function(O,q,$,X,ie,pe){var me,ue,Ne=q,ye=1<<$,se=s(16),oe=s(16);for(e(ie!=0),e(X!=null),e(O!=null),e(0<$),ue=0;ue<ie;++ue){if(15<X[ue])return 0;++se[X[ue]]}if(se[0]==ie)return 0;for(oe[1]=0,me=1;15>me;++me){if(se[me]>1<<me)return 0;oe[me+1]=oe[me]+se[me]}for(ue=0;ue<ie;++ue)me=X[ue],0<X[ue]&&(pe[oe[me]++]=ue);if(oe[15]==1)return(X=new _).g=0,X.value=pe[0],V(O,Ne,1,ye,X),ye;var ve,_e=-1,be=ye-1,Re=0,Me=1,Ve=1,Ie=1<<$;for(ue=0,me=1,ie=2;me<=$;++me,ie<<=1){if(Me+=Ve<<=1,0>(Ve-=se[me]))return 0;for(;0<se[me];--se[me])(X=new _).g=me,X.value=pe[ue++],V(O,Ne+Re,ie,Ie,X),Re=z(Re,me)}for(me=$+1,ie=2;15>=me;++me,ie<<=1){if(Me+=Ve<<=1,0>(Ve-=se[me]))return 0;for(;0<se[me];--se[me]){if(X=new _,(Re&be)!=_e){for(Ne+=Ie,ve=1<<(_e=me)-$;15>_e&&!(0>=(ve-=se[_e]));)++_e,ve<<=1;ye+=Ie=1<<(ve=_e-$),O[q+(_e=Re&be)].g=ve+$,O[q+_e].value=Ne-q-_e}X.g=me-$,X.value=pe[ue++],V(O,Ne+(Re>>$),ie,Ie,X),Re=z(Re,me)}}return Me!=2*oe[15]-1?0:ye}(u,h,v,C,M,D)}function _(){this.value=this.g=0}function R(){this.value=this.g=0}function B(){this.G=a(5,_),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(mn,R)}function ae(u,h,v,C){e(u!=null),e(h!=null),e(2147483648>C),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=h,u.pa=v,u.Jd=h,u.Yc=v+C,u.Zc=4<=C?v+C-4+1:v,ce(u)}function H(u,h){for(var v=0;0<h--;)v|=fe(u,128)<<h;return v}function Y(u,h){var v=H(u,h);return he(u)?-v:v}function W(u,h,v,C){var M,D=0;for(e(u!=null),e(h!=null),e(4294967288>C),u.Sb=C,u.Ra=0,u.u=0,u.h=0,4<C&&(C=4),M=0;M<C;++M)D+=h[v+M]<<8*M;u.Ra=D,u.bb=C,u.oa=h,u.pa=v}function G(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<Wa-8>>>0,++u.bb,u.u-=8;Q(u)&&(u.h=1,u.u=0)}function te(u,h){if(e(0<=h),!u.h&&h<=Ua){var v=U(u)&qa[h];return u.u+=h,G(u),v}return u.h=1,u.u=0}function le(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function L(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function U(u){return u.Ra>>>(u.u&Wa-1)>>>0}function Q(u){return e(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>Wa}function K(u,h){u.u=h,u.h=Q(u)}function ee(u){u.u>=sl&&(e(u.u>=sl),G(u))}function ce(u){e(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(e(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function he(u){return H(u,1)}function fe(u,h){var v=u.Ca;0>u.b&&ce(u);var C=u.b,M=v*h>>>8,D=(u.I>>>C>M)+0;for(D?(v-=M,u.I-=M+1<<C>>>0):v=M+1,C=v,M=0;256<=C;)M+=8,C>>=8;return C=7^M+Hn[C],u.b-=C,u.Ca=(v<<C)-1,D}function Ae(u,h,v){u[h+0]=v>>24&255,u[h+1]=v>>16&255,u[h+2]=v>>8&255,u[h+3]=v>>0&255}function ge(u,h){return u[h+0]<<0|u[h+1]<<8}function we(u,h){return ge(u,h)|u[h+2]<<16}function Se(u,h){return ge(u,h)|ge(u,h+2)<<16}function Le(u,h){var v=1<<h;return e(u!=null),e(0<h),u.X=s(v),u.X==null?0:(u.Mb=32-h,u.Xa=h,1)}function ne(u,h){e(u!=null),e(h!=null),e(u.Xa==h.Xa),r(h.X,0,u.X,0,1<<h.Xa)}function J(){this.X=[],this.Xa=this.Mb=0}function Ue(u,h,v,C){e(v!=null),e(C!=null);var M=v[0],D=C[0];return M==0&&(M=(u*D+h/2)/h),D==0&&(D=(h*M+u/2)/u),0>=M||0>=D?0:(v[0]=M,C[0]=D,1)}function Te(u,h){return u+(1<<h)-1>>>h}function je(u,h){return((4278255360&u)+(4278255360&h)>>>0&4278255360)+((16711935&u)+(16711935&h)>>>0&16711935)>>>0}function Fe(u,h){k[h]=function(v,C,M,D,O,q,$){var X;for(X=0;X<O;++X){var ie=k[u](q[$+X-1],M,D+X);q[$+X]=je(v[C+X],ie)}}}function De(){this.ud=this.hd=this.jd=0}function Pe(u,h){return((4278124286&(u^h))>>>1)+(u&h)>>>0}function We(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function Xe(u,h){return We(u+(u-h+.5>>1))}function it(u,h,v){return Math.abs(h-v)-Math.abs(u-v)}function st(u,h,v,C,M,D,O){for(C=D[O-1],v=0;v<M;++v)D[O+v]=C=je(u[h+v],C)}function dt(u,h,v,C,M){var D;for(D=0;D<v;++D){var O=u[h+D],q=O>>8&255,$=16711935&($=($=16711935&O)+((q<<16)+q));C[M+D]=(4278255360&O)+$>>>0}}function Nt(u,h){h.jd=u>>0&255,h.hd=u>>8&255,h.ud=u>>16&255}function Ye(u,h,v,C,M,D){var O;for(O=0;O<C;++O){var q=h[v+O],$=q>>>8,X=q,ie=255&(ie=(ie=q>>>16)+((u.jd<<24>>24)*($<<24>>24)>>>5));X=255&(X=(X=X+((u.hd<<24>>24)*($<<24>>24)>>>5))+((u.ud<<24>>24)*(ie<<24>>24)>>>5)),M[D+O]=(4278255360&q)+(ie<<16)+X}}function at(u,h,v,C,M){k[h]=function(D,O,q,$,X,ie,pe,me,ue){for($=pe;$<me;++$)for(pe=0;pe<ue;++pe)X[ie++]=M(q[C(D[O++])])},k[u]=function(D,O,q,$,X,ie,pe){var me=8>>D.b,ue=D.Ea,Ne=D.K[0],ye=D.w;if(8>me)for(D=(1<<D.b)-1,ye=(1<<me)-1;O<q;++O){var se,oe=0;for(se=0;se<ue;++se)se&D||(oe=C($[X++])),ie[pe++]=M(Ne[oe&ye]),oe>>=me}else k["VP8LMapColor"+v]($,X,Ne,ye,ie,pe,O,q,ue)}}function Oe(u,h,v,C,M){for(v=h+v;h<v;){var D=u[h++];C[M++]=D>>16&255,C[M++]=D>>8&255,C[M++]=D>>0&255}}function wn(u,h,v,C,M){for(v=h+v;h<v;){var D=u[h++];C[M++]=D>>16&255,C[M++]=D>>8&255,C[M++]=D>>0&255,C[M++]=D>>24&255}}function pt(u,h,v,C,M){for(v=h+v;h<v;){var D=(O=u[h++])>>16&240|O>>12&15,O=O>>0&240|O>>28&15;C[M++]=D,C[M++]=O}}function Cr(u,h,v,C,M){for(v=h+v;h<v;){var D=(O=u[h++])>>16&248|O>>13&7,O=O>>5&224|O>>3&31;C[M++]=D,C[M++]=O}}function jt(u,h,v,C,M){for(v=h+v;h<v;){var D=u[h++];C[M++]=D>>0&255,C[M++]=D>>8&255,C[M++]=D>>16&255}}function Mt(u,h,v,C,M,D){if(D==0)for(v=h+v;h<v;)Ae(C,((D=u[h++])[0]>>24|D[1]>>8&65280|D[2]<<8&16711680|D[3]<<24)>>>0),M+=32;else r(C,M,u,h,v)}function Zr(u,h){k[h][0]=k[u+"0"],k[h][1]=k[u+"1"],k[h][2]=k[u+"2"],k[h][3]=k[u+"3"],k[h][4]=k[u+"4"],k[h][5]=k[u+"5"],k[h][6]=k[u+"6"],k[h][7]=k[u+"7"],k[h][8]=k[u+"8"],k[h][9]=k[u+"9"],k[h][10]=k[u+"10"],k[h][11]=k[u+"11"],k[h][12]=k[u+"12"],k[h][13]=k[u+"13"],k[h][14]=k[u+"0"],k[h][15]=k[u+"0"]}function gt(u){return u==Sh||u==jh||u==nu||u==_h}function zs(){this.eb=[],this.size=this.A=this.fb=0}function Rt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Pr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new zs,this.f.kb=new Rt,this.sd=null}function wi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Bt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ke(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function yt(u,h){var v=u.T,C=h.ba.f.RGBA,M=C.eb,D=C.fb+u.ka*C.A,O=vr[h.ba.S],q=u.y,$=u.O,X=u.f,ie=u.N,pe=u.ea,me=u.W,ue=h.cc,Ne=h.dc,ye=h.Mc,se=h.Nc,oe=u.ka,ve=u.ka+u.T,_e=u.U,be=_e+1>>1;for(oe==0?O(q,$,null,null,X,ie,pe,me,X,ie,pe,me,M,D,null,null,_e):(O(h.ec,h.fc,q,$,ue,Ne,ye,se,X,ie,pe,me,M,D-C.A,M,D,_e),++v);oe+2<ve;oe+=2)ue=X,Ne=ie,ye=pe,se=me,ie+=u.Rc,me+=u.Rc,D+=2*C.A,O(q,($+=2*u.fa)-u.fa,q,$,ue,Ne,ye,se,X,ie,pe,me,M,D-C.A,M,D,_e);return $+=u.fa,u.j+ve<u.o?(r(h.ec,h.fc,q,$,_e),r(h.cc,h.dc,X,ie,be),r(h.Mc,h.Nc,pe,me,be),v--):1&ve||O(q,$,null,null,X,ie,pe,me,X,ie,pe,me,M,D+C.A,null,null,_e),v}function Rs(u,h,v){var C=u.F,M=[u.J];if(C!=null){var D=u.U,O=h.ba.S,q=O==tu||O==nu;h=h.ba.f.RGBA;var $=[0],X=u.ka;$[0]=u.T,u.Kb&&(X==0?--$[0]:(--X,M[0]-=u.width),u.j+u.ka+u.T==u.o&&($[0]=u.o-u.j-X));var ie=h.eb;X=h.fb+X*h.A,u=Pt(C,M[0],u.width,D,$,ie,X+(q?0:3),h.A),e(v==$),u&&gt(O)&&yr(ie,X,q,D,$,h.A)}return 0}function pn(u){var h=u.ma,v=h.ba.S,C=11>v,M=v==Zc||v==eu||v==tu||v==Nh||v==12||gt(v);if(h.memory=null,h.Ib=null,h.Jb=null,h.Nd=null,!rl(h.Oa,u,M?11:12))return 0;if(M&&gt(v)&&Ce(),u.da)alert("todo:use_scaling");else{if(C){if(h.Ib=Ke,u.Kb){if(v=u.U+1>>1,h.memory=s(u.U+2*v),h.memory==null)return 0;h.ec=h.memory,h.fc=0,h.cc=h.ec,h.dc=h.fc+u.U,h.Mc=h.cc,h.Nc=h.dc+v,h.Ib=yt,Ce()}}else alert("todo:EmitYUV");M&&(h.Jb=Rs,C&&de())}if(C&&!Qp){for(u=0;256>u;++u)jy[u]=89858*(u-128)+iu>>ru,Cy[u]=-22014*(u-128)+iu,Ay[u]=-45773*(u-128),_y[u]=113618*(u-128)+iu>>ru;for(u=hl;u<Ph;++u)h=76283*(u-16)+iu>>ru,Py[u-hl]=tr(h,255),ky[u-hl]=tr(h+8>>4,15);Qp=1}return 1}function ei(u){var h=u.ma,v=u.U,C=u.T;return e(!(1&u.ka)),0>=v||0>=C?0:(v=h.Ib(u,h),h.Jb!=null&&h.Jb(u,h,v),h.Dc+=v,1)}function ti(u){u.ma.memory=null}function Ge(u,h,v,C){return te(u,8)!=47?0:(h[0]=te(u,14)+1,v[0]=te(u,14)+1,C[0]=te(u,1),te(u,3)!=0?0:!u.h)}function kr(u,h){if(4>u)return u+1;var v=u-2>>1;return(2+(1&u)<<v)+te(h,v)+1}function ni(u,h){return 120<h?h-120:1<=(v=((v=uy[h-1])>>4)*u+(8-(15&v)))?v:1;var v}function Un(u,h,v){var C=U(v),M=u[h+=255&C].g-8;return 0<M&&(K(v,v.u+8),C=U(v),h+=u[h].value,h+=C&(1<<M)-1),K(v,v.u+u[h].g),u[h].value}function rn(u,h,v){return v.g+=u.g,v.value+=u.value<<h>>>0,e(8>=v.g),u.g}function Kt(u,h,v){var C=u.xc;return e((h=C==0?0:u.vc[u.md*(v>>C)+(h>>C)])<u.Wb),u.Ya[h]}function er(u,h,v,C){var M=u.ab,D=u.c*h,O=u.C;h=O+h;var q=v,$=C;for(C=u.Ta,v=u.Ua;0<M--;){var X=u.gc[M],ie=O,pe=h,me=q,ue=$,Ne=($=C,q=v,X.Ea);switch(e(ie<pe),e(pe<=X.nc),X.hc){case 2:Vc(me,ue,(pe-ie)*Ne,$,q);break;case 0:var ye=ie,se=pe,oe=$,ve=q,_e=(Ie=X).Ea;ye==0&&(wh(me,ue,null,null,1,oe,ve),st(me,ue+1,0,0,_e-1,oe,ve+1),ue+=_e,ve+=_e,++ye);for(var be=1<<Ie.b,Re=be-1,Me=Te(_e,Ie.b),Ve=Ie.K,Ie=Ie.w+(ye>>Ie.b)*Me;ye<se;){var mt=Ve,xt=Ie,ht=1;for(al(me,ue,oe,ve-_e,1,oe,ve);ht<_e;){var lt=(ht&~Re)+be;lt>_e&&(lt=_e),(0,Ji[mt[xt++]>>8&15])(me,ue+ +ht,oe,ve+ht-_e,lt-ht,oe,ve+ht),ht=lt}ue+=_e,ve+=_e,++ye&Re||(Ie+=Me)}pe!=X.nc&&r($,q-Ne,$,q+(pe-ie-1)*Ne,Ne);break;case 1:for(Ne=me,se=ue,_e=(me=X.Ea)-(ve=me&~(oe=(ue=1<<X.b)-1)),ye=Te(me,X.b),be=X.K,X=X.w+(ie>>X.b)*ye;ie<pe;){for(Re=be,Me=X,Ve=new De,Ie=se+ve,mt=se+me;se<Ie;)Nt(Re[Me++],Ve),$s(Ve,Ne,se,ue,$,q),se+=ue,q+=ue;se<mt&&(Nt(Re[Me++],Ve),$s(Ve,Ne,se,_e,$,q),se+=_e,q+=_e),++ie&oe||(X+=ye)}break;case 3:if(me==$&&ue==q&&0<X.b){for(se=$,me=Ne=q+(pe-ie)*Ne-(ve=(pe-ie)*Te(X.Ea,X.b)),ue=$,oe=q,ye=[],ve=(_e=ve)-1;0<=ve;--ve)ye[ve]=ue[oe+ve];for(ve=_e-1;0<=ve;--ve)se[me+ve]=ye[ve];pr(X,ie,pe,$,Ne,$,q)}else pr(X,ie,pe,me,ue,$,q)}q=C,$=v}$!=v&&r(C,v,q,$,D)}function ja(u,h){var v=u.V,C=u.Ba+u.c*u.C,M=h-u.C;if(e(h<=u.l.o),e(16>=M),0<M){var D=u.l,O=u.Ta,q=u.Ua,$=D.width;if(er(u,M,v,C),M=q=[q],e((v=u.C)<(C=h)),e(D.v<D.va),C>D.o&&(C=D.o),v<D.j){var X=D.j-v;v=D.j,M[0]+=X*$}if(v>=C?v=0:(M[0]+=4*D.v,D.ka=v-D.j,D.U=D.va-D.v,D.T=C-v,v=1),v){if(q=q[0],11>(v=u.ca).S){var ie=v.f.RGBA,pe=(C=v.S,M=D.U,D=D.T,X=ie.eb,ie.A),me=D;for(ie=ie.fb+u.Ma*ie.A;0<me--;){var ue=O,Ne=q,ye=M,se=X,oe=ie;switch(C){case Kc:$n(ue,Ne,ye,se,oe);break;case Zc:In(ue,Ne,ye,se,oe);break;case Sh:In(ue,Ne,ye,se,oe),yr(se,oe,0,ye,1,0);break;case zp:_i(ue,Ne,ye,se,oe);break;case eu:Mt(ue,Ne,ye,se,oe,1);break;case jh:Mt(ue,Ne,ye,se,oe,1),yr(se,oe,0,ye,1,0);break;case tu:Mt(ue,Ne,ye,se,oe,0);break;case nu:Mt(ue,Ne,ye,se,oe,0),yr(se,oe,1,ye,1,0);break;case Nh:Xi(ue,Ne,ye,se,oe);break;case _h:Xi(ue,Ne,ye,se,oe),Ct(se,oe,ye,1,0);break;case Rp:ji(ue,Ne,ye,se,oe);break;default:e(0)}q+=$,ie+=pe}u.Ma+=D}else alert("todo:EmitRescaledRowsYUVA");e(u.Ma<=v.height)}}u.C=h,e(u.C<=u.i)}function bi(u){var h;if(0<u.ua)return 0;for(h=0;h<u.Wb;++h){var v=u.Ya[h].G,C=u.Ya[h].H;if(0<v[1][C[1]+0].g||0<v[2][C[2]+0].g||0<v[3][C[3]+0].g)return 0}return 1}function Lr(u,h,v,C,M,D){if(u.Z!=0){var O=u.qd,q=u.rd;for(e(ts[u.Z]!=null);h<v;++h)ts[u.Z](O,q,C,M,C,M,D),O=C,q=M,M+=D;u.qd=O,u.rd=q}}function Fr(u,h){var v=u.l.ma,C=v.Z==0||v.Z==1?u.l.j:u.C;if(C=u.C<C?C:u.C,e(h<=u.l.o),h>C){var M=u.l.width,D=v.ca,O=v.tb+M*C,q=u.V,$=u.Ba+u.c*C,X=u.gc;e(u.ab==1),e(X[0].hc==3),Gc(X[0],C,h,q,$,D,O),Lr(v,C,h,D,O,M)}u.C=u.Ma=h}function Tr(u,h,v,C,M,D,O){var q=u.$/C,$=u.$%C,X=u.m,ie=u.s,pe=v+u.$,me=pe;M=v+C*M;var ue=v+C*D,Ne=280+ie.ua,ye=u.Pb?q:16777216,se=0<ie.ua?ie.Wa:null,oe=ie.wc,ve=pe<ue?Kt(ie,$,q):null;e(u.C<D),e(ue<=M);var _e=!1;e:for(;;){for(;_e||pe<ue;){var be=0;if(q>=ye){var Re=pe-v;e((ye=u).Pb),ye.wd=ye.m,ye.xd=Re,0<ye.s.ua&&ne(ye.s.Wa,ye.s.vb),ye=q+hy}if($&oe||(ve=Kt(ie,$,q)),e(ve!=null),ve.Qb&&(h[pe]=ve.qb,_e=!0),!_e)if(ee(X),ve.jc){be=X,Re=h;var Me=pe,Ve=ve.pd[U(be)&mn-1];e(ve.jc),256>Ve.g?(K(be,be.u+Ve.g),Re[Me]=Ve.value,be=0):(K(be,be.u+Ve.g-256),e(256<=Ve.value),be=Ve.value),be==0&&(_e=!0)}else be=Un(ve.G[0],ve.H[0],X);if(X.h)break;if(_e||256>be){if(!_e)if(ve.nd)h[pe]=(ve.qb|be<<8)>>>0;else{if(ee(X),_e=Un(ve.G[1],ve.H[1],X),ee(X),Re=Un(ve.G[2],ve.H[2],X),Me=Un(ve.G[3],ve.H[3],X),X.h)break;h[pe]=(Me<<24|_e<<16|be<<8|Re)>>>0}if(_e=!1,++pe,++$>=C&&($=0,++q,O!=null&&q<=D&&!(q%16)&&O(u,q),se!=null))for(;me<pe;)be=h[me++],se.X[(506832829*be&4294967295)>>>se.Mb]=be}else if(280>be){if(be=kr(be-256,X),Re=Un(ve.G[4],ve.H[4],X),ee(X),Re=ni(C,Re=kr(Re,X)),X.h)break;if(pe-v<Re||M-pe<be)break e;for(Me=0;Me<be;++Me)h[pe+Me]=h[pe+Me-Re];for(pe+=be,$+=be;$>=C;)$-=C,++q,O!=null&&q<=D&&!(q%16)&&O(u,q);if(e(pe<=M),$&oe&&(ve=Kt(ie,$,q)),se!=null)for(;me<pe;)be=h[me++],se.X[(506832829*be&4294967295)>>>se.Mb]=be}else{if(!(be<Ne))break e;for(_e=be-280,e(se!=null);me<pe;)be=h[me++],se.X[(506832829*be&4294967295)>>>se.Mb]=be;be=pe,e(!(_e>>>(Re=se).Xa)),h[be]=Re.X[_e],_e=!0}_e||e(X.h==Q(X))}if(u.Pb&&X.h&&pe<M)e(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&ne(u.s.vb,u.s.Wa);else{if(X.h)break e;O!=null&&O(u,q>D?D:q),u.a=0,u.$=pe-v}return 1}return u.a=3,0}function ri(u){e(u!=null),u.vc=null,u.yc=null,u.Ya=null;var h=u.Wa;h!=null&&(h.X=null),u.vb=null,e(u!=null)}function fr(){var u=new vh;return u==null?null:(u.a=0,u.xb=Up,Zr("Predictor","VP8LPredictors"),Zr("Predictor","VP8LPredictors_C"),Zr("PredictorAdd","VP8LPredictorsAdd"),Zr("PredictorAdd","VP8LPredictorsAdd_C"),Vc=dt,$s=Ye,$n=Oe,In=wn,Xi=pt,ji=Cr,_i=jt,k.VP8LMapColor32b=Ha,k.VP8LMapColor8b=Qc,u)}function ii(u,h,v,C,M){var D=1,O=[u],q=[h],$=C.m,X=C.s,ie=null,pe=0;e:for(;;){if(v)for(;D&&te($,1);){var me=O,ue=q,Ne=C,ye=1,se=Ne.m,oe=Ne.gc[Ne.ab],ve=te(se,2);if(Ne.Oc&1<<ve)D=0;else{switch(Ne.Oc|=1<<ve,oe.hc=ve,oe.Ea=me[0],oe.nc=ue[0],oe.K=[null],++Ne.ab,e(4>=Ne.ab),ve){case 0:case 1:oe.b=te(se,3)+2,ye=ii(Te(oe.Ea,oe.b),Te(oe.nc,oe.b),0,Ne,oe.K),oe.K=oe.K[0];break;case 3:var _e,be=te(se,8)+1,Re=16<be?0:4<be?1:2<be?2:3;if(me[0]=Te(oe.Ea,Re),oe.b=Re,_e=ye=ii(be,1,0,Ne,oe.K)){var Me,Ve=be,Ie=oe,mt=1<<(8>>Ie.b),xt=s(mt);if(xt==null)_e=0;else{var ht=Ie.K[0],lt=Ie.w;for(xt[0]=Ie.K[0][0],Me=1;Me<1*Ve;++Me)xt[Me]=je(ht[lt+Me],xt[Me-1]);for(;Me<4*mt;++Me)xt[Me]=0;Ie.K[0]=null,Ie.K[0]=xt,_e=1}}ye=_e;break;case 2:break;default:e(0)}D=ye}}if(O=O[0],q=q[0],D&&te($,1)&&!(D=1<=(pe=te($,4))&&11>=pe)){C.a=3;break e}var _t;if(_t=D)t:{var St,rt,en,Vn=C,tn=O,Gn=q,vt=pe,rr=v,ir=Vn.m,un=Vn.s,gn=[null],En=1,wr=0,li=dy[vt];n:for(;;){if(rr&&te(ir,1)){var dn=te(ir,3)+2,ki=Te(tn,dn),Js=Te(Gn,dn),Ya=ki*Js;if(!ii(ki,Js,0,Vn,gn))break n;for(gn=gn[0],un.xc=dn,St=0;St<Ya;++St){var ns=gn[St]>>8&65535;gn[St]=ns,ns>=En&&(En=ns+1)}}if(ir.h)break n;for(rt=0;5>rt;++rt){var Ut=Bp[rt];!rt&&0<vt&&(Ut+=1<<vt),wr<Ut&&(wr=Ut)}var kh=a(En*li,_),Xp=En,Kp=a(Xp,B);if(Kp==null)var au=null;else e(65536>=Xp),au=Kp;var fl=s(wr);if(au==null||fl==null||kh==null){Vn.a=1;break n}var ou=kh;for(St=en=0;St<En;++St){var Or=au[St],Ja=Or.G,Xa=Or.H,Zp=0,lu=1,e1=0;for(rt=0;5>rt;++rt){Ut=Bp[rt],Ja[rt]=ou,Xa[rt]=en,!rt&&0<vt&&(Ut+=1<<vt);i:{var cu,Lh=Ut,uu=Vn,pl=fl,Ty=ou,My=en,Fh=0,rs=uu.m,Iy=te(rs,1);if(i(pl,0,0,Lh),Iy){var Dy=te(rs,1)+1,Ey=te(rs,1),t1=te(rs,Ey==0?1:8);pl[t1]=1,Dy==2&&(pl[t1=te(rs,8)]=1);var du=1}else{var n1=s(19),r1=te(rs,4)+4;if(19<r1){uu.a=3;var hu=0;break i}for(cu=0;cu<r1;++cu)n1[cy[cu]]=te(rs,3);var Th=void 0,ml=void 0,i1=uu,Oy=n1,fu=Lh,s1=pl,Mh=0,is=i1.m,a1=8,o1=a(128,_);r:for(;A(o1,0,7,Oy,19);){if(te(is,1)){var zy=2+2*te(is,3);if((Th=2+te(is,zy))>fu)break r}else Th=fu;for(ml=0;ml<fu&&Th--;){ee(is);var l1=o1[0+(127&U(is))];K(is,is.u+l1.g);var Ka=l1.value;if(16>Ka)s1[ml++]=Ka,Ka!=0&&(a1=Ka);else{var Ry=Ka==16,c1=Ka-16,By=oy[c1],u1=te(is,ay[c1])+By;if(ml+u1>fu)break r;for(var qy=Ry?a1:0;0<u1--;)s1[ml++]=qy}}Mh=1;break r}Mh||(i1.a=3),du=Mh}(du=du&&!rs.h)&&(Fh=A(Ty,My,8,pl,Lh)),du&&Fh!=0?hu=Fh:(uu.a=3,hu=0)}if(hu==0)break n;if(lu&&ly[rt]==1&&(lu=ou[en].g==0),Zp+=ou[en].g,en+=hu,3>=rt){var gl,Ih=fl[0];for(gl=1;gl<Ut;++gl)fl[gl]>Ih&&(Ih=fl[gl]);e1+=Ih}}if(Or.nd=lu,Or.Qb=0,lu&&(Or.qb=(Ja[3][Xa[3]+0].value<<24|Ja[1][Xa[1]+0].value<<16|Ja[2][Xa[2]+0].value)>>>0,Zp==0&&256>Ja[0][Xa[0]+0].value&&(Or.Qb=1,Or.qb+=Ja[0][Xa[0]+0].value<<8)),Or.jc=!Or.Qb&&6>e1,Or.jc){var pu,Li=Or;for(pu=0;pu<mn;++pu){var ss=pu,as=Li.pd[ss],mu=Li.G[0][Li.H[0]+ss];256<=mu.value?(as.g=mu.g+256,as.value=mu.value):(as.g=0,as.value=0,ss>>=rn(mu,8,as),ss>>=rn(Li.G[1][Li.H[1]+ss],16,as),ss>>=rn(Li.G[2][Li.H[2]+ss],0,as),rn(Li.G[3][Li.H[3]+ss],24,as))}}}un.vc=gn,un.Wb=En,un.Ya=au,un.yc=kh,_t=1;break t}_t=0}if(!(D=_t)){C.a=3;break e}if(0<pe){if(X.ua=1<<pe,!Le(X.Wa,pe)){C.a=1,D=0;break e}}else X.ua=0;var Dh=C,d1=O,Uy=q,Eh=Dh.s,Oh=Eh.xc;if(Dh.c=d1,Dh.i=Uy,Eh.md=Te(d1,Oh),Eh.wc=Oh==0?-1:(1<<Oh)-1,v){C.xb=vy;break e}if((ie=s(O*q))==null){C.a=1,D=0;break e}D=(D=Tr(C,ie,0,O,q,q,null))&&!$.h;break e}return D?(M!=null?M[0]=ie:(e(ie==null),e(v)),C.$=0,v||ri(X)):ri(X),D}function Bs(u,h){var v=u.c*u.i,C=v+h+16*h;return e(u.c<=h),u.V=s(C),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+v+h,1)}function _a(u,h){var v=u.C,C=h-v,M=u.V,D=u.Ba+u.c*v;for(e(h<=u.l.o);0<C;){var O=16<C?16:C,q=u.l.ma,$=u.l.width,X=$*O,ie=q.ca,pe=q.tb+$*v,me=u.Ta,ue=u.Ua;er(u,O,M,D),Gt(me,ue,ie,pe,X),Lr(q,v,v+O,ie,pe,$),C-=O,M+=O*u.c,v+=O}e(v==h),u.C=u.Ma=h}function Aa(){this.ub=this.yd=this.td=this.Rb=0}function Ca(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Pa(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Ac(){this.Yb=function(){var u=[];return function h(v,C,M){for(var D=M[C],O=0;O<D&&(v.push(M.length>C+1?[]:0),!(M.length<C+1));O++)h(v[O],C+1,M)}(u,0,[3,11]),u}()}function Jd(){this.jb=s(3),this.Wc=o([4,8],Ac),this.Xc=o([4,17],Ac)}function Xd(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function ka(){this.ld=this.La=this.dd=this.tc=0}function Cc(){this.Na=this.la=0}function Kd(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function qo(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Zd(){this.uc=this.M=this.Nb=0,this.wa=Array(new ka),this.Y=0,this.ya=Array(new qo),this.aa=0,this.l=new La}function Pc(){this.y=s(16),this.f=s(8),this.ea=s(8)}function eh(){this.cb=this.a=0,this.sc="",this.m=new le,this.Od=new Aa,this.Kc=new Ca,this.ed=new Xd,this.Qa=new Pa,this.Ic=this.$c=this.Aa=0,this.D=new Zd,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,le),this.ia=0,this.pb=a(4,Kd),this.Pa=new Jd,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Pc),this.Hd=0,this.rb=Array(new Cc),this.sb=0,this.wa=Array(new ka),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new qo),this.L=this.aa=0,this.gd=o([4,2],ka),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function La(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function th(){var u=new eh;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,dl||(dl=Fc)),u}function $t(u,h,v){return u.a==0&&(u.a=h,u.sc=v,u.cb=0),0}function kc(u,h,v){return 3<=v&&u[h+0]==157&&u[h+1]==1&&u[h+2]==42}function Lc(u,h){if(u==null)return 0;if(u.a=0,u.sc="OK",h==null)return $t(u,2,"null VP8Io passed to VP8GetHeaders()");var v=h.data,C=h.w,M=h.ha;if(4>M)return $t(u,7,"Truncated header.");var D=v[C+0]|v[C+1]<<8|v[C+2]<<16,O=u.Od;if(O.Rb=!(1&D),O.td=D>>1&7,O.yd=D>>4&1,O.ub=D>>5,3<O.td)return $t(u,3,"Incorrect keyframe parameters.");if(!O.yd)return $t(u,4,"Frame not displayable.");C+=3,M-=3;var q=u.Kc;if(O.Rb){if(7>M)return $t(u,7,"cannot parse picture header");if(!kc(v,C,M))return $t(u,3,"Bad code word");q.c=16383&(v[C+4]<<8|v[C+3]),q.Td=v[C+4]>>6,q.i=16383&(v[C+6]<<8|v[C+5]),q.Ud=v[C+6]>>6,C+=7,M-=7,u.za=q.c+15>>4,u.Ub=q.i+15>>4,h.width=q.c,h.height=q.i,h.Da=0,h.j=0,h.v=0,h.va=h.width,h.o=h.height,h.da=0,h.ib=h.width,h.hb=h.height,h.U=h.width,h.T=h.height,i((D=u.Pa).jb,0,255,D.jb.length),e((D=u.Qa)!=null),D.Cb=0,D.Bb=0,D.Fb=1,i(D.Zb,0,0,D.Zb.length),i(D.Lb,0,0,D.Lb)}if(O.ub>M)return $t(u,7,"bad partition length");ae(D=u.m,v,C,O.ub),C+=O.ub,M-=O.ub,O.Rb&&(q.Ld=he(D),q.Kd=he(D)),q=u.Qa;var $,X=u.Pa;if(e(D!=null),e(q!=null),q.Cb=he(D),q.Cb){if(q.Bb=he(D),he(D)){for(q.Fb=he(D),$=0;4>$;++$)q.Zb[$]=he(D)?Y(D,7):0;for($=0;4>$;++$)q.Lb[$]=he(D)?Y(D,6):0}if(q.Bb)for($=0;3>$;++$)X.jb[$]=he(D)?H(D,8):255}else q.Bb=0;if(D.Ka)return $t(u,3,"cannot parse segment header");if((q=u.ed).zd=he(D),q.Tb=H(D,6),q.wb=H(D,3),q.Pc=he(D),q.Pc&&he(D)){for(X=0;4>X;++X)he(D)&&(q.vd[X]=Y(D,6));for(X=0;4>X;++X)he(D)&&(q.od[X]=Y(D,6))}if(u.L=q.Tb==0?0:q.zd?1:2,D.Ka)return $t(u,3,"cannot parse filter header");var ie=M;if(M=$=C,C=$+ie,q=ie,u.Xb=(1<<H(u.m,2))-1,ie<3*(X=u.Xb))v=7;else{for($+=3*X,q-=3*X,ie=0;ie<X;++ie){var pe=v[M+0]|v[M+1]<<8|v[M+2]<<16;pe>q&&(pe=q),ae(u.Jc[+ie],v,$,pe),$+=pe,q-=pe,M+=3}ae(u.Jc[+X],v,$,q),v=$<C?0:5}if(v!=0)return $t(u,v,"cannot parse partitions");for(v=H($=u.m,7),M=he($)?Y($,4):0,C=he($)?Y($,4):0,q=he($)?Y($,4):0,X=he($)?Y($,4):0,$=he($)?Y($,4):0,ie=u.Qa,pe=0;4>pe;++pe){if(ie.Cb){var me=ie.Zb[pe];ie.Fb||(me+=v)}else{if(0<pe){u.pb[pe]=u.pb[0];continue}me=v}var ue=u.pb[pe];ue.Sc[0]=Ah[tr(me+M,127)],ue.Sc[1]=Ch[tr(me+0,127)],ue.Eb[0]=2*Ah[tr(me+C,127)],ue.Eb[1]=101581*Ch[tr(me+q,127)]>>16,8>ue.Eb[1]&&(ue.Eb[1]=8),ue.Qc[0]=Ah[tr(me+X,117)],ue.Qc[1]=Ch[tr(me+$,127)],ue.lc=me+$}if(!O.Rb)return $t(u,4,"Not a key frame.");for(he(D),O=u.Pa,v=0;4>v;++v){for(M=0;8>M;++M)for(C=0;3>C;++C)for(q=0;11>q;++q)X=fe(D,yy[v][M][C][q])?H(D,8):my[v][M][C][q],O.Wc[v][M].Yb[C][q]=X;for(M=0;17>M;++M)O.Xc[v][M]=O.Wc[v][xy[M]]}return u.kc=he(D),u.kc&&(u.Bd=H(D,8)),u.cb=1}function Fc(u,h,v,C,M,D,O){var q=h[M].Yb[v];for(v=0;16>M;++M){if(!fe(u,q[v+0]))return M;for(;!fe(u,q[v+1]);)if(q=h[++M].Yb[0],v=0,M==16)return 16;var $=h[M+1].Yb;if(fe(u,q[v+2])){var X=u,ie=0;if(fe(X,(me=q)[(pe=v)+3]))if(fe(X,me[pe+6])){for(q=0,pe=2*(ie=fe(X,me[pe+8]))+(me=fe(X,me[pe+9+ie])),ie=0,me=fy[pe];me[q];++q)ie+=ie+fe(X,me[q]);ie+=3+(8<<pe)}else fe(X,me[pe+7])?(ie=7+2*fe(X,165),ie+=fe(X,145)):ie=5+fe(X,159);else ie=fe(X,me[pe+4])?3+fe(X,me[pe+5]):2;q=$[2]}else ie=1,q=$[1];$=O+py[M],0>(X=u).b&&ce(X);var pe,me=X.b,ue=(pe=X.Ca>>1)-(X.I>>me)>>31;--X.b,X.Ca+=ue,X.Ca|=1,X.I-=(pe+1&ue)<<me,D[$]=((ie^ue)-ue)*C[(0<M)+0]}return 16}function Uo(u){var h=u.rb[u.sb-1];h.la=0,h.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function nh(u,h){if(u==null)return 0;if(h==null)return $t(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!Lc(u,h))return 0;if(e(u.cb),h.ac==null||h.ac(h)){h.ob&&(u.L=0);var v=su[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=h.v-v>>4,u.zb=h.j-v>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=h.o+15+v>>4,u.Hb=h.va+15+v>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var C=u.ed;for(v=0;4>v;++v){var M;if(u.Qa.Cb){var D=u.Qa.Lb[v];u.Qa.Fb||(D+=C.Tb)}else D=C.Tb;for(M=0;1>=M;++M){var O=u.gd[v][M],q=D;if(C.Pc&&(q+=C.vd[0],M&&(q+=C.od[0])),0<(q=0>q?0:63<q?63:q)){var $=q;0<C.wb&&($=4<C.wb?$>>2:$>>1)>9-C.wb&&($=9-C.wb),1>$&&($=1),O.dd=$,O.tc=2*q+$,O.ld=40<=q?2:15<=q?1:0}else O.tc=0;O.La=M}}}v=0}else $t(u,6,"Frame setup failed"),v=u.a;if(v=v==0){if(v){u.$c=0,0<u.Aa||(u.Ic=Fy);e:{v=u.Ic,C=4*($=u.za);var X=32*$,ie=$+1,pe=0<u.L?$*(0<u.Aa?2:1):0,me=(u.Aa==2?2:1)*$;if((O=C+832+(M=3*(16*v+su[u.L])/2*X)+(D=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=O)v=0;else{if(O>u.Vb){if(u.Vb=0,u.Ec=s(O),u.Fc=0,u.Ec==null){v=$t(u,1,"no memory during frame initialization.");break e}u.Vb=O}O=u.Ec,q=u.Fc,u.Ac=O,u.Bc=q,q+=C,u.Gd=a(X,Pc),u.Hd=0,u.rb=a(ie+1,Cc),u.sb=1,u.wa=pe?a(pe,ka):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=$),e(!0),u.oc=O,u.pc=q,q+=832,u.ya=a(me,qo),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=$),u.R=16*$,u.B=8*$,$=(X=su[u.L])*u.R,X=X/2*u.B,u.sa=O,u.ta=q+$,u.qa=u.sa,u.ra=u.ta+16*v*u.R+X,u.Ha=u.qa,u.Ia=u.ra+8*v*u.B+X,u.$c=0,q+=M,u.mb=D?O:null,u.nb=D?q:null,e(q+D<=u.Fc+u.Vb),Uo(u),i(u.Ac,u.Bc,0,C),v=1}}if(v){if(h.ka=0,h.y=u.sa,h.O=u.ta,h.f=u.qa,h.N=u.ra,h.ea=u.Ha,h.Vd=u.Ia,h.fa=u.R,h.Rc=u.B,h.F=null,h.J=0,!Jc){for(v=-255;255>=v;++v)sn[255+v]=0>v?-v:v;for(v=-1020;1020>=v;++v)Ci[1020+v]=-128>v?-128:127<v?127:v;for(v=-112;112>=v;++v)ul[112+v]=-16>v?-16:15<v?15:v;for(v=-255;510>=v;++v)Qa[255+v]=0>v?0:255<v?255:v;Jc=1}$a=sh,Ai=rh,ol=Mc,Dn=ih,mr=Ic,Vt=Tc,Va=Qo,Yc=Ws,ll=xh,Vs=Yo,Gs=yh,Ki=Ea,Qs=Jo,Ga=Wc,Ys=Uc,Zi=ai,cl=Si,gr=gh,Er[0]=si,Er[1]=ah,Er[2]=uh,Er[3]=dh,Er[4]=Oc,Er[5]=Ia,Er[6]=zc,Er[7]=$o,Er[8]=fh,Er[9]=hh,es[0]=Dc,es[1]=lh,es[2]=Ni,es[3]=Ta,es[4]=bn,es[5]=ch,es[6]=Ec,Pi[0]=Gi,Pi[1]=oh,Pi[2]=ph,Pi[3]=Vo,Pi[4]=Us,Pi[5]=mh,Pi[6]=Go,v=1}else v=0}v&&(v=function(ue,Ne){for(ue.M=0;ue.M<ue.Va;++ue.M){var ye,se=ue.Jc[ue.M&ue.Xb],oe=ue.m,ve=ue;for(ye=0;ye<ve.za;++ye){var _e=oe,be=ve,Re=be.Ac,Me=be.Bc+4*ye,Ve=be.zc,Ie=be.ya[be.aa+ye];if(be.Qa.Bb?Ie.$b=fe(_e,be.Pa.jb[0])?2+fe(_e,be.Pa.jb[2]):fe(_e,be.Pa.jb[1]):Ie.$b=0,be.kc&&(Ie.Ad=fe(_e,be.Bd)),Ie.Za=!fe(_e,145)+0,Ie.Za){var mt=Ie.Ob,xt=0;for(be=0;4>be;++be){var ht,lt=Ve[0+be];for(ht=0;4>ht;++ht){lt=gy[Re[Me+ht]][lt];for(var _t=qp[fe(_e,lt[0])];0<_t;)_t=qp[2*_t+fe(_e,lt[_t])];lt=-_t,Re[Me+ht]=lt}r(mt,xt,Re,Me,4),xt+=4,Ve[0+be]=lt}}else lt=fe(_e,156)?fe(_e,128)?1:3:fe(_e,163)?2:0,Ie.Ob[0]=lt,i(Re,Me,lt,4),i(Ve,0,lt,4);Ie.Dd=fe(_e,142)?fe(_e,114)?fe(_e,183)?1:3:2:0}if(ve.m.Ka)return $t(ue,7,"Premature end-of-partition0 encountered.");for(;ue.ja<ue.za;++ue.ja){if(ve=se,_e=(oe=ue).rb[oe.sb-1],Re=oe.rb[oe.sb+oe.ja],ye=oe.ya[oe.aa+oe.ja],Me=oe.kc?ye.Ad:0)_e.la=Re.la=0,ye.Za||(_e.Na=Re.Na=0),ye.Hc=0,ye.Gc=0,ye.ia=0;else{var St,rt;if(_e=Re,Re=ve,Me=oe.Pa.Xc,Ve=oe.ya[oe.aa+oe.ja],Ie=oe.pb[Ve.$b],be=Ve.ad,mt=0,xt=oe.rb[oe.sb-1],lt=ht=0,i(be,mt,0,384),Ve.Za)var en=0,Vn=Me[3];else{_t=s(16);var tn=_e.Na+xt.Na;if(tn=dl(Re,Me[1],tn,Ie.Eb,0,_t,0),_e.Na=xt.Na=(0<tn)+0,1<tn)$a(_t,0,be,mt);else{var Gn=_t[0]+3>>3;for(_t=0;256>_t;_t+=16)be[mt+_t]=Gn}en=1,Vn=Me[0]}var vt=15&_e.la,rr=15&xt.la;for(_t=0;4>_t;++_t){var ir=1&rr;for(Gn=rt=0;4>Gn;++Gn)vt=vt>>1|(ir=(tn=dl(Re,Vn,tn=ir+(1&vt),Ie.Sc,en,be,mt))>en)<<7,rt=rt<<2|(3<tn?3:1<tn?2:be[mt+0]!=0),mt+=16;vt>>=4,rr=rr>>1|ir<<7,ht=(ht<<8|rt)>>>0}for(Vn=vt,en=rr>>4,St=0;4>St;St+=2){for(rt=0,vt=_e.la>>4+St,rr=xt.la>>4+St,_t=0;2>_t;++_t){for(ir=1&rr,Gn=0;2>Gn;++Gn)tn=ir+(1&vt),vt=vt>>1|(ir=0<(tn=dl(Re,Me[2],tn,Ie.Qc,0,be,mt)))<<3,rt=rt<<2|(3<tn?3:1<tn?2:be[mt+0]!=0),mt+=16;vt>>=2,rr=rr>>1|ir<<5}lt|=rt<<4*St,Vn|=vt<<4<<St,en|=(240&rr)<<St}_e.la=Vn,xt.la=en,Ve.Hc=ht,Ve.Gc=lt,Ve.ia=43690&lt?0:Ie.ia,Me=!(ht|lt)}if(0<oe.L&&(oe.wa[oe.Y+oe.ja]=oe.gd[ye.$b][ye.Za],oe.wa[oe.Y+oe.ja].La|=!Me),ve.Ka)return $t(ue,7,"Premature end-of-file encountered.")}if(Uo(ue),oe=Ne,ve=1,ye=(se=ue).D,_e=0<se.L&&se.M>=se.zb&&se.M<=se.Va,se.Aa==0)e:{if(ye.M=se.M,ye.uc=_e,nl(se,ye),ve=1,ye=(rt=se.D).Nb,_e=(lt=su[se.L])*se.R,Re=lt/2*se.B,_t=16*ye*se.R,Gn=8*ye*se.B,Me=se.sa,Ve=se.ta-_e+_t,Ie=se.qa,be=se.ra-Re+Gn,mt=se.Ha,xt=se.Ia-Re+Gn,rr=(vt=rt.M)==0,ht=vt>=se.Va-1,se.Aa==2&&nl(se,rt),rt.uc)for(ir=(tn=se).D.M,e(tn.D.uc),rt=tn.yb;rt<tn.Hb;++rt){en=rt,Vn=ir;var un=(gn=(Ut=tn).D).Nb;St=Ut.R;var gn=gn.wa[gn.Y+en],En=Ut.sa,wr=Ut.ta+16*un*St+16*en,li=gn.dd,dn=gn.tc;if(dn!=0)if(e(3<=dn),Ut.L==1)0<en&&Zi(En,wr,St,dn+4),gn.La&&gr(En,wr,St,dn),0<Vn&&Ys(En,wr,St,dn+4),gn.La&&cl(En,wr,St,dn);else{var ki=Ut.B,Js=Ut.qa,Ya=Ut.ra+8*un*ki+8*en,ns=Ut.Ha,Ut=Ut.Ia+8*un*ki+8*en;un=gn.ld,0<en&&(Yc(En,wr,St,dn+4,li,un),Vs(Js,Ya,ns,Ut,ki,dn+4,li,un)),gn.La&&(Ki(En,wr,St,dn,li,un),Ga(Js,Ya,ns,Ut,ki,dn,li,un)),0<Vn&&(Va(En,wr,St,dn+4,li,un),ll(Js,Ya,ns,Ut,ki,dn+4,li,un)),gn.La&&(Gs(En,wr,St,dn,li,un),Qs(Js,Ya,ns,Ut,ki,dn,li,un))}}if(se.ia&&alert("todo:DitherRow"),oe.put!=null){if(rt=16*vt,vt=16*(vt+1),rr?(oe.y=se.sa,oe.O=se.ta+_t,oe.f=se.qa,oe.N=se.ra+Gn,oe.ea=se.Ha,oe.W=se.Ia+Gn):(rt-=lt,oe.y=Me,oe.O=Ve,oe.f=Ie,oe.N=be,oe.ea=mt,oe.W=xt),ht||(vt-=lt),vt>oe.o&&(vt=oe.o),oe.F=null,oe.J=null,se.Fa!=null&&0<se.Fa.length&&rt<vt&&(oe.J=el(se,oe,rt,vt-rt),oe.F=se.mb,oe.F==null&&oe.F.length==0)){ve=$t(se,3,"Could not decode alpha data.");break e}rt<oe.j&&(lt=oe.j-rt,rt=oe.j,e(!(1&lt)),oe.O+=se.R*lt,oe.N+=se.B*(lt>>1),oe.W+=se.B*(lt>>1),oe.F!=null&&(oe.J+=oe.width*lt)),rt<vt&&(oe.O+=oe.v,oe.N+=oe.v>>1,oe.W+=oe.v>>1,oe.F!=null&&(oe.J+=oe.v),oe.ka=rt-oe.j,oe.U=oe.va-oe.v,oe.T=vt-rt,ve=oe.put(oe))}ye+1!=se.Ic||ht||(r(se.sa,se.ta-_e,Me,Ve+16*se.R,_e),r(se.qa,se.ra-Re,Ie,be+8*se.B,Re),r(se.Ha,se.Ia-Re,mt,xt+8*se.B,Re))}if(!ve)return $t(ue,6,"Output aborted.")}return 1}(u,h)),h.bc!=null&&h.bc(h),v&=1}return v?(u.cb=0,v):0}function Mr(u,h,v,C,M){M=u[h+v+32*C]+(M>>3),u[h+v+32*C]=-256&M?0>M?0:255:M}function Fa(u,h,v,C,M,D){Mr(u,h,0,v,C+M),Mr(u,h,1,v,C+D),Mr(u,h,2,v,C-D),Mr(u,h,3,v,C-M)}function Wn(u){return(20091*u>>16)+u}function Wo(u,h,v,C){var M,D=0,O=s(16);for(M=0;4>M;++M){var q=u[h+0]+u[h+8],$=u[h+0]-u[h+8],X=(35468*u[h+4]>>16)-Wn(u[h+12]),ie=Wn(u[h+4])+(35468*u[h+12]>>16);O[D+0]=q+ie,O[D+1]=$+X,O[D+2]=$-X,O[D+3]=q-ie,D+=4,h++}for(M=D=0;4>M;++M)q=(u=O[D+0]+4)+O[D+8],$=u-O[D+8],X=(35468*O[D+4]>>16)-Wn(O[D+12]),Mr(v,C,0,0,q+(ie=Wn(O[D+4])+(35468*O[D+12]>>16))),Mr(v,C,1,0,$+X),Mr(v,C,2,0,$-X),Mr(v,C,3,0,q-ie),D++,C+=32}function Tc(u,h,v,C){var M=u[h+0]+4,D=35468*u[h+4]>>16,O=Wn(u[h+4]),q=35468*u[h+1]>>16;Fa(v,C,0,M+O,u=Wn(u[h+1]),q),Fa(v,C,1,M+D,u,q),Fa(v,C,2,M-D,u,q),Fa(v,C,3,M-O,u,q)}function rh(u,h,v,C,M){Wo(u,h,v,C),M&&Wo(u,h+16,v,C+4)}function Mc(u,h,v,C){Ai(u,h+0,v,C,1),Ai(u,h+32,v,C+128,1)}function ih(u,h,v,C){var M;for(u=u[h+0]+4,M=0;4>M;++M)for(h=0;4>h;++h)Mr(v,C,h,M,u)}function Ic(u,h,v,C){u[h+0]&&Dn(u,h+0,v,C),u[h+16]&&Dn(u,h+16,v,C+4),u[h+32]&&Dn(u,h+32,v,C+128),u[h+48]&&Dn(u,h+48,v,C+128+4)}function sh(u,h,v,C){var M,D=s(16);for(M=0;4>M;++M){var O=u[h+0+M]+u[h+12+M],q=u[h+4+M]+u[h+8+M],$=u[h+4+M]-u[h+8+M],X=u[h+0+M]-u[h+12+M];D[0+M]=O+q,D[8+M]=O-q,D[4+M]=X+$,D[12+M]=X-$}for(M=0;4>M;++M)O=(u=D[0+4*M]+3)+D[3+4*M],q=D[1+4*M]+D[2+4*M],$=D[1+4*M]-D[2+4*M],X=u-D[3+4*M],v[C+0]=O+q>>3,v[C+16]=X+$>>3,v[C+32]=O-q>>3,v[C+48]=X-$>>3,C+=64}function Ho(u,h,v){var C,M=h-32,D=nr,O=255-u[M-1];for(C=0;C<v;++C){var q,$=D,X=O+u[h-1];for(q=0;q<v;++q)u[h+q]=$[X+u[M+q]];h+=32}}function ah(u,h){Ho(u,h,4)}function oh(u,h){Ho(u,h,8)}function lh(u,h){Ho(u,h,16)}function Ni(u,h){var v;for(v=0;16>v;++v)r(u,h+32*v,u,h-32,16)}function Ta(u,h){var v;for(v=16;0<v;--v)i(u,h,u[h-1],16),h+=32}function Ma(u,h,v){var C;for(C=0;16>C;++C)i(h,v+32*C,u,16)}function Dc(u,h){var v,C=16;for(v=0;16>v;++v)C+=u[h-1+32*v]+u[h+v-32];Ma(C>>5,u,h)}function bn(u,h){var v,C=8;for(v=0;16>v;++v)C+=u[h-1+32*v];Ma(C>>4,u,h)}function ch(u,h){var v,C=8;for(v=0;16>v;++v)C+=u[h+v-32];Ma(C>>4,u,h)}function Ec(u,h){Ma(128,u,h)}function Je(u,h,v){return u+2*h+v+2>>2}function uh(u,h){var v,C=h-32;for(C=new Uint8Array([Je(u[C-1],u[C+0],u[C+1]),Je(u[C+0],u[C+1],u[C+2]),Je(u[C+1],u[C+2],u[C+3]),Je(u[C+2],u[C+3],u[C+4])]),v=0;4>v;++v)r(u,h+32*v,C,0,C.length)}function dh(u,h){var v=u[h-1],C=u[h-1+32],M=u[h-1+64],D=u[h-1+96];Ae(u,h+0,16843009*Je(u[h-1-32],v,C)),Ae(u,h+32,16843009*Je(v,C,M)),Ae(u,h+64,16843009*Je(C,M,D)),Ae(u,h+96,16843009*Je(M,D,D))}function si(u,h){var v,C=4;for(v=0;4>v;++v)C+=u[h+v-32]+u[h-1+32*v];for(C>>=3,v=0;4>v;++v)i(u,h+32*v,C,4)}function Oc(u,h){var v=u[h-1+0],C=u[h-1+32],M=u[h-1+64],D=u[h-1-32],O=u[h+0-32],q=u[h+1-32],$=u[h+2-32],X=u[h+3-32];u[h+0+96]=Je(C,M,u[h-1+96]),u[h+1+96]=u[h+0+64]=Je(v,C,M),u[h+2+96]=u[h+1+64]=u[h+0+32]=Je(D,v,C),u[h+3+96]=u[h+2+64]=u[h+1+32]=u[h+0+0]=Je(O,D,v),u[h+3+64]=u[h+2+32]=u[h+1+0]=Je(q,O,D),u[h+3+32]=u[h+2+0]=Je($,q,O),u[h+3+0]=Je(X,$,q)}function zc(u,h){var v=u[h+1-32],C=u[h+2-32],M=u[h+3-32],D=u[h+4-32],O=u[h+5-32],q=u[h+6-32],$=u[h+7-32];u[h+0+0]=Je(u[h+0-32],v,C),u[h+1+0]=u[h+0+32]=Je(v,C,M),u[h+2+0]=u[h+1+32]=u[h+0+64]=Je(C,M,D),u[h+3+0]=u[h+2+32]=u[h+1+64]=u[h+0+96]=Je(M,D,O),u[h+3+32]=u[h+2+64]=u[h+1+96]=Je(D,O,q),u[h+3+64]=u[h+2+96]=Je(O,q,$),u[h+3+96]=Je(q,$,$)}function Ia(u,h){var v=u[h-1+0],C=u[h-1+32],M=u[h-1+64],D=u[h-1-32],O=u[h+0-32],q=u[h+1-32],$=u[h+2-32],X=u[h+3-32];u[h+0+0]=u[h+1+64]=D+O+1>>1,u[h+1+0]=u[h+2+64]=O+q+1>>1,u[h+2+0]=u[h+3+64]=q+$+1>>1,u[h+3+0]=$+X+1>>1,u[h+0+96]=Je(M,C,v),u[h+0+64]=Je(C,v,D),u[h+0+32]=u[h+1+96]=Je(v,D,O),u[h+1+32]=u[h+2+96]=Je(D,O,q),u[h+2+32]=u[h+3+96]=Je(O,q,$),u[h+3+32]=Je(q,$,X)}function $o(u,h){var v=u[h+0-32],C=u[h+1-32],M=u[h+2-32],D=u[h+3-32],O=u[h+4-32],q=u[h+5-32],$=u[h+6-32],X=u[h+7-32];u[h+0+0]=v+C+1>>1,u[h+1+0]=u[h+0+64]=C+M+1>>1,u[h+2+0]=u[h+1+64]=M+D+1>>1,u[h+3+0]=u[h+2+64]=D+O+1>>1,u[h+0+32]=Je(v,C,M),u[h+1+32]=u[h+0+96]=Je(C,M,D),u[h+2+32]=u[h+1+96]=Je(M,D,O),u[h+3+32]=u[h+2+96]=Je(D,O,q),u[h+3+64]=Je(O,q,$),u[h+3+96]=Je(q,$,X)}function hh(u,h){var v=u[h-1+0],C=u[h-1+32],M=u[h-1+64],D=u[h-1+96];u[h+0+0]=v+C+1>>1,u[h+2+0]=u[h+0+32]=C+M+1>>1,u[h+2+32]=u[h+0+64]=M+D+1>>1,u[h+1+0]=Je(v,C,M),u[h+3+0]=u[h+1+32]=Je(C,M,D),u[h+3+32]=u[h+1+64]=Je(M,D,D),u[h+3+64]=u[h+2+64]=u[h+0+96]=u[h+1+96]=u[h+2+96]=u[h+3+96]=D}function fh(u,h){var v=u[h-1+0],C=u[h-1+32],M=u[h-1+64],D=u[h-1+96],O=u[h-1-32],q=u[h+0-32],$=u[h+1-32],X=u[h+2-32];u[h+0+0]=u[h+2+32]=v+O+1>>1,u[h+0+32]=u[h+2+64]=C+v+1>>1,u[h+0+64]=u[h+2+96]=M+C+1>>1,u[h+0+96]=D+M+1>>1,u[h+3+0]=Je(q,$,X),u[h+2+0]=Je(O,q,$),u[h+1+0]=u[h+3+32]=Je(v,O,q),u[h+1+32]=u[h+3+64]=Je(C,v,O),u[h+1+64]=u[h+3+96]=Je(M,C,v),u[h+1+96]=Je(D,M,C)}function ph(u,h){var v;for(v=0;8>v;++v)r(u,h+32*v,u,h-32,8)}function Vo(u,h){var v;for(v=0;8>v;++v)i(u,h,u[h-1],8),h+=32}function qs(u,h,v){var C;for(C=0;8>C;++C)i(h,v+32*C,u,8)}function Gi(u,h){var v,C=8;for(v=0;8>v;++v)C+=u[h+v-32]+u[h-1+32*v];qs(C>>4,u,h)}function mh(u,h){var v,C=4;for(v=0;8>v;++v)C+=u[h+v-32];qs(C>>3,u,h)}function Us(u,h){var v,C=4;for(v=0;8>v;++v)C+=u[h-1+32*v];qs(C>>3,u,h)}function Go(u,h){qs(128,u,h)}function Da(u,h,v){var C=u[h-v],M=u[h+0],D=3*(M-C)+bh[1020+u[h-2*v]-u[h+v]],O=Xc[112+(D+4>>3)];u[h-v]=nr[255+C+Xc[112+(D+3>>3)]],u[h+0]=nr[255+M-O]}function Rc(u,h,v,C){var M=u[h+0],D=u[h+v];return xr[255+u[h-2*v]-u[h-v]]>C||xr[255+D-M]>C}function Bc(u,h,v,C){return 4*xr[255+u[h-v]-u[h+0]]+xr[255+u[h-2*v]-u[h+v]]<=C}function qc(u,h,v,C,M){var D=u[h-3*v],O=u[h-2*v],q=u[h-v],$=u[h+0],X=u[h+v],ie=u[h+2*v],pe=u[h+3*v];return 4*xr[255+q-$]+xr[255+O-X]>C?0:xr[255+u[h-4*v]-D]<=M&&xr[255+D-O]<=M&&xr[255+O-q]<=M&&xr[255+pe-ie]<=M&&xr[255+ie-X]<=M&&xr[255+X-$]<=M}function Uc(u,h,v,C){var M=2*C+1;for(C=0;16>C;++C)Bc(u,h+C,v,M)&&Da(u,h+C,v)}function ai(u,h,v,C){var M=2*C+1;for(C=0;16>C;++C)Bc(u,h+C*v,1,M)&&Da(u,h+C*v,1)}function Si(u,h,v,C){var M;for(M=3;0<M;--M)Uc(u,h+=4*v,v,C)}function gh(u,h,v,C){var M;for(M=3;0<M;--M)ai(u,h+=4,v,C)}function Qi(u,h,v,C,M,D,O,q){for(D=2*D+1;0<M--;){if(qc(u,h,v,D,O))if(Rc(u,h,v,q))Da(u,h,v);else{var $=u,X=h,ie=v,pe=$[X-2*ie],me=$[X-ie],ue=$[X+0],Ne=$[X+ie],ye=$[X+2*ie],se=27*(ve=bh[1020+3*(ue-me)+bh[1020+pe-Ne]])+63>>7,oe=18*ve+63>>7,ve=9*ve+63>>7;$[X-3*ie]=nr[255+$[X-3*ie]+ve],$[X-2*ie]=nr[255+pe+oe],$[X-ie]=nr[255+me+se],$[X+0]=nr[255+ue-se],$[X+ie]=nr[255+Ne-oe],$[X+2*ie]=nr[255+ye-ve]}h+=C}}function Ir(u,h,v,C,M,D,O,q){for(D=2*D+1;0<M--;){if(qc(u,h,v,D,O))if(Rc(u,h,v,q))Da(u,h,v);else{var $=u,X=h,ie=v,pe=$[X-ie],me=$[X+0],ue=$[X+ie],Ne=Xc[112+((ye=3*(me-pe))+4>>3)],ye=Xc[112+(ye+3>>3)],se=Ne+1>>1;$[X-2*ie]=nr[255+$[X-2*ie]+se],$[X-ie]=nr[255+pe+ye],$[X+0]=nr[255+me-Ne],$[X+ie]=nr[255+ue-se]}h+=C}}function Qo(u,h,v,C,M,D){Qi(u,h,v,1,16,C,M,D)}function Ws(u,h,v,C,M,D){Qi(u,h,1,v,16,C,M,D)}function yh(u,h,v,C,M,D){var O;for(O=3;0<O;--O)Ir(u,h+=4*v,v,1,16,C,M,D)}function Ea(u,h,v,C,M,D){var O;for(O=3;0<O;--O)Ir(u,h+=4,1,v,16,C,M,D)}function xh(u,h,v,C,M,D,O,q){Qi(u,h,M,1,8,D,O,q),Qi(v,C,M,1,8,D,O,q)}function Yo(u,h,v,C,M,D,O,q){Qi(u,h,1,M,8,D,O,q),Qi(v,C,1,M,8,D,O,q)}function Jo(u,h,v,C,M,D,O,q){Ir(u,h+4*M,M,1,8,D,O,q),Ir(v,C+4*M,M,1,8,D,O,q)}function Wc(u,h,v,C,M,D,O,q){Ir(u,h+4,1,M,8,D,O,q),Ir(v,C+4,1,M,8,D,O,q)}function Oa(){this.ba=new Pr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Bt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Xo(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ko(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Hc(){this.ua=0,this.Wa=new J,this.vb=new J,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new B,this.yc=new _}function vh(){this.xb=this.a=0,this.l=new La,this.ca=new Pr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new L,this.Pb=0,this.wd=new L,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Hc,this.ab=0,this.gc=a(4,Ko),this.Oc=0}function za(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new La,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Hs(u,h,v,C,M,D,O){for(u=u==null?0:u[h+0],h=0;h<O;++h)M[D+h]=u+v[C+h]&255,u=M[D+h]}function Zo(u,h,v,C,M,D,O){var q;if(u==null)Hs(null,null,v,C,M,D,O);else for(q=0;q<O;++q)M[D+q]=u[h+q]+v[C+q]&255}function Yi(u,h,v,C,M,D,O){if(u==null)Hs(null,null,v,C,M,D,O);else{var q,$=u[h+0],X=$,ie=$;for(q=0;q<O;++q)X=ie+($=u[h+q])-X,ie=v[C+q]+(-256&X?0>X?0:255:X)&255,X=$,M[D+q]=ie}}function el(u,h,v,C){var M=h.width,D=h.o;if(e(u!=null&&h!=null),0>v||0>=C||v+C>D)return null;if(!u.Cc){if(u.ga==null){var O;if(u.ga=new za,(O=u.ga==null)||(O=h.width*h.o,e(u.Gb.length==0),u.Gb=s(O),u.Uc=0,u.Gb==null?O=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,O=1),O=!O),!O){O=u.ga;var q=u.Fa,$=u.P,X=u.qc,ie=u.mb,pe=u.nb,me=$+1,ue=X-1,Ne=O.l;if(e(q!=null&&ie!=null&&h!=null),ts[0]=null,ts[1]=Hs,ts[2]=Zo,ts[3]=Yi,O.ca=ie,O.tb=pe,O.c=h.width,O.i=h.height,e(0<O.c&&0<O.i),1>=X)h=0;else if(O.$a=q[$+0]>>0&3,O.Z=q[$+0]>>2&3,O.Lc=q[$+0]>>4&3,$=q[$+0]>>6&3,0>O.$a||1<O.$a||4<=O.Z||1<O.Lc||$)h=0;else if(Ne.put=ei,Ne.ac=pn,Ne.bc=ti,Ne.ma=O,Ne.width=h.width,Ne.height=h.height,Ne.Da=h.Da,Ne.v=h.v,Ne.va=h.va,Ne.j=h.j,Ne.o=h.o,O.$a)e:{e(O.$a==1),h=fr();t:for(;;){if(h==null){h=0;break e}if(e(O!=null),O.mc=h,h.c=O.c,h.i=O.i,h.l=O.l,h.l.ma=O,h.l.width=O.c,h.l.height=O.i,h.a=0,W(h.m,q,me,ue),!ii(O.c,O.i,1,h,null)||(h.ab==1&&h.gc[0].hc==3&&bi(h.s)?(O.ic=1,q=h.c*h.i,h.Ta=null,h.Ua=0,h.V=s(q),h.Ba=0,h.V==null?(h.a=1,h=0):h=1):(O.ic=0,h=Bs(h,O.c)),!h))break t;h=1;break e}O.mc=null,h=0}else h=ue>=O.c*O.i;O=!h}if(O)return null;u.ga.Lc!=1?u.Ga=0:C=D-v}e(u.ga!=null),e(v+C<=D);e:{if(h=(q=u.ga).c,D=q.l.o,q.$a==0){if(me=u.rc,ue=u.Vc,Ne=u.Fa,$=u.P+1+v*h,X=u.mb,ie=u.nb+v*h,e($<=u.P+u.qc),q.Z!=0)for(e(ts[q.Z]!=null),O=0;O<C;++O)ts[q.Z](me,ue,Ne,$,X,ie,h),me=X,ue=ie,ie+=h,$+=h;else for(O=0;O<C;++O)r(X,ie,Ne,$,h),me=X,ue=ie,ie+=h,$+=h;u.rc=me,u.Vc=ue}else{if(e(q.mc!=null),h=v+C,e((O=q.mc)!=null),e(h<=O.i),O.C>=h)h=1;else if(q.ic||de(),q.ic){q=O.V,me=O.Ba,ue=O.c;var ye=O.i,se=(Ne=1,$=O.$/ue,X=O.$%ue,ie=O.m,pe=O.s,O.$),oe=ue*ye,ve=ue*h,_e=pe.wc,be=se<ve?Kt(pe,X,$):null;e(se<=oe),e(h<=ye),e(bi(pe));t:for(;;){for(;!ie.h&&se<ve;){if(X&_e||(be=Kt(pe,X,$)),e(be!=null),ee(ie),256>(ye=Un(be.G[0],be.H[0],ie)))q[me+se]=ye,++se,++X>=ue&&(X=0,++$<=h&&!($%16)&&Fr(O,$));else{if(!(280>ye)){Ne=0;break t}ye=kr(ye-256,ie);var Re,Me=Un(be.G[4],be.H[4],ie);if(ee(ie),!(se>=(Me=ni(ue,Me=kr(Me,ie)))&&oe-se>=ye)){Ne=0;break t}for(Re=0;Re<ye;++Re)q[me+se+Re]=q[me+se+Re-Me];for(se+=ye,X+=ye;X>=ue;)X-=ue,++$<=h&&!($%16)&&Fr(O,$);se<ve&&X&_e&&(be=Kt(pe,X,$))}e(ie.h==Q(ie))}Fr(O,$>h?h:$);break t}!Ne||ie.h&&se<oe?(Ne=0,O.a=ie.h?5:3):O.$=se,h=Ne}else h=Tr(O,O.V,O.Ba,O.c,O.i,h,_a);if(!h){C=0;break e}}v+C>=D&&(u.Cc=1),C=1}if(!C)return null;if(u.Cc&&((C=u.ga)!=null&&(C.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+v*M}function y(u,h,v,C,M,D){for(;0<M--;){var O,q=u,$=h+(v?1:0),X=u,ie=h+(v?0:3);for(O=0;O<C;++O){var pe=X[ie+4*O];pe!=255&&(pe*=32897,q[$+4*O+0]=q[$+4*O+0]*pe>>23,q[$+4*O+1]=q[$+4*O+1]*pe>>23,q[$+4*O+2]=q[$+4*O+2]*pe>>23)}h+=D}}function I(u,h,v,C,M){for(;0<C--;){var D;for(D=0;D<v;++D){var O=u[h+2*D+0],q=15&(X=u[h+2*D+1]),$=4369*q,X=(240&X|X>>4)*$>>16;u[h+2*D+0]=(240&O|O>>4)*$>>16&240|(15&O|O<<4)*$>>16>>4&15,u[h+2*D+1]=240&X|q}h+=M}}function Z(u,h,v,C,M,D,O,q){var $,X,ie=255;for(X=0;X<M;++X){for($=0;$<C;++$){var pe=u[h+$];D[O+4*$]=pe,ie&=pe}h+=v,O+=q}return ie!=255}function re(u,h,v,C,M){var D;for(D=0;D<M;++D)v[C+D]=u[h+D]>>8}function de(){yr=y,Ct=I,Pt=Z,Gt=re}function xe(u,h,v){k[u]=function(C,M,D,O,q,$,X,ie,pe,me,ue,Ne,ye,se,oe,ve,_e){var be,Re=_e-1>>1,Me=q[$+0]|X[ie+0]<<16,Ve=pe[me+0]|ue[Ne+0]<<16;e(C!=null);var Ie=3*Me+Ve+131074>>2;for(h(C[M+0],255&Ie,Ie>>16,ye,se),D!=null&&(Ie=3*Ve+Me+131074>>2,h(D[O+0],255&Ie,Ie>>16,oe,ve)),be=1;be<=Re;++be){var mt=q[$+be]|X[ie+be]<<16,xt=pe[me+be]|ue[Ne+be]<<16,ht=Me+mt+Ve+xt+524296,lt=ht+2*(mt+Ve)>>3;Ie=lt+Me>>1,Me=(ht=ht+2*(Me+xt)>>3)+mt>>1,h(C[M+2*be-1],255&Ie,Ie>>16,ye,se+(2*be-1)*v),h(C[M+2*be-0],255&Me,Me>>16,ye,se+(2*be-0)*v),D!=null&&(Ie=ht+Ve>>1,Me=lt+xt>>1,h(D[O+2*be-1],255&Ie,Ie>>16,oe,ve+(2*be-1)*v),h(D[O+2*be+0],255&Me,Me>>16,oe,ve+(2*be+0)*v)),Me=mt,Ve=xt}1&_e||(Ie=3*Me+Ve+131074>>2,h(C[M+_e-1],255&Ie,Ie>>16,ye,se+(_e-1)*v),D!=null&&(Ie=3*Ve+Me+131074>>2,h(D[O+_e-1],255&Ie,Ie>>16,oe,ve+(_e-1)*v)))}}function Ce(){vr[Kc]=wy,vr[Zc]=Wp,vr[zp]=by,vr[eu]=Hp,vr[tu]=$p,vr[Nh]=Vp,vr[Rp]=Ny,vr[Sh]=Wp,vr[jh]=Hp,vr[nu]=$p,vr[_h]=Vp}function ze(u){return u&~Sy?0>u?0:255:u>>Gp}function He(u,h){return ze((19077*u>>8)+(26149*h>>8)-14234)}function tt(u,h,v){return ze((19077*u>>8)-(6419*h>>8)-(13320*v>>8)+8708)}function Ze(u,h){return ze((19077*u>>8)+(33050*h>>8)-17685)}function ut(u,h,v,C,M){C[M+0]=He(u,v),C[M+1]=tt(u,h,v),C[M+2]=Ze(u,h)}function Dt(u,h,v,C,M){C[M+0]=Ze(u,h),C[M+1]=tt(u,h,v),C[M+2]=He(u,v)}function qt(u,h,v,C,M){var D=tt(u,h,v);h=D<<3&224|Ze(u,h)>>3,C[M+0]=248&He(u,v)|D>>5,C[M+1]=h}function Zt(u,h,v,C,M){var D=240&Ze(u,h)|15;C[M+0]=240&He(u,v)|tt(u,h,v)>>4,C[M+1]=D}function Nn(u,h,v,C,M){C[M+0]=255,ut(u,h,v,C,M+1)}function cn(u,h,v,C,M){Dt(u,h,v,C,M),C[M+3]=255}function Dr(u,h,v,C,M){ut(u,h,v,C,M),C[M+3]=255}function tr(u,h){return 0>u?0:u>h?h:u}function oi(u,h,v){k[u]=function(C,M,D,O,q,$,X,ie,pe){for(var me=ie+(-2&pe)*v;ie!=me;)h(C[M+0],D[O+0],q[$+0],X,ie),h(C[M+1],D[O+0],q[$+0],X,ie+v),M+=2,++O,++$,ie+=2*v;1&pe&&h(C[M+0],D[O+0],q[$+0],X,ie)}}function $c(u,h,v){return v==0?u==0?h==0?6:5:h==0?4:0:v}function tl(u,h,v,C,M){switch(u>>>30){case 3:Ai(h,v,C,M,0);break;case 2:Vt(h,v,C,M);break;case 1:Dn(h,v,C,M)}}function nl(u,h){var v,C,M=h.M,D=h.Nb,O=u.oc,q=u.pc+40,$=u.oc,X=u.pc+584,ie=u.oc,pe=u.pc+600;for(v=0;16>v;++v)O[q+32*v-1]=129;for(v=0;8>v;++v)$[X+32*v-1]=129,ie[pe+32*v-1]=129;for(0<M?O[q-1-32]=$[X-1-32]=ie[pe-1-32]=129:(i(O,q-32-1,127,21),i($,X-32-1,127,9),i(ie,pe-32-1,127,9)),C=0;C<u.za;++C){var me=h.ya[h.aa+C];if(0<C){for(v=-1;16>v;++v)r(O,q+32*v-4,O,q+32*v+12,4);for(v=-1;8>v;++v)r($,X+32*v-4,$,X+32*v+4,4),r(ie,pe+32*v-4,ie,pe+32*v+4,4)}var ue=u.Gd,Ne=u.Hd+C,ye=me.ad,se=me.Hc;if(0<M&&(r(O,q-32,ue[Ne].y,0,16),r($,X-32,ue[Ne].f,0,8),r(ie,pe-32,ue[Ne].ea,0,8)),me.Za){var oe=O,ve=q-32+16;for(0<M&&(C>=u.za-1?i(oe,ve,ue[Ne].y[15],4):r(oe,ve,ue[Ne+1].y,0,4)),v=0;4>v;v++)oe[ve+128+v]=oe[ve+256+v]=oe[ve+384+v]=oe[ve+0+v];for(v=0;16>v;++v,se<<=2)oe=O,ve=q+Yp[v],Er[me.Ob[v]](oe,ve),tl(se,ye,16*+v,oe,ve)}else if(oe=$c(C,M,me.Ob[0]),es[oe](O,q),se!=0)for(v=0;16>v;++v,se<<=2)tl(se,ye,16*+v,O,q+Yp[v]);for(v=me.Gc,oe=$c(C,M,me.Dd),Pi[oe]($,X),Pi[oe](ie,pe),se=ye,oe=$,ve=X,255&(me=v>>0)&&(170&me?ol(se,256,oe,ve):mr(se,256,oe,ve)),me=ie,se=pe,255&(v>>=8)&&(170&v?ol(ye,320,me,se):mr(ye,320,me,se)),M<u.Ub-1&&(r(ue[Ne].y,0,O,q+480,16),r(ue[Ne].f,0,$,X+224,8),r(ue[Ne].ea,0,ie,pe+224,8)),v=8*D*u.B,ue=u.sa,Ne=u.ta+16*C+16*D*u.R,ye=u.qa,me=u.ra+8*C+v,se=u.Ha,oe=u.Ia+8*C+v,v=0;16>v;++v)r(ue,Ne+v*u.R,O,q+32*v,16);for(v=0;8>v;++v)r(ye,me+v*u.B,$,X+32*v,8),r(se,oe+v*u.B,ie,pe+32*v,8)}}function Ra(u,h,v,C,M,D,O,q,$){var X=[0],ie=[0],pe=0,me=$!=null?$.kd:0,ue=$??new Xo;if(u==null||12>v)return 7;ue.data=u,ue.w=h,ue.ha=v,h=[h],v=[v],ue.gb=[ue.gb];e:{var Ne=h,ye=v,se=ue.gb;if(e(u!=null),e(ye!=null),e(se!=null),se[0]=0,12<=ye[0]&&!n(u,Ne[0],"RIFF")){if(n(u,Ne[0]+8,"WEBP")){se=3;break e}var oe=Se(u,Ne[0]+4);if(12>oe||4294967286<oe){se=3;break e}if(me&&oe>ye[0]-8){se=7;break e}se[0]=oe,Ne[0]+=12,ye[0]-=12}se=0}if(se!=0)return se;for(oe=0<ue.gb[0],v=v[0];;){e:{var ve=u;ye=h,se=v;var _e=X,be=ie,Re=Ne=[0];if((Ie=pe=[pe])[0]=0,8>se[0])se=7;else{if(!n(ve,ye[0],"VP8X")){if(Se(ve,ye[0]+4)!=10){se=3;break e}if(18>se[0]){se=7;break e}var Me=Se(ve,ye[0]+8),Ve=1+we(ve,ye[0]+12);if(2147483648<=Ve*(ve=1+we(ve,ye[0]+15))){se=3;break e}Re!=null&&(Re[0]=Me),_e!=null&&(_e[0]=Ve),be!=null&&(be[0]=ve),ye[0]+=18,se[0]-=18,Ie[0]=1}se=0}}if(pe=pe[0],Ne=Ne[0],se!=0)return se;if(ye=!!(2&Ne),!oe&&pe)return 3;if(D!=null&&(D[0]=!!(16&Ne)),O!=null&&(O[0]=ye),q!=null&&(q[0]=0),O=X[0],Ne=ie[0],pe&&ye&&$==null){se=0;break}if(4>v){se=7;break}if(oe&&pe||!oe&&!pe&&!n(u,h[0],"ALPH")){v=[v],ue.na=[ue.na],ue.P=[ue.P],ue.Sa=[ue.Sa];e:{Me=u,se=h,oe=v;var Ie=ue.gb;_e=ue.na,be=ue.P,Re=ue.Sa,Ve=22,e(Me!=null),e(oe!=null),ve=se[0];var mt=oe[0];for(e(_e!=null),e(Re!=null),_e[0]=null,be[0]=null,Re[0]=0;;){if(se[0]=ve,oe[0]=mt,8>mt){se=7;break e}var xt=Se(Me,ve+4);if(4294967286<xt){se=3;break e}var ht=8+xt+1&-2;if(Ve+=ht,0<Ie&&Ve>Ie){se=3;break e}if(!n(Me,ve,"VP8 ")||!n(Me,ve,"VP8L")){se=0;break e}if(mt[0]<ht){se=7;break e}n(Me,ve,"ALPH")||(_e[0]=Me,be[0]=ve+8,Re[0]=xt),ve+=ht,mt-=ht}}if(v=v[0],ue.na=ue.na[0],ue.P=ue.P[0],ue.Sa=ue.Sa[0],se!=0)break}v=[v],ue.Ja=[ue.Ja],ue.xa=[ue.xa];e:if(Ie=u,se=h,oe=v,_e=ue.gb[0],be=ue.Ja,Re=ue.xa,Me=se[0],ve=!n(Ie,Me,"VP8 "),Ve=!n(Ie,Me,"VP8L"),e(Ie!=null),e(oe!=null),e(be!=null),e(Re!=null),8>oe[0])se=7;else{if(ve||Ve){if(Ie=Se(Ie,Me+4),12<=_e&&Ie>_e-12){se=3;break e}if(me&&Ie>oe[0]-8){se=7;break e}be[0]=Ie,se[0]+=8,oe[0]-=8,Re[0]=Ve}else Re[0]=5<=oe[0]&&Ie[Me+0]==47&&!(Ie[Me+4]>>5),be[0]=oe[0];se=0}if(v=v[0],ue.Ja=ue.Ja[0],ue.xa=ue.xa[0],h=h[0],se!=0)break;if(4294967286<ue.Ja)return 3;if(q==null||ye||(q[0]=ue.xa?2:1),O=[O],Ne=[Ne],ue.xa){if(5>v){se=7;break}q=O,me=Ne,ye=D,u==null||5>v?u=0:5<=v&&u[h+0]==47&&!(u[h+4]>>5)?(oe=[0],Ie=[0],_e=[0],W(be=new L,u,h,v),Ge(be,oe,Ie,_e)?(q!=null&&(q[0]=oe[0]),me!=null&&(me[0]=Ie[0]),ye!=null&&(ye[0]=_e[0]),u=1):u=0):u=0}else{if(10>v){se=7;break}q=Ne,u==null||10>v||!kc(u,h+3,v-3)?u=0:(me=u[h+0]|u[h+1]<<8|u[h+2]<<16,ye=16383&(u[h+7]<<8|u[h+6]),u=16383&(u[h+9]<<8|u[h+8]),1&me||3<(me>>1&7)||!(me>>4&1)||me>>5>=ue.Ja||!ye||!u?u=0:(O&&(O[0]=ye),q&&(q[0]=u),u=1))}if(!u||(O=O[0],Ne=Ne[0],pe&&(X[0]!=O||ie[0]!=Ne)))return 3;$!=null&&($[0]=ue,$.offset=h-$.w,e(4294967286>h-$.w),e($.offset==$.ha-v));break}return se==0||se==7&&pe&&$==null?(D!=null&&(D[0]|=ue.na!=null&&0<ue.na.length),C!=null&&(C[0]=O),M!=null&&(M[0]=Ne),0):se}function rl(u,h,v){var C=h.width,M=h.height,D=0,O=0,q=C,$=M;if(h.Da=u!=null&&0<u.Da,h.Da&&(q=u.cd,$=u.bd,D=u.v,O=u.j,11>v||(D&=-2,O&=-2),0>D||0>O||0>=q||0>=$||D+q>C||O+$>M))return 0;if(h.v=D,h.j=O,h.va=D+q,h.o=O+$,h.U=q,h.T=$,h.da=u!=null&&0<u.da,h.da){if(!Ue(q,$,v=[u.ib],D=[u.hb]))return 0;h.ib=v[0],h.hb=D[0]}return h.ob=u!=null&&u.ob,h.Kb=u==null||!u.Sd,h.da&&(h.ob=h.ib<3*C/4&&h.hb<3*M/4,h.Kb=0),1}function il(u){if(u==null)return 2;if(11>u.S){var h=u.f.RGBA;h.fb+=(u.height-1)*h.A,h.A=-h.A}else h=u.f.kb,u=u.height,h.O+=(u-1)*h.fa,h.fa=-h.fa,h.N+=(u-1>>1)*h.Ab,h.Ab=-h.Ab,h.W+=(u-1>>1)*h.Db,h.Db=-h.Db,h.F!=null&&(h.J+=(u-1)*h.lb,h.lb=-h.lb);return 0}function Ba(u,h,v,C){if(C==null||0>=u||0>=h)return 2;if(v!=null){if(v.Da){var M=v.cd,D=v.bd,O=-2&v.v,q=-2&v.j;if(0>O||0>q||0>=M||0>=D||O+M>u||q+D>h)return 2;u=M,h=D}if(v.da){if(!Ue(u,h,M=[v.ib],D=[v.hb]))return 2;u=M[0],h=D[0]}}C.width=u,C.height=h;e:{var $=C.width,X=C.height;if(u=C.S,0>=$||0>=X||!(u>=Kc&&13>u))u=2;else{if(0>=C.Rd&&C.sd==null){O=D=M=h=0;var ie=(q=$*Jp[u])*X;if(11>u||(D=(X+1)/2*(h=($+1)/2),u==12&&(O=(M=$)*X)),(X=s(ie+2*D+O))==null){u=1;break e}C.sd=X,11>u?(($=C.f.RGBA).eb=X,$.fb=0,$.A=q,$.size=ie):(($=C.f.kb).y=X,$.O=0,$.fa=q,$.Fd=ie,$.f=X,$.N=0+ie,$.Ab=h,$.Cd=D,$.ea=X,$.W=0+ie+D,$.Db=h,$.Ed=D,u==12&&($.F=X,$.J=0+ie+2*D),$.Tc=O,$.lb=M)}if(h=1,M=C.S,D=C.width,O=C.height,M>=Kc&&13>M)if(11>M)u=C.f.RGBA,h&=(q=Math.abs(u.A))*(O-1)+D<=u.size,h&=q>=D*Jp[M],h&=u.eb!=null;else{u=C.f.kb,q=(D+1)/2,ie=(O+1)/2,$=Math.abs(u.fa),X=Math.abs(u.Ab);var pe=Math.abs(u.Db),me=Math.abs(u.lb),ue=me*(O-1)+D;h&=$*(O-1)+D<=u.Fd,h&=X*(ie-1)+q<=u.Cd,h=(h&=pe*(ie-1)+q<=u.Ed)&$>=D&X>=q&pe>=q,h&=u.y!=null,h&=u.f!=null,h&=u.ea!=null,M==12&&(h&=me>=D,h&=ue<=u.Tc,h&=u.F!=null)}else h=0;u=h?0:2}}return u!=0||v!=null&&v.fd&&(u=il(C)),u}var mn=64,qa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Ua=24,Wa=32,sl=8,Hn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Fe("Predictor0","PredictorAdd0"),k.Predictor0=function(){return 4278190080},k.Predictor1=function(u){return u},k.Predictor2=function(u,h,v){return h[v+0]},k.Predictor3=function(u,h,v){return h[v+1]},k.Predictor4=function(u,h,v){return h[v-1]},k.Predictor5=function(u,h,v){return Pe(Pe(u,h[v+1]),h[v+0])},k.Predictor6=function(u,h,v){return Pe(u,h[v-1])},k.Predictor7=function(u,h,v){return Pe(u,h[v+0])},k.Predictor8=function(u,h,v){return Pe(h[v-1],h[v+0])},k.Predictor9=function(u,h,v){return Pe(h[v+0],h[v+1])},k.Predictor10=function(u,h,v){return Pe(Pe(u,h[v-1]),Pe(h[v+0],h[v+1]))},k.Predictor11=function(u,h,v){var C=h[v+0];return 0>=it(C>>24&255,u>>24&255,(h=h[v-1])>>24&255)+it(C>>16&255,u>>16&255,h>>16&255)+it(C>>8&255,u>>8&255,h>>8&255)+it(255&C,255&u,255&h)?C:u},k.Predictor12=function(u,h,v){var C=h[v+0];return(We((u>>24&255)+(C>>24&255)-((h=h[v-1])>>24&255))<<24|We((u>>16&255)+(C>>16&255)-(h>>16&255))<<16|We((u>>8&255)+(C>>8&255)-(h>>8&255))<<8|We((255&u)+(255&C)-(255&h)))>>>0},k.Predictor13=function(u,h,v){var C=h[v-1];return(Xe((u=Pe(u,h[v+0]))>>24&255,C>>24&255)<<24|Xe(u>>16&255,C>>16&255)<<16|Xe(u>>8&255,C>>8&255)<<8|Xe(u>>0&255,C>>0&255))>>>0};var wh=k.PredictorAdd0;k.PredictorAdd1=st,Fe("Predictor2","PredictorAdd2"),Fe("Predictor3","PredictorAdd3"),Fe("Predictor4","PredictorAdd4"),Fe("Predictor5","PredictorAdd5"),Fe("Predictor6","PredictorAdd6"),Fe("Predictor7","PredictorAdd7"),Fe("Predictor8","PredictorAdd8"),Fe("Predictor9","PredictorAdd9"),Fe("Predictor10","PredictorAdd10"),Fe("Predictor11","PredictorAdd11"),Fe("Predictor12","PredictorAdd12"),Fe("Predictor13","PredictorAdd13");var al=k.PredictorAdd2;at("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),at("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var Vc,pr=k.ColorIndexInverseTransform,Ha=k.MapARGB,Gc=k.VP8LColorIndexInverseTransformAlpha,Qc=k.MapAlpha,Ji=k.VP8LPredictorsAdd=[];Ji.length=16,(k.VP8LPredictors=[]).length=16,(k.VP8LPredictorsAdd_C=[]).length=16,(k.VP8LPredictors_C=[]).length=16;var $s,$n,In,Xi,ji,_i,$a,Ai,Vt,ol,Dn,mr,Va,Yc,ll,Vs,Gs,Ki,Qs,Ga,Ys,Zi,cl,gr,yr,Ct,Pt,Gt,sn=s(511),Ci=s(2041),ul=s(225),Qa=s(767),Jc=0,bh=Ci,Xc=ul,nr=Qa,xr=sn,Kc=0,Zc=1,zp=2,eu=3,tu=4,Nh=5,Rp=6,Sh=7,jh=8,nu=9,_h=10,ay=[2,3,7],oy=[3,3,11],Bp=[280,256,256,256,40],ly=[0,1,1,1,0],cy=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],uy=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],dy=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],hy=8,Ah=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Ch=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],dl=null,fy=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],py=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],qp=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],my=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],gy=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],yy=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],xy=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],es=[],Er=[],Pi=[],vy=1,Up=2,ts=[],vr=[];xe("UpsampleRgbLinePair",ut,3),xe("UpsampleBgrLinePair",Dt,3),xe("UpsampleRgbaLinePair",Dr,4),xe("UpsampleBgraLinePair",cn,4),xe("UpsampleArgbLinePair",Nn,4),xe("UpsampleRgba4444LinePair",Zt,2),xe("UpsampleRgb565LinePair",qt,2);var wy=k.UpsampleRgbLinePair,by=k.UpsampleBgrLinePair,Wp=k.UpsampleRgbaLinePair,Hp=k.UpsampleBgraLinePair,$p=k.UpsampleArgbLinePair,Vp=k.UpsampleRgba4444LinePair,Ny=k.UpsampleRgb565LinePair,ru=16,iu=1<<ru-1,hl=-227,Ph=482,Gp=6,Sy=(256<<Gp)-1,Qp=0,jy=s(256),_y=s(256),Ay=s(256),Cy=s(256),Py=s(Ph-hl),ky=s(Ph-hl);oi("YuvToRgbRow",ut,3),oi("YuvToBgrRow",Dt,3),oi("YuvToRgbaRow",Dr,4),oi("YuvToBgraRow",cn,4),oi("YuvToArgbRow",Nn,4),oi("YuvToRgba4444Row",Zt,2),oi("YuvToRgb565Row",qt,2);var Yp=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],su=[0,2,8],Ly=[8,7,6,4,4,2,2,2,1,1,1,1],Fy=1;this.WebPDecodeRGBA=function(u,h,v,C,M){var D=Zc,O=new Oa,q=new Pr;O.ba=q,q.S=D,q.width=[q.width],q.height=[q.height];var $=q.width,X=q.height,ie=new wi;if(ie==null||u==null)var pe=2;else e(ie!=null),pe=Ra(u,h,v,ie.width,ie.height,ie.Pd,ie.Qd,ie.format,null);if(pe!=0?$=0:($!=null&&($[0]=ie.width[0]),X!=null&&(X[0]=ie.height[0]),$=1),$){q.width=q.width[0],q.height=q.height[0],C!=null&&(C[0]=q.width),M!=null&&(M[0]=q.height);e:{if(C=new La,(M=new Xo).data=u,M.w=h,M.ha=v,M.kd=1,h=[0],e(M!=null),((u=Ra(M.data,M.w,M.ha,null,null,null,h,null,M))==0||u==7)&&h[0]&&(u=4),(h=u)==0){if(e(O!=null),C.data=M.data,C.w=M.w+M.offset,C.ha=M.ha-M.offset,C.put=ei,C.ac=pn,C.bc=ti,C.ma=O,M.xa){if((u=fr())==null){O=1;break e}if(function(me,ue){var Ne=[0],ye=[0],se=[0];t:for(;;){if(me==null)return 0;if(ue==null)return me.a=2,0;if(me.l=ue,me.a=0,W(me.m,ue.data,ue.w,ue.ha),!Ge(me.m,Ne,ye,se)){me.a=3;break t}if(me.xb=Up,ue.width=Ne[0],ue.height=ye[0],!ii(Ne[0],ye[0],1,me,null))break t;return 1}return e(me.a!=0),0}(u,C)){if(C=(h=Ba(C.width,C.height,O.Oa,O.ba))==0){t:{C=u;n:for(;;){if(C==null){C=0;break t}if(e(C.s.yc!=null),e(C.s.Ya!=null),e(0<C.s.Wb),e((v=C.l)!=null),e((M=v.ma)!=null),C.xb!=0){if(C.ca=M.ba,C.tb=M.tb,e(C.ca!=null),!rl(M.Oa,v,eu)){C.a=2;break n}if(!Bs(C,v.width)||v.da)break n;if((v.da||gt(C.ca.S))&&de(),11>C.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),C.ca.f.kb.F!=null&&de()),C.Pb&&0<C.s.ua&&C.s.vb.X==null&&!Le(C.s.vb,C.s.Wa.Xa)){C.a=1;break n}C.xb=0}if(!Tr(C,C.V,C.Ba,C.c,C.i,v.o,ja))break n;M.Dc=C.Ma,C=1;break t}e(C.a!=0),C=0}C=!C}C&&(h=u.a)}else h=u.a}else{if((u=new th)==null){O=1;break e}if(u.Fa=M.na,u.P=M.P,u.qc=M.Sa,Lc(u,C)){if((h=Ba(C.width,C.height,O.Oa,O.ba))==0){if(u.Aa=0,v=O.Oa,e((M=u)!=null),v!=null){if(0<($=0>($=v.Md)?0:100<$?255:255*$/100)){for(X=ie=0;4>X;++X)12>(pe=M.pb[X]).lc&&(pe.ia=$*Ly[0>pe.lc?0:pe.lc]>>3),ie|=pe.ia;ie&&(alert("todo:VP8InitRandom"),M.ia=1)}M.Ga=v.Id,100<M.Ga?M.Ga=100:0>M.Ga&&(M.Ga=0)}nh(u,C)||(h=u.a)}}else h=u.a}h==0&&O.Oa!=null&&O.Oa.fd&&(h=il(O.ba))}O=h}D=O!=0?null:11>D?q.f.RGBA.eb:q.f.kb.y}else D=null;return D};var Jp=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(k,z){for(var V="",A=0;A<4;A++)V+=String.fromCharCode(k[z++]);return V}function p(k,z){return(k[z+0]<<0|k[z+1]<<8|k[z+2]<<16)>>>0}function m(k,z){return(k[z+0]<<0|k[z+1]<<8|k[z+2]<<16|k[z+3]<<24)>>>0}new l;var g=[0],f=[0],b=[],N=new l,F=t,x=function(k,z){var V={},A=0,_=!1,R=0,B=0;if(V.frames=[],!function(U,Q,K,ee){for(var ce=0;ce<ee;ce++)if(U[Q+ce]!=K.charCodeAt(ce))return!0;return!1}(k,z,"RIFF",4)){var ae,H;for(m(k,z+=4),z+=8;z<k.length;){var Y=d(k,z),W=m(k,z+=4);z+=4;var G=W+(1&W);switch(Y){case"VP8 ":case"VP8L":V.frames[A]===void 0&&(V.frames[A]={}),(L=V.frames[A]).src_off=_?B:z-8,L.src_size=R+W+8,A++,_&&(_=!1,R=0,B=0);break;case"VP8X":(L=V.header={}).feature_flags=k[z];var te=z+4;L.canvas_width=1+p(k,te),te+=3,L.canvas_height=1+p(k,te),te+=3;break;case"ALPH":_=!0,R=G+8,B=z-8;break;case"ANIM":(L=V.header).bgcolor=m(k,z),te=z+4,L.loop_count=(ae=k)[(H=te)+0]<<0|ae[H+1]<<8,te+=2;break;case"ANMF":var le,L;(L=V.frames[A]={}).offset_x=2*p(k,z),z+=3,L.offset_y=2*p(k,z),z+=3,L.width=1+p(k,z),z+=3,L.height=1+p(k,z),z+=3,L.duration=p(k,z),z+=3,le=k[z++],L.dispose=1&le,L.blend=le>>1&1}Y!="ANMF"&&(z+=G)}return V}}(F,0);x.response=F,x.rgbaoutput=!0,x.dataurl=!1;var w=x.header?x.header:null,j=x.frames?x.frames:null;if(w){w.loop_counter=w.loop_count,g=[w.canvas_height],f=[w.canvas_width];for(var S=0;S<j.length&&j[S].blend!=0;S++);}var P=j[0],E=N.WebPDecodeRGBA(F,P.src_off,P.src_size,f,g);P.rgba=E,P.imgwidth=f[0],P.imgheight=g[0];for(var T=0;T<f[0]*g[0]*4;T++)b[T]=E[T];return this.width=f,this.height=g,this.data=b,this}(function(t){var e=function(){return typeof L0=="function"},n=function(g,f,b,N){var F=4,x=a;switch(N){case t.image_compression.FAST:F=1,x=s;break;case t.image_compression.MEDIUM:F=6,x=o;break;case t.image_compression.SLOW:F=9,x=l}g=r(g,f,b,x);var w=L0(g,{level:F});return t.__addimage__.arrayBufferToBinaryString(w)},r=function(g,f,b,N){for(var F,x,w,j=g.length/f,S=new Uint8Array(g.length+j),P=p(),E=0;E<j;E+=1){if(w=E*f,F=g.subarray(w,w+f),N)S.set(N(F,b,x),w+E);else{for(var T,k=P.length,z=[];T<k;T+=1)z[T]=P[T](F,b,x);var V=m(z.concat());S.set(z[V],w+E)}x=F}return S},i=function(g){var f=Array.apply([],g);return f.unshift(0),f},s=function(g,f){var b,N=[],F=g.length;N[0]=1;for(var x=0;x<F;x+=1)b=g[x-f]||0,N[x+1]=g[x]-b+256&255;return N},a=function(g,f,b){var N,F=[],x=g.length;F[0]=2;for(var w=0;w<x;w+=1)N=b&&b[w]||0,F[w+1]=g[w]-N+256&255;return F},o=function(g,f,b){var N,F,x=[],w=g.length;x[0]=3;for(var j=0;j<w;j+=1)N=g[j-f]||0,F=b&&b[j]||0,x[j+1]=g[j]+256-(N+F>>>1)&255;return x},l=function(g,f,b){var N,F,x,w,j=[],S=g.length;j[0]=4;for(var P=0;P<S;P+=1)N=g[P-f]||0,F=b&&b[P]||0,x=b&&b[P-f]||0,w=d(N,F,x),j[P+1]=g[P]-w+256&255;return j},d=function(g,f,b){if(g===f&&f===b)return g;var N=Math.abs(f-b),F=Math.abs(g-b),x=Math.abs(g+f-b-b);return N<=F&&N<=x?g:F<=x?f:b},p=function(){return[i,s,a,o,l]},m=function(g){var f=g.map(function(b){return b.reduce(function(N,F){return N+Math.abs(F)},0)});return f.indexOf(Math.min.apply(null,f))};t.processPNG=function(g,f,b,N){var F,x,w,j,S,P,E,T,k,z,V,A,_,R,B,ae=this.decode.FLATE_DECODE,H="";if(this.__addimage__.isArrayBuffer(g)&&(g=new Uint8Array(g)),this.__addimage__.isArrayBufferView(g)){if(g=(w=new ww(g)).imgData,x=w.bits,F=w.colorSpace,S=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){k=(T=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,V=new Uint8Array(k*w.colors),z=new Uint8Array(k);var Y,W=w.pixelBitlength-w.bits;for(R=0,B=0;R<k;R++){for(_=T[R],Y=0;Y<W;)V[B++]=_>>>Y&255,Y+=w.bits;z[R]=_>>>Y&255}}if(w.bits===16){k=(T=new Uint32Array(w.decodePixels().buffer)).length,V=new Uint8Array(k*(32/w.pixelBitlength)*w.colors),z=new Uint8Array(k*(32/w.pixelBitlength)),A=w.colors>1,R=0,B=0;for(var G=0;R<k;)_=T[R++],V[B++]=_>>>0&255,A&&(V[B++]=_>>>16&255,_=T[R++],V[B++]=_>>>0&255),z[G++]=_>>>16&255;x=8}N!==t.image_compression.NONE&&e()?(g=n(V,w.width*w.colors,w.colors,N),E=n(z,w.width,1,N)):(g=V,E=z,ae=void 0)}if(w.colorType===3&&(F=this.color_spaces.INDEXED,P=w.palette,w.transparency.indexed)){var te=w.transparency.indexed,le=0;for(R=0,k=te.length;R<k;++R)le+=te[R];if((le/=255)===k-1&&te.indexOf(0)!==-1)j=[te.indexOf(0)];else if(le!==k){for(T=w.decodePixels(),z=new Uint8Array(T.length),R=0,k=T.length;R<k;R++)z[R]=te[T[R]];E=n(z,w.width,1)}}var L=function(U){var Q;switch(U){case t.image_compression.FAST:Q=11;break;case t.image_compression.MEDIUM:Q=13;break;case t.image_compression.SLOW:Q=14;break;default:Q=12}return Q}(N);return ae===this.decode.FLATE_DECODE&&(H="/Predictor "+L+" "),H+="/Colors "+S+" /BitsPerComponent "+x+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),(E&&this.__addimage__.isArrayBuffer(E)||this.__addimage__.isArrayBufferView(E))&&(E=this.__addimage__.arrayBufferToBinaryString(E)),{alias:b,data:g,index:f,filter:ae,decodeParameters:H,transparency:j,palette:P,sMask:E,predictor:L,width:w.width,height:w.height,bitsPerComponent:x,colorSpace:F}}}})($e.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new bw(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var d={data:l,width:a,height:o},p=new bf(100).encode(d,100);return t.processJPEG.call(this,p,n,r,i)},t.processGIF87A=t.processGIF89A}($e.API),Br.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Br.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){At.log("bit decode error:"+n)}},Br.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}n!==0&&(this.pos+=4-n)}},Br.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,o=s>>4,l=15&s,d=this.palette[o];if(this.data[a]=d.blue,this.data[a+1]=d.green,this.data[a+2]=d.red,this.data[a+3]=255,2*i+1>=this.width)break;d=this.palette[l],this.data[a+4]=d.blue,this.data[a+4+1]=d.green,this.data[a+4+2]=d.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Br.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Br.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,d=s>>15?255:0,p=r*this.width*4+4*i;this.data[p]=l,this.data[p+1]=o,this.data[p+2]=a,this.data[p+3]=d}this.pos+=t}},Br.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&n)/n*255|0,d=(a>>11)/e*255|0,p=i*this.width*4+4*s;this.data[p]=d,this.data[p+1]=l,this.data[p+2]=o,this.data[p+3]=255}this.pos+=t}},Br.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},Br.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=a}},Br.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new Br(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},d=new bf(100).encode(l,100);return t.processJPEG.call(this,d,n,r,i)}}($e.API),Um.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new Um(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},d=new bf(100).encode(l,100);return t.processJPEG.call(this,d,n,r,i)}}($e.API),$e.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,d=0;d<i;d+=4){var p=r[d],m=r[d+1],g=r[d+2],f=r[d+3];s[o++]=p,s[o++]=m,s[o++]=g,a[l++]=f}var b=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:b,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},$e.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},to=$e.API,Eu=to.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,d=e.kerning?e.kerning:i.metadata.Unicode.kerning,p=d.fof?d.fof:1,m=e.doKerning!==!1,g=0,f=t.length,b=0,N=o[0]||l,F=[];for(n=0;n<f;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?F.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(g=m&&wt(d[r])==="object"&&!isNaN(parseInt(d[r][b],10))?d[r][b]/p:0,F.push((o[r]||N)/l+g)),b=r;return F},zm=to.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return to.processArabic&&(t=to.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Eu.apply(this,arguments).reduce(function(s,a){return s+a},0)},Rm=function(t,e,n,r){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<n;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>r&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},Bm=function(t,e,n){n||(n={});var r,i,s,a,o,l,d,p=[],m=[p],g=n.textIndent||0,f=0,b=0,N=t.split(" "),F=Eu.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?N[0].length+2:n.lineIndent||0){var x=Array(l).join(" "),w=[];N.map(function(S){(S=S.split(/\s*\n/)).length>1?w=w.concat(S.map(function(P,E){return(E&&P.length?`
`:"")+P})):w.push(S[0])}),N=w,l=zm.apply(this,[x,n])}for(s=0,a=N.length;s<a;s++){var j=0;if(r=N[s],l&&r[0]==`
`&&(r=r.substr(1),j=1),g+f+(b=(i=Eu.apply(this,[r,n])).reduce(function(S,P){return S+P},0))>e||j){if(b>e){for(o=Rm.apply(this,[r,i,e-(g+f),e]),p.push(o.shift()),p=[o.pop()];o.length;)m.push([o.shift()]);b=i.slice(r.length-(p[0]?p[0].length:0)).reduce(function(S,P){return S+P},0)}else p=[r];m.push(p),g=b+l,f=F}else p.push(r),g+=f+b,f=F}return d=l?function(S,P){return(P?x:"")+S.join(" ")}:function(S){return S.join(" ")},m.map(d)},to.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var m=this.internal.getFont(p.fontName,p.fontStyle);return m.metadata.Unicode?{widths:m.metadata.Unicode.widths||{0:1},kerning:m.metadata.Unicode.kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var o,l,d=[];for(o=0,l=r.length;o<l;o++)d=d.concat(Bm.apply(this,[r[o],a,s]));return d},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(m){return"0x"+parseInt(m,10).toString(16)},a=t.__fontmetrics__.compress=function(m){var g,f,b,N,F=["{"];for(var x in m){if(g=m[x],isNaN(parseInt(x,10))?f="'"+x+"'":(x=parseInt(x,10),f=(f=s(x).slice(2)).slice(0,-1)+r[f.slice(-1)]),typeof g=="number")g<0?(b=s(g).slice(3),N="-"):(b=s(g).slice(2),N=""),b=N+b.slice(0,-1)+r[b.slice(-1)];else{if(wt(g)!=="object")throw new Error("Don't know what to do with value type "+wt(g)+".");b=a(g)}F.push(f+b)}return F.push("}"),F.join("")},o=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,f,b,N,F={},x=1,w=F,j=[],S="",P="",E=m.length-1,T=1;T<E;T+=1)(N=m[T])=="'"?g?(b=g.join(""),g=void 0):g=[]:g?g.push(N):N=="{"?(j.push([w,b]),w={},b=void 0):N=="}"?((f=j.pop())[0][f[1]]=w,b=void 0,w=f[0]):N=="-"?x=-1:b===void 0?n.hasOwnProperty(N)?(S+=n[N],b=parseInt(S,16)*x,x=1,S=""):S+=N:n.hasOwnProperty(N)?(P+=n[N],w[b]=parseInt(P,16)*x,x=1,b=void 0,P=""):P+=N;return F},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},p={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var g=m.font,f=p.Unicode[g.postScriptName];f&&(g.metadata.Unicode={},g.metadata.Unicode.widths=f.widths,g.metadata.Unicode.kerning=f.kerning);var b=d.Unicode[g.postScriptName];b&&(g.metadata.Unicode.encoding=b,g.encoding=b.codePages[0])}])}($e.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(Ul(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])}($e),function(t){function e(){return(Qe.canvg?Promise.resolve(Qe.canvg):_0(()=>import("./index.es-Bh0MD31Y.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}$e.API.addSvgAsImage=function(n,r,i,s,a,o,l,d){if(isNaN(r)||isNaN(i))throw At.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw At.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=s,p.height=a;var m=p.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,p.width,p.height);var g={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return e().then(function(b){return b.fromString(m,n,g)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(g)}).then(function(){f.addImage(p.toDataURL("image/jpeg",1),r,i,s,a,l,d)})}}(),$e.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},$e.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],d=0,p=0,m=0;function g(b,N){var F,x=!1;for(F=0;F<b.length;F+=1)b[F]===N&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=o.length;for(m=0;m<f;m+=1)n[o[m]].value=n[o[m]].defaultValue,n[o[m]].explicitSet=!1}if(wt(t)==="object"){for(i in t)if(s=t[i],g(o,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&g(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(d=0;d<s.length;d+=1)if(r=!0,s[d].length===1&&typeof s[d][0]=="number")l.push(String(s[d]-1));else if(s[d].length>1){for(p=0;p<s[d].length;p+=1)typeof s[d][p]!="number"&&(r=!1);r===!0&&l.push([s[d][0]-1,s[d][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,N=[];for(b in n)n[b].explicitSet===!0&&(n[b].type==="name"?N.push("/"+b+" /"+n[b].value):N.push("/"+b+" "+n[b].value));N.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+N.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}($e.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,d=["","0","00","000","0000"],p=[""],m=0,g=s.length;m<g;++m){if(o=a.metadata.characterToGlyph(s.charCodeAt(m)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(m),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return p.join("");o=o.toString(16),p.push(d[4-o.length],o)}return p.join("")},r=function(s){var a,o,l,d,p,m,g;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],m=0,g=(o=Object.keys(s).sort(function(f,b){return f-b})).length;m<g;m++)a=o[m],l.length>=100&&(p+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(d=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+d+">"));return l.length&&(p+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,d=a.newObject,p=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var m=o.metadata.Unicode.widths,g=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),f="",b=0;b<g.length;b++)f+=String.fromCharCode(g[b]);var N=d();p({data:f,addLength1:!0,objectId:N}),l("endobj");var F=d();p({data:r(o.metadata.toUnicode),addLength1:!0,objectId:F}),l("endobj");var x=d();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+co(o.fontName)),l("/FontFile2 "+N+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var w=d();l("<<"),l("/Type /Font"),l("/BaseFont /"+co(o.fontName)),l("/FontDescriptor "+x+" 0 R"),l("/W "+t.API.PDFObject.convert(m)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=d(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+F+" 0 R"),l("/BaseFont /"+co(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,d=a.newObject,p=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var m=o.metadata.rawData,g="",f=0;f<m.length;f++)g+=String.fromCharCode(m[f]);var b=d();p({data:g,addLength1:!0,objectId:b}),l("endobj");var N=d();p({data:r(o.metadata.toUnicode),addLength1:!0,objectId:N}),l("endobj");var F=d();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+b+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+co(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=d();for(var x=0;x<o.metadata.hmtx.widths.length;x++)o.metadata.hmtx.widths[x]=parseInt(o.metadata.hmtx.widths[x]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+N+" 0 R/BaseFont/"+co(o.fontName)+"/FontDescriptor "+F+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,d=s.y,p=s.options||{},m=s.mutex||{},g=m.pdfEscape,f=m.activeFontKey,b=m.fonts,N=f,F="",x=0,w="",j=b[N].encoding;if(b[N].encoding!=="Identity-H")return{text:o,x:l,y:d,options:p,mutex:m};for(w=o,N=f,Array.isArray(o)&&(w=o[0]),x=0;x<w.length;x+=1)b[N].metadata.hasOwnProperty("cmap")&&(a=b[N].metadata.cmap.unicode.codeMap[w[x].charCodeAt(0)]),a||w[x].charCodeAt(0)<256&&b[N].metadata.hasOwnProperty("Unicode")?F+=w[x]:F+="";var S="";return parseInt(N.slice(1))<14||j==="WinAnsiEncoding"?S=g(F,N).split("").map(function(P){return P.charCodeAt(0).toString(16)}).join(""):j==="Identity-H"&&(S=n(F,b[N])),m.isHex=!0,{text:S,x:l,y:d,options:p,mutex:m}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var d=0;for(d=0;d<a.length;d+=1)Array.isArray(a[d])&&a[d].length===3?o.push([i(Object.assign({},l,{text:a[d][0]})).text,a[d][1],a[d][2]]):o.push(i(Object.assign({},l,{text:a[d]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}($e),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}($e.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,a,o,l,d,p,m=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},N={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},F=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,j=0;this.__bidiEngine__={};var S=function(A){var _=A.charCodeAt(),R=_>>8,B=N[R];return B!==void 0?m[256*B+(255&_)]:R===252||R===253?"AL":x.test(R)?"L":R===8?"R":"N"},P=function(A){for(var _,R=0;R<A.length;R++){if((_=S(A.charAt(R)))==="L")return!1;if(_==="R")return!0}return!1},E=function(A,_,R,B){var ae,H,Y,W,G=_[B];switch(G){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(G="AN");break;case"AL":w=!0,G="R";break;case"WS":G="N";break;case"CS":B<1||B+1>=_.length||(ae=R[B-1])!=="EN"&&ae!=="AN"||(H=_[B+1])!=="EN"&&H!=="AN"?G="N":w&&(H="AN"),G=H===ae?H:"N";break;case"ES":G=(ae=B>0?R[B-1]:"B")==="EN"&&B+1<_.length&&_[B+1]==="EN"?"EN":"N";break;case"ET":if(B>0&&R[B-1]==="EN"){G="EN";break}if(w){G="N";break}for(Y=B+1,W=_.length;Y<W&&_[Y]==="ET";)Y++;G=Y<W&&_[Y]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(W=_.length,Y=B+1;Y<W&&_[Y]==="NSM";)Y++;if(Y<W){var te=A[B],le=te>=1425&&te<=2303||te===64286;if(ae=_[Y],le&&(ae==="R"||ae==="AL")){G="R";break}}}G=B<1||(ae=_[B-1])==="B"?"N":R[B-1];break;case"B":w=!1,i=!0,G=j;break;case"S":s=!0,G="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":G="N"}return G},T=function(A,_,R){var B=A.split("");return R&&k(B,R,{hiLevel:j}),B.reverse(),_&&_.reverse(),B.join("")},k=function(A,_,R){var B,ae,H,Y,W,G=-1,te=A.length,le=0,L=[],U=j?f:g,Q=[];for(w=!1,i=!1,s=!1,ae=0;ae<te;ae++)Q[ae]=S(A[ae]);for(H=0;H<te;H++){if(W=le,L[H]=E(A,Q,L,H),B=240&(le=U[W][b[L[H]]]),le&=15,_[H]=Y=U[le][5],B>0)if(B===16){for(ae=G;ae<H;ae++)_[ae]=1;G=-1}else G=-1;if(U[le][6])G===-1&&(G=H);else if(G>-1){for(ae=G;ae<H;ae++)_[ae]=Y;G=-1}Q[H]==="B"&&(_[H]=0),R.hiLevel|=Y}s&&function(K,ee,ce){for(var he=0;he<ce;he++)if(K[he]==="S"){ee[he]=j;for(var fe=he-1;fe>=0&&K[fe]==="WS";fe--)ee[fe]=j}}(Q,_,te)},z=function(A,_,R,B,ae){if(!(ae.hiLevel<A)){if(A===1&&j===1&&!i)return _.reverse(),void(R&&R.reverse());for(var H,Y,W,G,te=_.length,le=0;le<te;){if(B[le]>=A){for(W=le+1;W<te&&B[W]>=A;)W++;for(G=le,Y=W-1;G<Y;G++,Y--)H=_[G],_[G]=_[Y],_[Y]=H,R&&(H=R[G],R[G]=R[Y],R[Y]=H);le=W}le++}}},V=function(A,_,R){var B=A.split(""),ae={hiLevel:j};return R||(R=[]),k(B,R,ae),function(H,Y,W){if(W.hiLevel!==0&&p)for(var G,te=0;te<H.length;te++)Y[te]===1&&(G=F.indexOf(H[te]))>=0&&(H[te]=F[G+1])}(B,R,ae),z(2,B,_,R,ae),z(1,B,_,R,ae),B.join("")};return this.__bidiEngine__.doBidiReorder=function(A,_,R){if(function(ae,H){if(H)for(var Y=0;Y<ae.length;Y++)H[Y]=Y;o===void 0&&(o=P(ae)),d===void 0&&(d=P(ae))}(A,_),a||!l||d)if(a&&l&&o^d)j=o?1:0,A=T(A,_,R);else if(!a&&l&&d)j=o?1:0,A=V(A,_,R),A=T(A,_);else if(!a||o||l||d){if(a&&!l&&o^d)A=T(A,_),o?(j=0,A=V(A,_,R)):(j=1,A=V(A,_,R),A=T(A,_));else if(a&&o&&!l&&d)j=1,A=V(A,_,R),A=T(A,_);else if(!a&&!l&&o^d){var B=p;o?(j=1,A=V(A,_,R),j=0,p=!1,A=V(A,_,R),p=B):(j=0,A=V(A,_,R),A=T(A,_),j=1,p=!1,A=V(A,_,R),p=B,A=T(A,_))}}else j=0,A=V(A,_,R);else j=o?1:0,A=V(A,_,R);return A},this.__bidiEngine__.setOptions=function(A){A&&(a=A.isInputVisual,l=A.isOutputVisual,o=A.isInputRtl,d=A.isOutputRtl,p=A.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),a=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([n.doBidiReorder(i[o])]);r.text=a}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}($e),$e.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Is(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Ew(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new Nw(this.contents),this.head=new jw(this),this.name=new kw(this),this.cmap=new $5(this),this.toUnicode={},this.hhea=new _w(this),this.maxp=new Lw(this),this.hmtx=new Fw(this),this.post=new Cw(this),this.os2=new Aw(this),this.loca=new Dw(this),this.glyf=new Tw(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,d;for(d=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return a*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var Kr,Is=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,a,o,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),Nw=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,a,o,l,d,p,m,g,f,b,N;for(N in f=Object.keys(n).length,l=Math.log(2),m=16*Math.floor(Math.log(f)/l),a=Math.floor(m/l),p=16*f-m,(i=new Is).writeInt(this.scalarType),i.writeShort(f),i.writeShort(m),i.writeShort(a),i.writeShort(p),s=16*f,d=i.pos+s,o=null,b=[],n)for(g=n[N],i.writeString(N),i.writeInt(t(g)),i.writeInt(d),i.writeInt(g.length),b=b.concat(g),N==="head"&&(o=d),d+=g.length;d%4;)b.push(0),d++;return i.write(b),r=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,a;for(n=V5.call(n);n.length%4;)n.push(0);for(s=new Is(n),i=0,r=0,a=n.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),Sw={}.hasOwnProperty,vi=function(t,e){for(var n in e)Sw.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Kr=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var jw=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return vi(e,Kr),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new Is).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),Wm=function(){function t(e,n){var r,i,s,a,o,l,d,p,m,g,f,b,N,F,x,w,j;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(f=e.readUInt16(),g=f/2,e.pos+=6,s=function(){var S,P;for(P=[],l=S=0;0<=g?S<g:S>g;l=0<=g?++S:--S)P.push(e.readUInt16());return P}(),e.pos+=2,N=function(){var S,P;for(P=[],l=S=0;0<=g?S<g:S>g;l=0<=g?++S:--S)P.push(e.readUInt16());return P}(),d=function(){var S,P;for(P=[],l=S=0;0<=g?S<g:S>g;l=0<=g?++S:--S)P.push(e.readUInt16());return P}(),p=function(){var S,P;for(P=[],l=S=0;0<=g?S<g:S>g;l=0<=g?++S:--S)P.push(e.readUInt16());return P}(),i=(this.length-e.pos+this.offset)/2,o=function(){var S,P;for(P=[],l=S=0;0<=i?S<i:S>i;l=0<=i?++S:--S)P.push(e.readUInt16());return P}(),l=x=0,j=s.length;x<j;l=++x)for(F=s[l],r=w=b=N[l];b<=F?w<=F:w>=F;r=b<=F?++w:--w)p[l]===0?a=r+d[l]:(a=o[p[l]/2+(r-b)-(g-l)]||0)!==0&&(a+=d[l]),this.codeMap[r]=65535&a}e.pos=m}return t.encode=function(e,n){var r,i,s,a,o,l,d,p,m,g,f,b,N,F,x,w,j,S,P,E,T,k,z,V,A,_,R,B,ae,H,Y,W,G,te,le,L,U,Q,K,ee,ce,he,fe,Ae,ge,we;switch(B=new Is,a=Object.keys(e).sort(function(Se,Le){return Se-Le}),n){case"macroman":for(N=0,F=function(){var Se=[];for(b=0;b<256;++b)Se.push(0);return Se}(),w={0:0},s={},ae=0,G=a.length;ae<G;ae++)w[fe=e[i=a[ae]]]==null&&(w[fe]=++N),s[i]={old:e[i],new:w[e[i]]},F[i]=w[e[i]];return B.writeUInt16(1),B.writeUInt16(0),B.writeUInt32(12),B.writeUInt16(0),B.writeUInt16(262),B.writeUInt16(0),B.write(F),{charMap:s,subtable:B.data,maxGlyphID:N+1};case"unicode":for(_=[],m=[],j=0,w={},r={},x=d=null,H=0,te=a.length;H<te;H++)w[P=e[i=a[H]]]==null&&(w[P]=++j),r[i]={old:P,new:w[P]},o=w[P]-i,x!=null&&o===d||(x&&m.push(x),_.push(i),d=o),x=i;for(x&&m.push(x),m.push(65535),_.push(65535),V=2*(z=_.length),k=2*Math.pow(Math.log(z)/Math.LN2,2),g=Math.log(k/2)/Math.LN2,T=2*z-k,l=[],E=[],f=[],b=Y=0,le=_.length;Y<le;b=++Y){if(A=_[b],p=m[b],A===65535){l.push(0),E.push(0);break}if(A-(R=r[A].new)>=32768)for(l.push(0),E.push(2*(f.length+z-b)),i=W=A;A<=p?W<=p:W>=p;i=A<=p?++W:--W)f.push(r[i].new);else l.push(R-A),E.push(0)}for(B.writeUInt16(3),B.writeUInt16(1),B.writeUInt32(12),B.writeUInt16(4),B.writeUInt16(16+8*z+2*f.length),B.writeUInt16(0),B.writeUInt16(V),B.writeUInt16(k),B.writeUInt16(g),B.writeUInt16(T),ce=0,L=m.length;ce<L;ce++)i=m[ce],B.writeUInt16(i);for(B.writeUInt16(0),he=0,U=_.length;he<U;he++)i=_[he],B.writeUInt16(i);for(Ae=0,Q=l.length;Ae<Q;Ae++)o=l[Ae],B.writeUInt16(o);for(ge=0,K=E.length;ge<K;ge++)S=E[ge],B.writeUInt16(S);for(we=0,ee=f.length;we<ee;we++)N=f[we],B.writeUInt16(N);return{charMap:r,subtable:B.data,maxGlyphID:j+1}}},t}(),$5=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return vi(e,Kr),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new Wm(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=Wm.encode(n,r),(s=new Is).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),_w=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return vi(e,Kr),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),Aw=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return vi(e,Kr),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),Cw=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return vi(e,Kr),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var a;for(i=n.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var o,l,d;for(d=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)d.push(n.readUInt32());return d}).call(this)}},e}(),Pw=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},kw=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return vi(e,Kr),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,a,o,l,d,p,m,g,f;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(d={},a=m=0,g=i.length;m<g;a=++m)s=i[a],n.pos=s.offset,p=n.readString(s.length),o=new Pw(p,s),d[f=s.nameID]==null&&(d[f]=[]),d[s.nameID].push(o);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e}(),Lw=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return vi(e,Kr),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),Fw=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return vi(e,Kr),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,a,o,l,d;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,m;for(m=[],r=p=0;0<=s?p<s:p>s;r=0<=s?++p:--p)m.push(n.readInt16());return m}(),this.widths=(function(){var p,m,g,f;for(f=[],p=0,m=(g=this.metrics).length;p<m;p++)a=g[p],f.push(a.advance);return f}).call(this),i=this.widths[this.widths.length-1],d=[],r=o=0;0<=s?o<s:o>s;r=0<=s?++o:--o)d.push(this.widths.push(i));return d},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),V5=[].slice,Tw=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return vi(e,Kr),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,a,o,l,d,p,m,g;return n in this.cache?this.cache[n]:(a=this.file.loca,r=this.file.contents,i=a.indexOf(n),(s=a.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,o=(l=new Is(r.read(s))).readShort(),p=l.readShort(),g=l.readShort(),d=l.readShort(),m=l.readShort(),this.cache[n]=o===-1?new Iw(l,p,g,d,m):new Mw(l,o,p,g,d,m),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,a,o,l,d;for(o=[],a=[],l=0,d=r.length;l<d;l++)s=n[r[l]],a.push(o.length),s&&(o=o.concat(s.encode(i)));return a.push(o.length),{table:o,offsets:a}},e}(),Mw=function(){function t(e,n,r,i,s,a){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Iw=function(){function t(e,n,r,i,s){var a,o;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Is(V5.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),Dw=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return vi(e,Kr),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*n.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(n.readUInt32());return a}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,o=0;o<i.length;++o)if(i[o]=s,a<r.length&&r[a]==o){++a,i[o]=s;var l=this.offsets[o],d=this.offsets[o+1]-l;d>0&&(s+=d)}for(var p=new Array(4*i.length),m=0;m<i.length;++m)p[4*m+3]=255&i[m],p[4*m+2]=(65280&i[m])>>8,p[4*m+1]=(16711680&i[m])>>16,p[4*m]=(4278190080&i[m])>>24;return p},e}(),Ew=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,a,o,l,d,p,m,g,f,b,N,F,x;for(i in r=$5.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),f={0:0},x=r.charMap)f[(l=x[i]).old]=l.new;for(b in g=r.maxGlyphID,a)b in f||(f[b]=g++);return p=function(w){var j,S;for(j in S={},w)S[w[j]]=j;return S}(f),m=Object.keys(p).sort(function(w,j){return w-j}),N=function(){var w,j,S;for(S=[],w=0,j=m.length;w<j;w++)o=m[w],S.push(p[o]);return S}(),s=this.font.glyf.encode(a,N,f),d=this.font.loca.encode(s.offsets,N),F={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(F["OS/2"]=this.font.os2.raw()),this.font.directory.encode(F)},t}();$e.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,a;if(Array.isArray(n))return"["+function(){var o,l,d;for(d=[],o=0,l=n.length;o<l;o++)r=n[o],d.push(e.convert(r));return d}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)a=n[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+n},e}();const Ow=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:pw,AcroFormAppearance:qe,AcroFormButton:on,AcroFormCheckBox:$l,AcroFormChoiceField:ca,AcroFormComboBox:da,AcroFormEditBox:Wl,AcroFormListBox:ua,AcroFormPasswordField:Vl,AcroFormPushButton:Hl,AcroFormRadioButton:ha,AcroFormTextField:ks,GState:fc,ShadingPattern:ys,TilingPattern:sa,default:$e,jsPDF:$e},Symbol.toStringTag,{value:"Module"}));var zw={exports:{}};const Rw=Wy(Ow);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(t,e){(function(r,i){t.exports=i(function(){try{return Rw}catch{}}())})(typeof globalThis<"u"?globalThis:typeof zh<"u"?zh:typeof window<"u"?window:typeof self<"u"?self:zh,function(n){return function(){var r={172:function(o,l){var d=this&&this.__extends||function(){var g=function(f,b){return g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,F){N.__proto__=F}||function(N,F){for(var x in F)Object.prototype.hasOwnProperty.call(F,x)&&(N[x]=F[x])},g(f,b)};return function(f,b){if(typeof b!="function"&&b!==null)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");g(f,b);function N(){this.constructor=f}f.prototype=b===null?Object.create(b):(N.prototype=b.prototype,new N)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.CellHookData=l.HookData=void 0;var p=function(){function g(f,b,N){this.table=b,this.pageNumber=b.pageNumber,this.pageCount=this.pageNumber,this.settings=b.settings,this.cursor=N,this.doc=f.getDocument()}return g}();l.HookData=p;var m=function(g){d(f,g);function f(b,N,F,x,w,j){var S=g.call(this,b,N,j)||this;return S.cell=F,S.row=x,S.column=w,S.section=x.section,S}return f}(p);l.CellHookData=m},340:function(o,l,d){Object.defineProperty(l,"__esModule",{value:!0});var p=d(4),m=d(136),g=d(744),f=d(776),b=d(664),N=d(972);function F(x){x.API.autoTable=function(){for(var w=[],j=0;j<arguments.length;j++)w[j]=arguments[j];var S;w.length===1?S=w[0]:(console.error("Use of deprecated autoTable initiation"),S=w[2]||{},S.columns=w[0],S.body=w[1]);var P=(0,f.parseInput)(this,S),E=(0,N.createTable)(this,P);return(0,b.drawTable)(this,E),this},x.API.lastAutoTable=!1,x.API.previousAutoTable=!1,x.API.autoTable.previous=!1,x.API.autoTableText=function(w,j,S,P){(0,m.default)(w,j,S,P,this)},x.API.autoTableSetDefaults=function(w){return g.DocHandler.setDefaults(w,this),this},x.autoTableSetDefaults=function(w,j){g.DocHandler.setDefaults(w,j)},x.API.autoTableHtmlToJson=function(w,j){var S;if(j===void 0&&(j=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var P=new g.DocHandler(this),E=(0,p.parseHtml)(P,w,window,j,!1),T=E.head,k=E.body,z=((S=T[0])===null||S===void 0?void 0:S.map(function(V){return V.content}))||[];return{columns:z,rows:k,data:k}},x.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var w=this.lastAutoTable;return w&&w.finalY?w.finalY:0},x.API.autoTableAddPageContent=function(w){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),x.API.autoTable.globalDefaults||(x.API.autoTable.globalDefaults={}),x.API.autoTable.globalDefaults.addPageContent=w,this},x.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}l.default=F},136:function(o,l){Object.defineProperty(l,"__esModule",{value:!0});function d(p,m,g,f,b){f=f||{};var N=1.15,F=b.internal.scaleFactor,x=b.internal.getFontSize()/F,w=b.getLineHeightFactor?b.getLineHeightFactor():N,j=x*w,S=/\r\n|\r|\n/g,P="",E=1;if((f.valign==="middle"||f.valign==="bottom"||f.halign==="center"||f.halign==="right")&&(P=typeof p=="string"?p.split(S):p,E=P.length||1),g+=x*(2-N),f.valign==="middle"?g-=E/2*j:f.valign==="bottom"&&(g-=E*j),f.halign==="center"||f.halign==="right"){var T=x;if(f.halign==="center"&&(T*=.5),P&&E>=1){for(var k=0;k<P.length;k++)b.text(P[k],m-b.getStringUnitWidth(P[k])*T,g),g+=j;return b}m-=b.getStringUnitWidth(p)*T}return f.halign==="justify"?b.text(p,m,g,{maxWidth:f.maxWidth||100,align:"justify"}):b.text(p,m,g),b}l.default=d},420:function(o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.getPageAvailableWidth=l.parseSpacing=l.getFillStyle=l.addTableBorder=l.getStringWidth=void 0;function d(b,N,F){F.applyStyles(N,!0);var x=Array.isArray(b)?b:[b],w=x.map(function(j){return F.getTextWidth(j)}).reduce(function(j,S){return Math.max(j,S)},0);return w}l.getStringWidth=d;function p(b,N,F,x){var w=N.settings.tableLineWidth,j=N.settings.tableLineColor;b.applyStyles({lineWidth:w,lineColor:j});var S=m(w,!1);S&&b.rect(F.x,F.y,N.getWidth(b.pageSize().width),x.y-F.y,S)}l.addTableBorder=p;function m(b,N){var F=b>0,x=N||N===0;return F&&x?"DF":F?"S":x?"F":null}l.getFillStyle=m;function g(b,N){var F,x,w,j;if(b=b||N,Array.isArray(b)){if(b.length>=4)return{top:b[0],right:b[1],bottom:b[2],left:b[3]};if(b.length===3)return{top:b[0],right:b[1],bottom:b[2],left:b[1]};if(b.length===2)return{top:b[0],right:b[1],bottom:b[0],left:b[1]};b.length===1?b=b[0]:b=N}return typeof b=="object"?(typeof b.vertical=="number"&&(b.top=b.vertical,b.bottom=b.vertical),typeof b.horizontal=="number"&&(b.right=b.horizontal,b.left=b.horizontal),{left:(F=b.left)!==null&&F!==void 0?F:N,top:(x=b.top)!==null&&x!==void 0?x:N,right:(w=b.right)!==null&&w!==void 0?w:N,bottom:(j=b.bottom)!==null&&j!==void 0?j:N}):(typeof b!="number"&&(b=N),{top:b,right:b,bottom:b,left:b})}l.parseSpacing=g;function f(b,N){var F=g(N.settings.margin,0);return b.pageSize().width-(F.left+F.right)}l.getPageAvailableWidth=f},796:function(o,l){var d=this&&this.__extends||function(){var f=function(b,N){return f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,x){F.__proto__=x}||function(F,x){for(var w in x)Object.prototype.hasOwnProperty.call(x,w)&&(F[w]=x[w])},f(b,N)};return function(b,N){if(typeof N!="function"&&N!==null)throw new TypeError("Class extends value "+String(N)+" is not a constructor or null");f(b,N);function F(){this.constructor=b}b.prototype=N===null?Object.create(N):(F.prototype=N.prototype,new F)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.getTheme=l.defaultStyles=l.HtmlRowInput=void 0;var p=function(f){d(b,f);function b(N){var F=f.call(this)||this;return F._element=N,F}return b}(Array);l.HtmlRowInput=p;function m(f){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/f,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}l.defaultStyles=m;function g(f){var b={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return b[f]}l.getTheme=g},903:function(o,l,d){Object.defineProperty(l,"__esModule",{value:!0}),l.parseCss=void 0;var p=d(420);function m(F,x,w,j,S){var P={},E=1.3333333333333333,T=f(x,function(G){return S.getComputedStyle(G).backgroundColor});T!=null&&(P.fillColor=T);var k=f(x,function(G){return S.getComputedStyle(G).color});k!=null&&(P.textColor=k);var z=N(j,w);z&&(P.cellPadding=z);var V="borderTopColor",A=E*w,_=j.borderTopWidth;if(j.borderBottomWidth===_&&j.borderRightWidth===_&&j.borderLeftWidth===_){var R=(parseFloat(_)||0)/A;R&&(P.lineWidth=R)}else P.lineWidth={top:(parseFloat(j.borderTopWidth)||0)/A,right:(parseFloat(j.borderRightWidth)||0)/A,bottom:(parseFloat(j.borderBottomWidth)||0)/A,left:(parseFloat(j.borderLeftWidth)||0)/A},P.lineWidth.top||(P.lineWidth.right?V="borderRightColor":P.lineWidth.bottom?V="borderBottomColor":P.lineWidth.left&&(V="borderLeftColor"));var B=f(x,function(G){return S.getComputedStyle(G)[V]});B!=null&&(P.lineColor=B);var ae=["left","right","center","justify"];ae.indexOf(j.textAlign)!==-1&&(P.halign=j.textAlign),ae=["middle","bottom","top"],ae.indexOf(j.verticalAlign)!==-1&&(P.valign=j.verticalAlign);var H=parseInt(j.fontSize||"");isNaN(H)||(P.fontSize=H/E);var Y=g(j);Y&&(P.fontStyle=Y);var W=(j.fontFamily||"").toLowerCase();return F.indexOf(W)!==-1&&(P.font=W),P}l.parseCss=m;function g(F){var x="";return(F.fontWeight==="bold"||F.fontWeight==="bolder"||parseInt(F.fontWeight)>=700)&&(x="bold"),(F.fontStyle==="italic"||F.fontStyle==="oblique")&&(x+="italic"),x}function f(F,x){var w=b(F,x);if(!w)return null;var j=w.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!j||!Array.isArray(j))return null;var S=[parseInt(j[1]),parseInt(j[2]),parseInt(j[3])],P=parseInt(j[4]);return P===0||isNaN(S[0])||isNaN(S[1])||isNaN(S[2])?null:S}function b(F,x){var w=x(F);return w==="rgba(0, 0, 0, 0)"||w==="transparent"||w==="initial"||w==="inherit"?F.parentElement==null?null:b(F.parentElement,x):w}function N(F,x){var w=[F.paddingTop,F.paddingRight,F.paddingBottom,F.paddingLeft],j=96/(72/x),S=(parseInt(F.lineHeight)-parseInt(F.fontSize))/x/2,P=w.map(function(T){return parseInt(T||"0")/j}),E=(0,p.parseSpacing)(P,0);return S>E.top&&(E.top=S),S>E.bottom&&(E.bottom=S),E}},744:function(o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.DocHandler=void 0;var d={},p=function(){function m(g){this.jsPDFDocument=g,this.userStyles={textColor:g.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:g.internal.getFontSize(),fontStyle:g.internal.getFont().fontStyle,font:g.internal.getFont().fontName,lineWidth:g.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:g.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return m.setDefaults=function(g,f){f===void 0&&(f=null),f?f.__autoTableDocumentDefaults=g:d=g},m.unifyColor=function(g){return Array.isArray(g)?g:typeof g=="number"?[g,g,g]:typeof g=="string"?[g]:null},m.prototype.applyStyles=function(g,f){var b,N,F;f===void 0&&(f=!1),g.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(g.fontStyle);var x=this.jsPDFDocument.internal.getFont(),w=x.fontStyle,j=x.fontName;if(g.font&&(j=g.font),g.fontStyle){w=g.fontStyle;var S=this.getFontList()[j];S&&S.indexOf(w)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(S[0]),w=S[0])}if(this.jsPDFDocument.setFont(j,w),g.fontSize&&this.jsPDFDocument.setFontSize(g.fontSize),!f){var P=m.unifyColor(g.fillColor);P&&(b=this.jsPDFDocument).setFillColor.apply(b,P),P=m.unifyColor(g.textColor),P&&(N=this.jsPDFDocument).setTextColor.apply(N,P),P=m.unifyColor(g.lineColor),P&&(F=this.jsPDFDocument).setDrawColor.apply(F,P),typeof g.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(g.lineWidth)}},m.prototype.splitTextToSize=function(g,f,b){return this.jsPDFDocument.splitTextToSize(g,f,b)},m.prototype.rect=function(g,f,b,N,F){return this.jsPDFDocument.rect(g,f,b,N,F)},m.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},m.prototype.getTextWidth=function(g){return this.jsPDFDocument.getTextWidth(g)},m.prototype.getDocument=function(){return this.jsPDFDocument},m.prototype.setPage=function(g){this.jsPDFDocument.setPage(g)},m.prototype.addPage=function(){return this.jsPDFDocument.addPage()},m.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},m.prototype.getGlobalOptions=function(){return d||{}},m.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},m.prototype.pageSize=function(){var g=this.jsPDFDocument.internal.pageSize;return g.width==null&&(g={width:g.getWidth(),height:g.getHeight()}),g},m.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},m.prototype.getLineHeightFactor=function(){var g=this.jsPDFDocument;return g.getLineHeightFactor?g.getLineHeightFactor():1.15},m.prototype.getLineHeight=function(g){return g/this.scaleFactor()*this.getLineHeightFactor()},m.prototype.pageNumber=function(){var g=this.jsPDFDocument.internal.getCurrentPageInfo();return g?g.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},m}();l.DocHandler=p},4:function(o,l,d){Object.defineProperty(l,"__esModule",{value:!0}),l.parseHtml=void 0;var p=d(903),m=d(796);function g(N,F,x,w,j){var S,P;w===void 0&&(w=!1),j===void 0&&(j=!1);var E;typeof F=="string"?E=x.document.querySelector(F):E=F;var T=Object.keys(N.getFontList()),k=N.scaleFactor(),z=[],V=[],A=[];if(!E)return console.error("Html table could not be found with input: ",F),{head:z,body:V,foot:A};for(var _=0;_<E.rows.length;_++){var R=E.rows[_],B=(P=(S=R==null?void 0:R.parentElement)===null||S===void 0?void 0:S.tagName)===null||P===void 0?void 0:P.toLowerCase(),ae=f(T,k,x,R,w,j);ae&&(B==="thead"?z.push(ae):B==="tfoot"?A.push(ae):V.push(ae))}return{head:z,body:V,foot:A}}l.parseHtml=g;function f(N,F,x,w,j,S){for(var P=new m.HtmlRowInput(w),E=0;E<w.cells.length;E++){var T=w.cells[E],k=x.getComputedStyle(T);if(j||k.display!=="none"){var z=void 0;S&&(z=(0,p.parseCss)(N,T,F,k,x)),P.push({rowSpan:T.rowSpan,colSpan:T.colSpan,styles:z,_element:T,content:b(T)})}}var V=x.getComputedStyle(w);if(P.length>0&&(j||V.display!=="none"))return P}function b(N){var F=N.cloneNode(!0);return F.innerHTML=F.innerHTML.replace(/\n/g,"").replace(/ +/g," "),F.innerHTML=F.innerHTML.split(/<br.*?>/).map(function(x){return x.trim()}).join(`
`),F.innerText||F.textContent||""}},776:function(o,l,d){Object.defineProperty(l,"__esModule",{value:!0}),l.parseInput=void 0;var p=d(4),m=d(356),g=d(420),f=d(744),b=d(792);function N(E,T){var k=new f.DocHandler(E),z=k.getDocumentOptions(),V=k.getGlobalOptions();(0,b.default)(k,V,z,T);var A=(0,m.assign)({},V,z,T),_;typeof window<"u"&&(_=window);var R=F(V,z,T),B=x(V,z,T),ae=w(k,A),H=S(k,A,_);return{id:T.tableId,content:H,hooks:B,styles:R,settings:ae}}l.parseInput=N;function F(E,T,k){for(var z={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},V=function(B){if(B==="columnStyles"){var ae=E[B],H=T[B],Y=k[B];z.columnStyles=(0,m.assign)({},ae,H,Y)}else{var W=[E,T,k],G=W.map(function(te){return te[B]||{}});z[B]=(0,m.assign)({},G[0],G[1],G[2])}},A=0,_=Object.keys(z);A<_.length;A++){var R=_[A];V(R)}return z}function x(E,T,k){for(var z=[E,T,k],V={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},A=0,_=z;A<_.length;A++){var R=_[A];R.didParseCell&&V.didParseCell.push(R.didParseCell),R.willDrawCell&&V.willDrawCell.push(R.willDrawCell),R.didDrawCell&&V.didDrawCell.push(R.didDrawCell),R.willDrawPage&&V.willDrawPage.push(R.willDrawPage),R.didDrawPage&&V.didDrawPage.push(R.didDrawPage)}return V}function w(E,T){var k,z,V,A,_,R,B,ae,H,Y,W,G,te=(0,g.parseSpacing)(T.margin,40/E.scaleFactor()),le=(k=j(E,T.startY))!==null&&k!==void 0?k:te.top,L;T.showFoot===!0?L="everyPage":T.showFoot===!1?L="never":L=(z=T.showFoot)!==null&&z!==void 0?z:"everyPage";var U;T.showHead===!0?U="everyPage":T.showHead===!1?U="never":U=(V=T.showHead)!==null&&V!==void 0?V:"everyPage";var Q=(A=T.useCss)!==null&&A!==void 0?A:!1,K=T.theme||(Q?"plain":"striped"),ee=!!T.horizontalPageBreak,ce=(_=T.horizontalPageBreakRepeat)!==null&&_!==void 0?_:null;return{includeHiddenHtml:(R=T.includeHiddenHtml)!==null&&R!==void 0?R:!1,useCss:Q,theme:K,startY:le,margin:te,pageBreak:(B=T.pageBreak)!==null&&B!==void 0?B:"auto",rowPageBreak:(ae=T.rowPageBreak)!==null&&ae!==void 0?ae:"auto",tableWidth:(H=T.tableWidth)!==null&&H!==void 0?H:"auto",showHead:U,showFoot:L,tableLineWidth:(Y=T.tableLineWidth)!==null&&Y!==void 0?Y:0,tableLineColor:(W=T.tableLineColor)!==null&&W!==void 0?W:200,horizontalPageBreak:ee,horizontalPageBreakRepeat:ce,horizontalPageBreakBehaviour:(G=T.horizontalPageBreakBehaviour)!==null&&G!==void 0?G:"afterAllRows"}}function j(E,T){var k=E.getLastAutoTable(),z=E.scaleFactor(),V=E.pageNumber(),A=!1;if(k&&k.startPageNumber){var _=k.startPageNumber+k.pageNumber-1;A=_===V}return typeof T=="number"?T:(T==null||T===!1)&&A&&(k==null?void 0:k.finalY)!=null?k.finalY+20/z:null}function S(E,T,k){var z=T.head||[],V=T.body||[],A=T.foot||[];if(T.html){var _=T.includeHiddenHtml;if(k){var R=(0,p.parseHtml)(E,T.html,k,_,T.useCss)||{};z=R.head||z,V=R.body||z,A=R.foot||z}else console.error("Cannot parse html in non browser environment")}var B=T.columns||P(z,V,A);return{columns:B,head:z,body:V,foot:A}}function P(E,T,k){var z=E[0]||T[0]||k[0]||[],V=[];return Object.keys(z).filter(function(A){return A!=="_element"}).forEach(function(A){var _=1,R;Array.isArray(z)?R=z[parseInt(A)]:R=z[A],typeof R=="object"&&!Array.isArray(R)&&(_=(R==null?void 0:R.colSpan)||1);for(var B=0;B<_;B++){var ae=void 0;Array.isArray(z)?ae=V.length:ae=A+(B>0?"_".concat(B):"");var H={dataKey:ae};V.push(H)}}),V}},792:function(o,l){Object.defineProperty(l,"__esModule",{value:!0});function d(m,g,f,b){for(var N=function(j){j&&typeof j!="object"&&console.error("The options parameter should be of type object, is: "+typeof j),typeof j.extendWidth<"u"&&(j.tableWidth=j.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof j.margins<"u"&&(typeof j.margin>"u"&&(j.margin=j.margins),console.error("Use of deprecated option: margins, use margin instead.")),j.startY&&typeof j.startY!="number"&&(console.error("Invalid value for startY option",j.startY),delete j.startY),!j.didDrawPage&&(j.afterPageContent||j.beforePageContent||j.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),j.didDrawPage=function(A){m.applyStyles(m.userStyles),j.beforePageContent&&j.beforePageContent(A),m.applyStyles(m.userStyles),j.afterPageContent&&j.afterPageContent(A),m.applyStyles(m.userStyles),j.afterPageAdd&&A.pageNumber>1&&A.afterPageAdd(A),m.applyStyles(m.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(A){j[A]&&console.error('The "'.concat(A,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(A){var _=A[0],R=A[1];j[R]&&(console.error("Use of deprecated option ".concat(R,". Use ").concat(_," instead")),j[_]=j[R])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(A){var _=typeof A=="string"?A:A[0],R=typeof A=="string"?A:A[1];typeof j[_]<"u"&&(typeof j.styles[R]>"u"&&(j.styles[R]=j[_]),console.error("Use of deprecated option: "+_+", use the style "+R+" instead."))});for(var S=0,P=["styles","bodyStyles","headStyles","footStyles"];S<P.length;S++){var E=P[S];p(j[E]||{})}for(var T=j.columnStyles||{},k=0,z=Object.keys(T);k<z.length;k++){var V=z[k];p(T[V]||{})}},F=0,x=[g,f,b];F<x.length;F++){var w=x[F];N(w)}}l.default=d;function p(m){m.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),m.minCellHeight||(m.minCellHeight=m.rowHeight)):m.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),m.cellWidth||(m.cellWidth=m.columnWidth))}},260:function(o,l,d){Object.defineProperty(l,"__esModule",{value:!0}),l.Column=l.Cell=l.Row=l.Table=void 0;var p=d(796),m=d(172),g=d(420),f=function(){function x(w,j){this.pageNumber=1,this.pageCount=1,this.id=w.id,this.settings=w.settings,this.styles=w.styles,this.hooks=w.hooks,this.columns=j.columns,this.head=j.head,this.body=j.body,this.foot=j.foot}return x.prototype.getHeadHeight=function(w){return this.head.reduce(function(j,S){return j+S.getMaxCellHeight(w)},0)},x.prototype.getFootHeight=function(w){return this.foot.reduce(function(j,S){return j+S.getMaxCellHeight(w)},0)},x.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},x.prototype.callCellHooks=function(w,j,S,P,E,T){for(var k=0,z=j;k<z.length;k++){var V=z[k],A=new m.CellHookData(w,this,S,P,E,T),_=V(A)===!1;if(S.text=Array.isArray(S.text)?S.text:[S.text],_)return!1}return!0},x.prototype.callEndPageHooks=function(w,j){w.applyStyles(w.userStyles);for(var S=0,P=this.hooks.didDrawPage;S<P.length;S++){var E=P[S];E(new m.HookData(w,this,j))}},x.prototype.callWillDrawPageHooks=function(w,j){for(var S=0,P=this.hooks.willDrawPage;S<P.length;S++){var E=P[S];E(new m.HookData(w,this,j))}},x.prototype.getWidth=function(w){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var j=this.columns.reduce(function(P,E){return P+E.wrappedWidth},0);return j}else{var S=this.settings.margin;return w-S.left-S.right}},x}();l.Table=f;var b=function(){function x(w,j,S,P,E){E===void 0&&(E=!1),this.height=0,this.raw=w,w instanceof p.HtmlRowInput&&(this.raw=w._element,this.element=w._element),this.index=j,this.section=S,this.cells=P,this.spansMultiplePages=E}return x.prototype.getMaxCellHeight=function(w){var j=this;return w.reduce(function(S,P){var E;return Math.max(S,((E=j.cells[P.index])===null||E===void 0?void 0:E.height)||0)},0)},x.prototype.hasRowSpan=function(w){var j=this;return w.filter(function(S){var P=j.cells[S.index];return P?P.rowSpan>1:!1}).length>0},x.prototype.canEntireRowFit=function(w,j){return this.getMaxCellHeight(j)<=w},x.prototype.getMinimumRowHeight=function(w,j){var S=this;return w.reduce(function(P,E){var T=S.cells[E.index];if(!T)return 0;var k=j.getLineHeight(T.styles.fontSize),z=T.padding("vertical"),V=z+k;return V>P?V:P},0)},x}();l.Row=b;var N=function(){function x(w,j,S){var P,E;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=j,this.section=S,this.raw=w;var T=w;w!=null&&typeof w=="object"&&!Array.isArray(w)?(this.rowSpan=w.rowSpan||1,this.colSpan=w.colSpan||1,T=(E=(P=w.content)!==null&&P!==void 0?P:w.title)!==null&&E!==void 0?E:w,w._element&&(this.raw=w._element)):(this.rowSpan=1,this.colSpan=1);var k=T!=null?""+T:"",z=/\r\n|\r|\n/g;this.text=k.split(z)}return x.prototype.getTextPos=function(){var w;if(this.styles.valign==="top")w=this.y+this.padding("top");else if(this.styles.valign==="bottom")w=this.y+this.height-this.padding("bottom");else{var j=this.height-this.padding("vertical");w=this.y+j/2+this.padding("top")}var S;if(this.styles.halign==="right")S=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var P=this.width-this.padding("horizontal");S=this.x+P/2+this.padding("left")}else S=this.x+this.padding("left");return{x:S,y:w}},x.prototype.getContentHeight=function(w,j){j===void 0&&(j=1.15);var S=Array.isArray(this.text)?this.text.length:1,P=this.styles.fontSize/w*j,E=S*P+this.padding("vertical");return Math.max(E,this.styles.minCellHeight)},x.prototype.padding=function(w){var j=(0,g.parseSpacing)(this.styles.cellPadding,0);return w==="vertical"?j.top+j.bottom:w==="horizontal"?j.left+j.right:j[w]},x}();l.Cell=N;var F=function(){function x(w,j,S){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=w,this.raw=j,this.index=S}return x.prototype.getMaxCustomCellWidth=function(w){for(var j=0,S=0,P=w.allRows();S<P.length;S++){var E=P[S],T=E.cells[this.index];T&&typeof T.styles.cellWidth=="number"&&(j=Math.max(j,T.styles.cellWidth))}return j},x}();l.Column=F},356:function(o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.assign=void 0;function d(p,m,g,f,b){if(p==null)throw new TypeError("Cannot convert undefined or null to object");for(var N=Object(p),F=1;F<arguments.length;F++){var x=arguments[F];if(x!=null)for(var w in x)Object.prototype.hasOwnProperty.call(x,w)&&(N[w]=x[w])}return N}l.assign=d},972:function(o,l,d){Object.defineProperty(l,"__esModule",{value:!0}),l.createTable=void 0;var p=d(744),m=d(260),g=d(324),f=d(796),b=d(356);function N(E,T){var k=new p.DocHandler(E),z=F(T,k.scaleFactor()),V=new m.Table(T,z);return(0,g.calculateWidths)(k,V),k.applyStyles(k.userStyles),V}l.createTable=N;function F(E,T){var k=E.content,z=S(k.columns);if(k.head.length===0){var V=w(z,"head");V&&k.head.push(V)}if(k.foot.length===0){var V=w(z,"foot");V&&k.foot.push(V)}var A=E.settings.theme,_=E.styles;return{columns:z,head:x("head",k.head,z,_,A,T),body:x("body",k.body,z,_,A,T),foot:x("foot",k.foot,z,_,A,T)}}function x(E,T,k,z,V,A){var _={},R=T.map(function(B,ae){for(var H=0,Y={},W=0,G=0,te=0,le=k;te<le.length;te++){var L=le[te];if(_[L.index]==null||_[L.index].left===0)if(G===0){var U=void 0;Array.isArray(B)?U=B[L.index-W-H]:U=B[L.dataKey];var Q={};typeof U=="object"&&!Array.isArray(U)&&(Q=(U==null?void 0:U.styles)||{});var K=P(E,L,ae,V,z,A,Q),ee=new m.Cell(U,K,E);Y[L.dataKey]=ee,Y[L.index]=ee,G=ee.colSpan-1,_[L.index]={left:ee.rowSpan-1,times:G}}else G--,W++;else _[L.index].left--,G=_[L.index].times,H++}return new m.Row(B,ae,E,Y)});return R}function w(E,T){var k={};return E.forEach(function(z){if(z.raw!=null){var V=j(T,z.raw);V!=null&&(k[z.dataKey]=V)}}),Object.keys(k).length>0?k:null}function j(E,T){if(E==="head"){if(typeof T=="object")return T.header||T.title||null;if(typeof T=="string"||typeof T=="number")return T}else if(E==="foot"&&typeof T=="object")return T.footer;return null}function S(E){return E.map(function(T,k){var z,V,A;return typeof T=="object"?A=(V=(z=T.dataKey)!==null&&z!==void 0?z:T.key)!==null&&V!==void 0?V:k:A=k,new m.Column(A,T,k)})}function P(E,T,k,z,V,A,_){var R=(0,f.getTheme)(z),B;E==="head"?B=V.headStyles:E==="body"?B=V.bodyStyles:E==="foot"&&(B=V.footStyles);var ae=(0,b.assign)({},R.table,R[E],V.styles,B),H=V.columnStyles[T.dataKey]||V.columnStyles[T.index]||{},Y=E==="body"?H:{},W=E==="body"&&k%2===0?(0,b.assign)({},R.alternateRow,V.alternateRowStyles):{},G=(0,f.defaultStyles)(A),te=(0,b.assign)({},G,ae,W,Y);return(0,b.assign)(te,_)}},664:function(o,l,d){Object.defineProperty(l,"__esModule",{value:!0}),l.addPage=l.drawTable=void 0;var p=d(420),m=d(260),g=d(744),f=d(356),b=d(136),N=d(224);function F(H,Y){var W=Y.settings,G=W.startY,te=W.margin,le={x:te.left,y:G},L=Y.getHeadHeight(Y.columns)+Y.getFootHeight(Y.columns),U=G+te.bottom+L;if(W.pageBreak==="avoid"){var Q=Y.body,K=Q.reduce(function(he,fe){return he+fe.height},0);U+=K}var ee=new g.DocHandler(H);(W.pageBreak==="always"||W.startY!=null&&U>ee.pageSize().height)&&(ae(ee),le.y=te.top),Y.callWillDrawPageHooks(ee,le);var ce=(0,f.assign)({},le);Y.startPageNumber=ee.pageNumber(),W.horizontalPageBreak?x(ee,Y,ce,le):(ee.applyStyles(ee.userStyles),(W.showHead==="firstPage"||W.showHead==="everyPage")&&Y.head.forEach(function(he){return V(ee,Y,he,le,Y.columns)}),ee.applyStyles(ee.userStyles),Y.body.forEach(function(he,fe){var Ae=fe===Y.body.length-1;z(ee,Y,he,Ae,ce,le,Y.columns)}),ee.applyStyles(ee.userStyles),(W.showFoot==="lastPage"||W.showFoot==="everyPage")&&Y.foot.forEach(function(he){return V(ee,Y,he,le,Y.columns)})),(0,p.addTableBorder)(ee,Y,ce,le),Y.callEndPageHooks(ee,le),Y.finalY=le.y,H.lastAutoTable=Y,H.previousAutoTable=Y,H.autoTable&&(H.autoTable.previous=Y),ee.applyStyles(ee.userStyles)}l.drawTable=F;function x(H,Y,W,G){var te=(0,N.calculateAllColumnsCanFitInPage)(H,Y),le=Y.settings;if(le.horizontalPageBreakBehaviour==="afterAllRows")te.forEach(function(K,ee){H.applyStyles(H.userStyles),ee>0?B(H,Y,W,G,K.columns,!0):w(H,Y,G,K.columns),j(H,Y,W,G,K.columns),P(H,Y,G,K.columns)});else for(var L=-1,U=te[0],Q=function(){var K=L;if(U){H.applyStyles(H.userStyles);var ee=U.columns;L>=0?B(H,Y,W,G,ee,!0):w(H,Y,G,ee),K=S(H,Y,L+1,G,ee),P(H,Y,G,ee)}var ce=K-L;te.slice(1).forEach(function(he){H.applyStyles(H.userStyles),B(H,Y,W,G,he.columns,!0),S(H,Y,L+1,G,he.columns,ce),P(H,Y,G,he.columns)}),L=K};L<Y.body.length-1;)Q()}function w(H,Y,W,G){var te=Y.settings;H.applyStyles(H.userStyles),(te.showHead==="firstPage"||te.showHead==="everyPage")&&Y.head.forEach(function(le){return V(H,Y,le,W,G)})}function j(H,Y,W,G,te){H.applyStyles(H.userStyles),Y.body.forEach(function(le,L){var U=L===Y.body.length-1;z(H,Y,le,U,W,G,te)})}function S(H,Y,W,G,te,le){H.applyStyles(H.userStyles),le=le??Y.body.length;var L=Math.min(W+le,Y.body.length),U=-1;return Y.body.slice(W,L).forEach(function(Q,K){var ee=W+K===Y.body.length-1,ce=R(H,Y,ee,G);Q.canEntireRowFit(ce,te)&&(V(H,Y,Q,G,te),U=W+K)}),U}function P(H,Y,W,G){var te=Y.settings;H.applyStyles(H.userStyles),(te.showFoot==="lastPage"||te.showFoot==="everyPage")&&Y.foot.forEach(function(le){return V(H,Y,le,W,G)})}function E(H,Y,W){var G=W.getLineHeight(H.styles.fontSize),te=H.padding("vertical"),le=Math.floor((Y-te)/G);return Math.max(0,le)}function T(H,Y,W,G){var te={};H.spansMultiplePages=!0,H.height=0;for(var le=0,L=0,U=W.columns;L<U.length;L++){var Q=U[L],K=H.cells[Q.index];if(K){Array.isArray(K.text)||(K.text=[K.text]);var ee=new m.Cell(K.raw,K.styles,K.section);ee=(0,f.assign)(ee,K),ee.text=[];var ce=E(K,Y,G);K.text.length>ce&&(ee.text=K.text.splice(ce,K.text.length));var he=G.scaleFactor(),fe=G.getLineHeightFactor();K.contentHeight=K.getContentHeight(he,fe),K.contentHeight>=Y&&(K.contentHeight=Y,ee.styles.minCellHeight-=Y),K.contentHeight>H.height&&(H.height=K.contentHeight),ee.contentHeight=ee.getContentHeight(he,fe),ee.contentHeight>le&&(le=ee.contentHeight),te[Q.index]=ee}}var Ae=new m.Row(H.raw,-1,H.section,te,!0);Ae.height=le;for(var ge=0,we=W.columns;ge<we.length;ge++){var Q=we[ge],ee=Ae.cells[Q.index];ee&&(ee.height=Ae.height);var K=H.cells[Q.index];K&&(K.height=H.height)}return Ae}function k(H,Y,W,G){var te=H.pageSize().height,le=G.settings.margin,L=le.top+le.bottom,U=te-L;Y.section==="body"&&(U-=G.getHeadHeight(G.columns)+G.getFootHeight(G.columns));var Q=Y.getMinimumRowHeight(G.columns,H),K=Q<W;if(Q>U)return console.error("Will not be able to print row ".concat(Y.index," correctly since it's minimum height is larger than page height")),!0;if(!K)return!1;var ee=Y.hasRowSpan(G.columns),ce=Y.getMaxCellHeight(G.columns)>U;return ce?(ee&&console.error("The content of row ".concat(Y.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(ee||G.settings.rowPageBreak==="avoid")}function z(H,Y,W,G,te,le,L){var U=R(H,Y,G,le);if(W.canEntireRowFit(U,L))V(H,Y,W,le,L);else if(k(H,W,U,Y)){var Q=T(W,U,Y,H);V(H,Y,W,le,L),B(H,Y,te,le,L),z(H,Y,Q,G,te,le,L)}else B(H,Y,te,le,L),z(H,Y,W,G,te,le,L)}function V(H,Y,W,G,te){G.x=Y.settings.margin.left;for(var le=0,L=te;le<L.length;le++){var U=L[le],Q=W.cells[U.index];if(!Q){G.x+=U.width;continue}H.applyStyles(Q.styles),Q.x=G.x,Q.y=G.y;var K=Y.callCellHooks(H,Y.hooks.willDrawCell,Q,W,U,G);if(K===!1){G.x+=U.width;continue}A(H,Q,G);var ee=Q.getTextPos();(0,b.default)(Q.text,ee.x,ee.y,{halign:Q.styles.halign,valign:Q.styles.valign,maxWidth:Math.ceil(Q.width-Q.padding("left")-Q.padding("right"))},H.getDocument()),Y.callCellHooks(H,Y.hooks.didDrawCell,Q,W,U,G),G.x+=U.width}G.y+=W.height}function A(H,Y,W){var G=Y.styles;if(H.getDocument().setFillColor(H.getDocument().getFillColor()),typeof G.lineWidth=="number"){var te=(0,p.getFillStyle)(G.lineWidth,G.fillColor);te&&H.rect(Y.x,W.y,Y.width,Y.height,te)}else typeof G.lineWidth=="object"&&(G.fillColor&&H.rect(Y.x,W.y,Y.width,Y.height,"F"),_(H,Y,W,G.lineWidth))}function _(H,Y,W,G){var te,le,L,U;G.top&&(te=W.x,le=W.y,L=W.x+Y.width,U=W.y,G.right&&(L+=.5*G.right),G.left&&(te-=.5*G.left),Q(G.top,te,le,L,U)),G.bottom&&(te=W.x,le=W.y+Y.height,L=W.x+Y.width,U=W.y+Y.height,G.right&&(L+=.5*G.right),G.left&&(te-=.5*G.left),Q(G.bottom,te,le,L,U)),G.left&&(te=W.x,le=W.y,L=W.x,U=W.y+Y.height,G.top&&(le-=.5*G.top),G.bottom&&(U+=.5*G.bottom),Q(G.left,te,le,L,U)),G.right&&(te=W.x+Y.width,le=W.y,L=W.x+Y.width,U=W.y+Y.height,G.top&&(le-=.5*G.top),G.bottom&&(U+=.5*G.bottom),Q(G.right,te,le,L,U));function Q(K,ee,ce,he,fe){H.getDocument().setLineWidth(K),H.getDocument().line(ee,ce,he,fe,"S")}}function R(H,Y,W,G){var te=Y.settings.margin.bottom,le=Y.settings.showFoot;return(le==="everyPage"||le==="lastPage"&&W)&&(te+=Y.getFootHeight(Y.columns)),H.pageSize().height-G.y-te}function B(H,Y,W,G,te,le){te===void 0&&(te=[]),le===void 0&&(le=!1),H.applyStyles(H.userStyles),Y.settings.showFoot==="everyPage"&&!le&&Y.foot.forEach(function(U){return V(H,Y,U,G,te)}),Y.callEndPageHooks(H,G);var L=Y.settings.margin;(0,p.addTableBorder)(H,Y,W,G),ae(H),Y.pageNumber++,Y.pageCount++,G.x=L.left,G.y=L.top,W.y=L.top,Y.callWillDrawPageHooks(H,G),Y.settings.showHead==="everyPage"&&(Y.head.forEach(function(U){return V(H,Y,U,G,te)}),H.applyStyles(H.userStyles))}l.addPage=B;function ae(H){var Y=H.pageNumber();H.setPage(Y+1);var W=H.pageNumber();return W===Y?(H.addPage(),!0):!1}},224:function(o,l,d){Object.defineProperty(l,"__esModule",{value:!0}),l.calculateAllColumnsCanFitInPage=void 0;var p=d(420);function m(f,b,N){var F;N===void 0&&(N={});var x=(0,p.getPageAvailableWidth)(f,b),w=new Map,j=[],S=[],P=[];b.settings.horizontalPageBreakRepeat,Array.isArray(b.settings.horizontalPageBreakRepeat)?P=b.settings.horizontalPageBreakRepeat:(typeof b.settings.horizontalPageBreakRepeat=="string"||typeof b.settings.horizontalPageBreakRepeat=="number")&&(P=[b.settings.horizontalPageBreakRepeat]),P.forEach(function(z){var V=b.columns.find(function(A){return A.dataKey===z||A.index===z});V&&!w.has(V.index)&&(w.set(V.index,!0),j.push(V.index),S.push(b.columns[V.index]),x-=V.wrappedWidth)});for(var E=!0,T=(F=N==null?void 0:N.start)!==null&&F!==void 0?F:0;T<b.columns.length;){if(w.has(T)){T++;continue}var k=b.columns[T].wrappedWidth;if(E||x>=k)E=!1,j.push(T),S.push(b.columns[T]),x-=k;else break;T++}return{colIndexes:j,columns:S,lastIndex:T-1}}function g(f,b){for(var N=[],F=0;F<b.columns.length;F++){var x=m(f,b,{start:F});x.columns.length&&(N.push(x),F=x.lastIndex)}return N}l.calculateAllColumnsCanFitInPage=g},324:function(o,l,d){Object.defineProperty(l,"__esModule",{value:!0}),l.ellipsize=l.resizeColumns=l.calculateWidths=void 0;var p=d(420);function m(j,S){g(j,S);var P=[],E=0;S.columns.forEach(function(k){var z=k.getMaxCustomCellWidth(S);z?k.width=z:(k.width=k.wrappedWidth,P.push(k)),E+=k.width});var T=S.getWidth(j.pageSize().width)-E;T&&(T=f(P,T,function(k){return Math.max(k.minReadableWidth,k.minWidth)})),T&&(T=f(P,T,function(k){return k.minWidth})),T=Math.abs(T),!S.settings.horizontalPageBreak&&T>.1/j.scaleFactor()&&(T=T<1?T:Math.round(T),console.warn("Of the table content, ".concat(T," units width could not fit page"))),N(S),F(S,j),b(S)}l.calculateWidths=m;function g(j,S){var P=j.scaleFactor(),E=S.settings.horizontalPageBreak,T=(0,p.getPageAvailableWidth)(j,S);S.allRows().forEach(function(k){for(var z=0,V=S.columns;z<V.length;z++){var A=V[z],_=k.cells[A.index];if(_){var R=S.hooks.didParseCell;S.callCellHooks(j,R,_,k,A,null);var B=_.padding("horizontal");_.contentWidth=(0,p.getStringWidth)(_.text,_.styles,j)+B;var ae=(0,p.getStringWidth)(_.text.join(" ").split(/[^\S\u00A0]+/),_.styles,j);if(_.minReadableWidth=ae+_.padding("horizontal"),typeof _.styles.cellWidth=="number")_.minWidth=_.styles.cellWidth,_.wrappedWidth=_.styles.cellWidth;else if(_.styles.cellWidth==="wrap"||E===!0)_.contentWidth>T?(_.minWidth=T,_.wrappedWidth=T):(_.minWidth=_.contentWidth,_.wrappedWidth=_.contentWidth);else{var H=10/P;_.minWidth=_.styles.minCellWidth||H,_.wrappedWidth=_.contentWidth,_.minWidth>_.wrappedWidth&&(_.wrappedWidth=_.minWidth)}}}}),S.allRows().forEach(function(k){for(var z=0,V=S.columns;z<V.length;z++){var A=V[z],_=k.cells[A.index];if(_&&_.colSpan===1)A.wrappedWidth=Math.max(A.wrappedWidth,_.wrappedWidth),A.minWidth=Math.max(A.minWidth,_.minWidth),A.minReadableWidth=Math.max(A.minReadableWidth,_.minReadableWidth);else{var R=S.styles.columnStyles[A.dataKey]||S.styles.columnStyles[A.index]||{},B=R.cellWidth||R.minCellWidth;B&&typeof B=="number"&&(A.minWidth=B,A.wrappedWidth=B)}_&&(_.colSpan>1&&!A.minWidth&&(A.minWidth=_.minWidth),_.colSpan>1&&!A.wrappedWidth&&(A.wrappedWidth=_.minWidth))}})}function f(j,S,P){for(var E=S,T=j.reduce(function(H,Y){return H+Y.wrappedWidth},0),k=0;k<j.length;k++){var z=j[k],V=z.wrappedWidth/T,A=E*V,_=z.width+A,R=P(z),B=_<R?R:_;S-=B-z.width,z.width=B}if(S=Math.round(S*1e10)/1e10,S){var ae=j.filter(function(H){return S<0?H.width>P(H):!0});ae.length&&(S=f(ae,S,P))}return S}l.resizeColumns=f;function b(j){for(var S={},P=1,E=j.allRows(),T=0;T<E.length;T++)for(var k=E[T],z=0,V=j.columns;z<V.length;z++){var A=V[z],_=S[A.index];if(P>1)P--,delete k.cells[A.index];else if(_)_.cell.height+=k.height,P=_.cell.colSpan,delete k.cells[A.index],_.left--,_.left<=1&&delete S[A.index];else{var R=k.cells[A.index];if(!R)continue;if(R.height=k.height,R.rowSpan>1){var B=E.length-T,ae=R.rowSpan>B?B:R.rowSpan;S[A.index]={cell:R,left:ae,row:k}}}}}function N(j){for(var S=j.allRows(),P=0;P<S.length;P++)for(var E=S[P],T=null,k=0,z=0,V=0;V<j.columns.length;V++){var A=j.columns[V];if(z-=1,z>1&&j.columns[V+1])k+=A.width,delete E.cells[A.index];else if(T){var _=T;delete E.cells[A.index],T=null,_.width=A.width+k}else{var _=E.cells[A.index];if(!_)continue;if(z=_.colSpan,k=0,_.colSpan>1){T=_,k+=A.width;continue}_.width=A.width+k}}}function F(j,S){for(var P={count:0,height:0},E=0,T=j.allRows();E<T.length;E++){for(var k=T[E],z=0,V=j.columns;z<V.length;z++){var A=V[z],_=k.cells[A.index];if(_){S.applyStyles(_.styles,!0);var R=_.width-_.padding("horizontal");if(_.styles.overflow==="linebreak")_.text=S.splitTextToSize(_.text,R+1/S.scaleFactor(),{fontSize:_.styles.fontSize});else if(_.styles.overflow==="ellipsize")_.text=x(_.text,R,_.styles,S,"...");else if(_.styles.overflow==="hidden")_.text=x(_.text,R,_.styles,S,"");else if(typeof _.styles.overflow=="function"){var B=_.styles.overflow(_.text,R);typeof B=="string"?_.text=[B]:_.text=B}_.contentHeight=_.getContentHeight(S.scaleFactor(),S.getLineHeightFactor());var ae=_.contentHeight/_.rowSpan;_.rowSpan>1&&P.count*P.height<ae*_.rowSpan?P={height:ae,count:_.rowSpan}:P&&P.count>0&&P.height>ae&&(ae=P.height),ae>k.height&&(k.height=ae)}}P.count--}}function x(j,S,P,E,T){return j.map(function(k){return w(k,S,P,E,T)})}l.ellipsize=x;function w(j,S,P,E,T){var k=1e4*E.scaleFactor();if(S=Math.ceil(S*k)/k,S>=(0,p.getStringWidth)(j,P,E))return j;for(;S<(0,p.getStringWidth)(j+T,P,E)&&!(j.length<=1);)j=j.substring(0,j.length-1);return j.trim()+T}},964:function(o){if(typeof n>"u"){var l=new Error("Cannot find module 'undefined'");throw l.code="MODULE_NOT_FOUND",l}o.exports=n}},i={};function s(o){var l=i[o];if(l!==void 0)return l.exports;var d=i[o]={exports:{}};return r[o].call(d.exports,d,d.exports,s),d.exports}var a={};return function(){var o=a;Object.defineProperty(o,"__esModule",{value:!0}),o.Cell=o.Column=o.Row=o.Table=o.CellHookData=o.__drawTable=o.__createTable=o.applyPlugin=void 0;var l=s(340),d=s(776),p=s(664),m=s(972),g=s(260);Object.defineProperty(o,"Table",{enumerable:!0,get:function(){return g.Table}});var f=s(172);Object.defineProperty(o,"CellHookData",{enumerable:!0,get:function(){return f.CellHookData}});var b=s(260);Object.defineProperty(o,"Cell",{enumerable:!0,get:function(){return b.Cell}}),Object.defineProperty(o,"Column",{enumerable:!0,get:function(){return b.Column}}),Object.defineProperty(o,"Row",{enumerable:!0,get:function(){return b.Row}});function N(S){(0,l.default)(S)}o.applyPlugin=N;function F(S,P){var E=(0,d.parseInput)(S,P),T=(0,m.createTable)(S,E);(0,p.drawTable)(S,T)}function x(S,P){var E=(0,d.parseInput)(S,P);return(0,m.createTable)(S,E)}o.__createTable=x;function w(S,P){(0,p.drawTable)(S,P)}o.__drawTable=w;try{var j=s(964);j.jsPDF&&(j=j.jsPDF),N(j)}catch{}o.default=F}(),a}()})})(zw);class pc{static async generateQuotationPDF(e,n,r){const i=new $e("p","mm","a4"),s=i.internal.pageSize.width,a=i.internal.pageSize.height,o=15,l=30;let d=o;const p={primary:[37,99,235],secondary:[99,102,241],success:[34,197,94],warning:[245,158,11],danger:[239,68,68],dark:[31,41,55],light:[249,250,251],white:[255,255,255],border:[229,231,235]},m=(L,U)=>{const Q=a-25;i.setDrawColor(...p.primary),i.setLineWidth(.5),i.line(o,Q,s-o,Q),i.setTextColor(...p.primary),i.setFontSize(9),i.setFont("helvetica","bold"),i.text("Thank you for choosing Dexterous Manufacturing Labs Pvt Ltd",s/2,Q+8,{align:"center"}),i.setTextColor(100,100,100),i.setFontSize(7),i.setFont("helvetica","italic"),i.text("This is a computer-generated quotation, signature not required",s/2,Q+16,{align:"center"}),i.setTextColor(...p.dark),i.setFontSize(7),i.setFont("helvetica","normal"),i.text(`Page ${L} of ${U}`,s-o,Q+16,{align:"right"})},g=(L,U,Q,K,ee=10)=>{i.setFontSize(ee);const ce=i.splitTextToSize(L,K);return i.text(ce,U,Q),Q+ce.length*ee*.4},f=L=>d+L>a-l?(i.addPage(),d=o,!0):!1;i.setFillColor(...p.primary),i.rect(0,0,s,35,"F"),i.setTextColor(...p.white),i.setFontSize(16),i.setFont("helvetica","bold"),i.text(Vr.name,s/2,12,{align:"center"}),i.setFontSize(8),i.setFont("helvetica","normal"),i.text(`GSTN: ${Vr.gstn} | Phone: +91-8629044664 | Email: sushant@iamrapid.com`,s/2,20,{align:"center"}),i.text("www.iamrapid.com",s/2,27,{align:"center"}),d=45,i.setTextColor(...p.dark),i.setFontSize(24),i.setFont("helvetica","bold"),i.text("QUOTATION",o,d),i.setDrawColor(...p.primary),i.setLineWidth(1.5),i.line(o,d+3,o+60,d+3),d+=15;const b=s-2*o,N=20;i.setFillColor(...p.light),i.roundedRect(o,d,b,N,2,2,"F"),i.setDrawColor(...p.border),i.setLineWidth(.3),i.roundedRect(o,d,b,N,2,2,"S"),i.setTextColor(...p.primary),i.setFontSize(10),i.setFont("helvetica","bold"),i.text("Quotation Details",o+5,d+7),i.setTextColor(...p.dark),i.setFont("helvetica","normal"),i.setFontSize(8),i.text(`Number: ${e.quotationNumber}`,o+5,d+13),i.text(`Date: ${new Date(e.createdAt).toLocaleDateString("en-IN")}`,o+80,d+13),i.text(`Valid Until: ${new Date(e.validUntil).toLocaleDateString("en-IN")}`,o+160,d+13),d+=N+10,i.setFillColor(...p.primary),i.roundedRect(o,d,s-2*o,6,1,1,"F"),i.setTextColor(...p.white),i.setFontSize(10),i.setFont("helvetica","bold"),i.text("BILL TO",o+5,d+4),d+=10;const F=30;i.setFillColor(...p.white),i.roundedRect(o,d,s-2*o,F,2,2,"F"),i.setDrawColor(...p.border),i.setLineWidth(.3),i.roundedRect(o,d,s-2*o,F,2,2,"S"),i.setTextColor(...p.dark),i.setFont("helvetica","bold"),i.setFontSize(11),i.text(n.company_name,o+8,d+8),i.setFont("helvetica","normal"),i.setFontSize(8);const x=o+8,w=o+(s-2*o)/2+8;i.text(`Contact: ${n.contact_person}`,x,d+15),i.text(`Email: ${n.email}`,x,d+20),i.text(`Phone: ${n.phone}`,x,d+25),n.gstn&&i.text(`GSTN: ${n.gstn}`,w,d+15);const j=`${n.billing_address.street}, ${n.billing_address.city}, ${n.billing_address.state} - ${n.billing_address.pin}`;i.setFont("helvetica","bold"),i.text("Billing Address:",w,d+20),i.setFont("helvetica","normal"),g(j,w,d+25,(s-2*o)/2-15,7),d+=F+10;const P=(e.shippingAddressType||"shipping")==="billing"||JSON.stringify(n.billing_address)===JSON.stringify(n.shipping_address);if(i.setFillColor(...p.secondary),i.roundedRect(o,d,s-2*o,6,1,1,"F"),i.setTextColor(...p.white),i.setFontSize(10),i.setFont("helvetica","bold"),i.text("SHIP TO",o+5,d+4),d+=10,P)i.setFillColor(...p.white),i.roundedRect(o,d,s-2*o,15,2,2,"F"),i.setDrawColor(...p.border),i.setLineWidth(.3),i.roundedRect(o,d,s-2*o,15,2,2,"S"),i.setTextColor(...p.dark),i.setFont("helvetica","bold"),i.setFontSize(10),i.text("Same as billing address",o+8,d+10),d+=25;else{i.setFillColor(...p.white),i.roundedRect(o,d,s-2*o,25,2,2,"F"),i.setDrawColor(...p.border),i.setLineWidth(.3),i.roundedRect(o,d,s-2*o,25,2,2,"S"),i.setTextColor(...p.dark),i.setFont("helvetica","bold"),i.setFontSize(11),i.text(n.company_name,o+8,d+8),i.setFont("helvetica","normal"),i.setFontSize(8),i.text(`Contact: ${n.contact_person}`,o+8,d+15);const U=`${n.shipping_address.street}, ${n.shipping_address.city}, ${n.shipping_address.state} - ${n.shipping_address.pin}`;g(U,o+8,d+20,s-2*o-16,7),d+=35}f(80),i.setFillColor(...p.primary),i.roundedRect(o,d,s-2*o,8,1,1,"F"),i.setTextColor(...p.white),i.setFontSize(10),i.setFont("helvetica","bold"),i.text("PARTS & COMPONENTS",o+5,d+5),d+=12;const E=["S.No","Description","Tech/Material","Qty","Unit Price","Amount","GST","Total"],T=e.parts.map((L,U)=>{const Q=zn(L.totalPrice,n),K=e.gstType==="INTRASTATE"?`CGST: Rs ${Q.cgst.toFixed(2)}
SGST: Rs ${Q.sgst.toFixed(2)}`:`IGST: Rs ${Q.igst.toFixed(2)}`;let ee=L.material||"N/A",ce=L.technology||"N/A";if(r&&L.technology&&L.material){const fe=r.technologies[L.technology];if(fe){ce=fe.name;const Ae=fe.materials[L.material];Ae&&(ee=Ae.name)}}let he=L.fileName;return L.comments&&L.comments.trim()&&(he+=`
Notes: ${L.comments.trim()}`),[(U+1).toString(),he,`${ce}
${ee}`,L.quantity.toString(),`Rs ${L.unitPrice.toFixed(2)}`,`Rs ${L.totalPrice.toFixed(2)}`,K,`Rs ${L.finalPrice.toFixed(2)}`]});if(i.autoTable({startY:d,head:[E],body:T,theme:"plain",headStyles:{fillColor:p.secondary,textColor:p.white,fontSize:7,fontStyle:"bold",halign:"center",valign:"middle",cellPadding:2,lineColor:p.border,lineWidth:.1},bodyStyles:{fontSize:6,cellPadding:1.2,valign:"middle",lineColor:p.border,lineWidth:.1,alternateRowStyles:{fillColor:[248,250,252]}},columnStyles:{0:{halign:"center",cellWidth:10},1:{halign:"left",cellWidth:38},2:{halign:"center",cellWidth:26},3:{halign:"center",cellWidth:10},4:{halign:"right",cellWidth:20},5:{halign:"right",cellWidth:18},6:{halign:"center",cellWidth:22},7:{halign:"right",cellWidth:20}},margin:{left:o,right:o,bottom:l},tableWidth:"wrap",pageBreak:"auto",showHead:"everyPage",didDrawCell:L=>{L.column.index===6&&L.section==="body"&&i.setFontSize(5)},didDrawPage:L=>{m(L.pageNumber,i.getNumberOfPages())}}),d=i.lastAutoTable.finalY,e.serviceCharges&&e.serviceCharges.length>0){d+=8,d+60>a-l&&(i.addPage(),d=o),i.setFillColor(...p.secondary),i.roundedRect(o,d,s-2*o,8,1,1,"F"),i.setTextColor(...p.white),i.setFontSize(10),i.setFont("helvetica","bold"),i.text("ADDITIONAL SERVICES",o+5,d+5),d+=12;const L=["S.No","Service Description","Amount"],U=e.serviceCharges.map((Q,K)=>[(K+1).toString(),Q.description,`Rs ${Q.amount.toFixed(2)}`]);i.autoTable({startY:d,head:[L],body:U,theme:"plain",headStyles:{fillColor:p.secondary,textColor:p.white,fontSize:8,fontStyle:"bold",halign:"center",valign:"middle",cellPadding:2},bodyStyles:{fontSize:8,cellPadding:2,valign:"middle",lineColor:p.border,lineWidth:.1},columnStyles:{0:{halign:"center",cellWidth:15},1:{halign:"left",cellWidth:120},2:{halign:"right",cellWidth:30}},margin:{left:o,right:o,bottom:l},tableWidth:"wrap",pageBreak:"auto",showHead:"everyPage",didDrawPage:Q=>{m(Q.pageNumber,i.getNumberOfPages())}}),d=i.lastAutoTable.finalY+8}d+80>a-l&&(i.addPage(),d=o),d+=8;const k=s-o-85,z=80,V=e.totalBasePrice,A=V*(e.discount||0)/100,_=V-A,R=zn(_,n);i.setTextColor(...p.dark);let B=d;i.setFont("helvetica","normal"),i.setFontSize(10);const ae=e.parts.reduce((L,U)=>L+U.totalPrice,0);i.text("Parts Total:",k,B),i.text(`Rs ${ae.toFixed(2)}`,k+z,B,{align:"right"}),B+=7,e.serviceCharges&&e.serviceCharges.length>0&&(i.text("Services Total:",k,B),i.text(`Rs ${e.totalServiceCharges.toFixed(2)}`,k+z,B,{align:"right"}),B+=7,i.setFont("helvetica","bold"),i.text("Subtotal:",k,B),i.text(`Rs ${V.toFixed(2)}`,k+z,B,{align:"right"}),i.setFont("helvetica","normal"),B+=7),e.discount>0&&(i.setTextColor(...p.success),i.text(`Discount (${e.discount}%):`,k,B),i.text(`-Rs ${A.toFixed(2)}`,k+z,B,{align:"right"}),i.setTextColor(...p.dark),B+=7,i.setFont("helvetica","normal"),i.setFontSize(10),i.text("Subtotal after discount:",k,B),i.text(`Rs ${_.toFixed(2)}`,k+z,B,{align:"right"}),B+=7),i.setDrawColor(...p.border),i.setLineWidth(.3),i.line(k,B,k+z,B),B+=5,i.setFont("helvetica","bold"),i.setFontSize(8),i.text("TAX BREAKDOWN:",k,B),B+=6,i.setFont("helvetica","normal"),i.setFontSize(8),i.setTextColor(75,85,99),e.gstType==="INTRASTATE"?(i.text("CGST (9%):",k+5,B),i.text(`Rs ${R.cgst.toFixed(2)}`,k+z,B,{align:"right"}),B+=5,i.text("SGST (9%):",k+5,B),i.text(`Rs ${R.sgst.toFixed(2)}`,k+z,B,{align:"right"}),B+=5):(i.text("IGST (18%):",k+5,B),i.text(`Rs ${R.igst.toFixed(2)}`,k+z,B,{align:"right"}),B+=5),i.setTextColor(...p.dark),i.setFont("helvetica","normal"),i.setFontSize(10),i.text("Total GST:",k,B),i.text(`Rs ${e.totalGST.toFixed(2)}`,k+z,B,{align:"right"}),B+=10,i.setDrawColor(...p.primary),i.setLineWidth(1),i.rect(k-3,B-3,z+6,12),i.setTextColor(...p.dark),i.setFont("helvetica","bold"),i.setFontSize(12),i.text("GRAND TOTAL:",k,B+3),i.text(`Rs ${e.finalPrice.toFixed(2)}`,k+z,B+3,{align:"right"}),d=B+20,d+40>a-l&&(i.addPage(),d=o),i.setFillColor(...p.secondary),i.roundedRect(o,d,s-2*o,6,1,1,"F"),i.setTextColor(...p.white),i.setFontSize(9),i.setFont("helvetica","bold"),i.text("PAYMENT TERMS & CONDITIONS",o+5,d+4),d+=10;const H=30;i.setFillColor(...p.light),i.roundedRect(o,d,s-2*o,H,2,2,"F"),i.setDrawColor(...p.border),i.setLineWidth(.3),i.roundedRect(o,d,s-2*o,H,2,2,"S"),i.setTextColor(...p.dark),i.setFont("helvetica","normal"),i.setFontSize(8);const W=[` Payment Terms: ${e.paymentTerms||n.payment_terms}`," This quotation is valid for 30 days from the date of issue",` Delivery time: ${e.leadTime||"3-5 days"} from order confirmation`];let G=d+6;W.forEach(L=>{G=g(L,o+6,G,s-2*o-12,8),G+=1}),e.notes&&e.notes.trim()&&(d+=H+8,d+25>a-l&&(i.addPage(),d=o),i.setFillColor(...p.warning),i.roundedRect(o,d,s-2*o,6,1,1,"F"),i.setTextColor(...p.white),i.setFontSize(9),i.setFont("helvetica","bold"),i.text("NOTES",o+5,d+4),d+=10,i.setFillColor(...p.light),i.roundedRect(o,d,s-2*o,15,2,2,"F"),i.setTextColor(...p.dark),i.setFont("helvetica","normal"),i.setFontSize(8),g(e.notes,o+6,d+6,s-2*o-12,8));const te=i.getNumberOfPages();for(let L=1;L<=te;L++)i.setPage(L),m(L,te);const le=`Quotation_${e.quotationNumber}_${n.company_name.replace(/[^a-zA-Z0-9]/g,"_")}.pdf`;i.save(le)}static async generateInvoicePDF(e,n,r){const i=new $e("p","mm","a4"),s=i.internal.pageSize.width,a=i.internal.pageSize.height,o=15,l=30;let d=o;const p=[79,70,229],m=[243,244,246],g=(H,Y)=>{const W=a-25;i.setDrawColor(200,200,200),i.line(o,W,s-o,W),i.setTextColor(100,100,100),i.setFontSize(8),i.text("Thank you for your business!",s/2,W+6,{align:"center"}),i.setTextColor(100,100,100),i.setFontSize(7),i.setFont("helvetica","italic"),i.text("This is a computer-generated invoice, signature not required",s/2,W+13,{align:"center"}),i.setTextColor(0,0,0),i.setFontSize(7),i.setFont("helvetica","normal"),i.text(`Page ${H} of ${Y}`,s-o,W+13,{align:"right"})},f=(H,Y,W,G,te=10)=>{i.setFontSize(te);const le=i.splitTextToSize(H,G);return i.text(le,Y,W),W+le.length*te*.4},b=H=>d+H>a-l?(i.addPage(),d=o,!0):!1;i.setFillColor(...p),i.rect(0,0,s,30,"F"),i.setTextColor(255,255,255),i.setFontSize(16),i.setFont("helvetica","bold"),i.text(Vr.name,s/2,12,{align:"center"}),i.setFontSize(7),i.setFont("helvetica","normal"),i.text(`GSTN: ${Vr.gstn} | Phone: +91-8629044664 | Email: sushant@iamrapid.com | www.iamrapid.com`,s/2,22,{align:"center"}),d=40,i.setTextColor(0,0,0),i.setFontSize(20),i.setFont("helvetica","bold"),i.text("INVOICE",s/2,d,{align:"center"}),d+=12;const N=18;i.setFillColor(...m),i.rect(o,d,s-2*o,N,"F"),i.setDrawColor(200,200,200),i.rect(o,d,s-2*o,N),i.setTextColor(0,0,0),i.setFontSize(9),i.setFont("helvetica","bold"),i.text("Invoice Details",o+4,d+6),i.setFont("helvetica","normal"),i.setFontSize(8),i.text(`Invoice No: ${e.invoiceNumber}`,o+4,d+11),i.text(`Date: ${new Date(e.createdAt).toLocaleDateString("en-IN")}`,o+4,d+15),i.text(`Due Date: ${new Date(e.dueDate).toLocaleDateString("en-IN")}`,s-o-70,d+11),d+=N+8,i.setFillColor(...p),i.rect(o,d,s-2*o,6,"F"),i.setTextColor(255,255,255),i.setFontSize(10),i.setFont("helvetica","bold"),i.text("BILL TO",o+4,d+4),d+=10,i.setTextColor(0,0,0),i.setFont("helvetica","bold"),i.setFontSize(10),i.text(n.company_name,o+4,d),d+=5,i.setFont("helvetica","normal"),i.setFontSize(8),i.text(`Contact: ${n.contact_person}`,o+4,d),d+=4,i.text(`Email: ${n.email}`,o+4,d),d+=4,i.text(`Phone: ${n.phone}`,o+4,d),d+=4,n.gstn&&(i.text(`GSTN: ${n.gstn}`,o+4,d),d+=4),i.text("Billing Address:",o+4,d),d+=4;const F=`${n.billing_address.street}, ${n.billing_address.city}, ${n.billing_address.state} - ${n.billing_address.pin}`;d=f(F,o+4,d,s-2*o-8,8),d+=4;const w=(e.shippingAddressType||"shipping")==="billing"||JSON.stringify(n.billing_address)===JSON.stringify(n.shipping_address);if(i.setFillColor(...p),i.rect(o,d,s-2*o,6,"F"),i.setTextColor(255,255,255),i.setFontSize(10),i.setFont("helvetica","bold"),i.text("SHIP TO",o+4,d+4),d+=10,i.setTextColor(0,0,0),i.setFont("helvetica","normal"),i.setFontSize(8),w)i.setFont("helvetica","bold"),i.text("Same as billing address",o+4,d),d+=6;else{i.text("Shipping Address:",o+4,d),d+=4;const H=`${n.shipping_address.street}, ${n.shipping_address.city}, ${n.shipping_address.state} - ${n.shipping_address.pin}`;d=f(H,o+4,d,s-2*o-8,8)}d+=8,b(80),i.setFillColor(...p),i.rect(o,d,s-2*o,6,"F"),i.setTextColor(255,255,255),i.setFontSize(10),i.setFont("helvetica","bold"),i.text("PARTS & COMPONENTS",o+4,d+4),d+=10;const j=["S.No","Description","Tech/Material","Qty","Unit Price","Amount","GST","Total"],S=e.parts.map((H,Y)=>{const W=zn(H.totalPrice,n),G=e.gstType==="INTRASTATE"?`CGST: Rs ${W.cgst.toFixed(2)}
SGST: Rs ${W.sgst.toFixed(2)}`:`IGST: Rs ${W.igst.toFixed(2)}`;let te=H.material||"N/A",le=H.technology||"N/A";if(r&&H.technology&&H.material){const U=r.technologies[H.technology];if(U){le=U.name;const Q=U.materials[H.material];Q&&(te=Q.name)}}let L=H.fileName;return H.comments&&H.comments.trim()&&(L+=`
Notes: ${H.comments.trim()}`),[(Y+1).toString(),L,`${le}
${te}`,H.quantity.toString(),`Rs ${H.unitPrice.toFixed(2)}`,`Rs ${H.totalPrice.toFixed(2)}`,G,`Rs ${H.finalPrice.toFixed(2)}`]});if(i.autoTable({startY:d,head:[j],body:S,theme:"grid",headStyles:{fillColor:p,textColor:[255,255,255],fontSize:7,fontStyle:"bold",halign:"center",valign:"middle",cellPadding:2},bodyStyles:{fontSize:6,cellPadding:1.2,valign:"middle",lineColor:[200,200,200],lineWidth:.1},columnStyles:{0:{halign:"center",cellWidth:10},1:{halign:"left",cellWidth:40},2:{halign:"center",cellWidth:28},3:{halign:"center",cellWidth:10},4:{halign:"right",cellWidth:20},5:{halign:"right",cellWidth:18},6:{halign:"center",cellWidth:22},7:{halign:"right",cellWidth:20}},margin:{left:o,right:o,bottom:l},tableWidth:"wrap",pageBreak:"auto",showHead:"everyPage",didDrawCell:H=>{H.column.index===6&&H.section==="body"&&i.setFontSize(5)},didDrawPage:H=>{g(H.pageNumber,i.getNumberOfPages())}}),d=i.lastAutoTable.finalY,e.serviceCharges&&e.serviceCharges.length>0){d+=8,d+60>a-l&&(i.addPage(),d=o),i.setFillColor(...p),i.rect(o,d,s-2*o,6,"F"),i.setTextColor(255,255,255),i.setFontSize(10),i.setFont("helvetica","bold"),i.text("ADDITIONAL SERVICES",o+4,d+4),d+=10;const H=["S.No","Service Description","Amount"],Y=e.serviceCharges.map((W,G)=>[(G+1).toString(),W.description,`Rs ${W.amount.toFixed(2)}`]);i.autoTable({startY:d,head:[H],body:Y,theme:"grid",headStyles:{fillColor:p,textColor:[255,255,255],fontSize:8,fontStyle:"bold",halign:"center",valign:"middle",cellPadding:2},bodyStyles:{fontSize:8,cellPadding:2,valign:"middle",lineColor:[200,200,200],lineWidth:.1},columnStyles:{0:{halign:"center",cellWidth:15},1:{halign:"left",cellWidth:120},2:{halign:"right",cellWidth:30}},margin:{left:o,right:o,bottom:l},tableWidth:"wrap",pageBreak:"auto",showHead:"everyPage",didDrawPage:W=>{g(W.pageNumber,i.getNumberOfPages())}}),d=i.lastAutoTable.finalY+8}d+80>a-l&&(i.addPage(),d=o),d+=8;const P=s-o-85,E=80,T=e.totalBasePrice,k=T*(e.discount||0)/100,z=T-k,V=zn(z,n);i.setTextColor(0,0,0);let A=d;i.setFont("helvetica","normal"),i.setFontSize(10);const _=e.parts.reduce((H,Y)=>H+Y.totalPrice,0);i.text("Parts Total:",P,A),i.text(`Rs ${_.toFixed(2)}`,P+E,A,{align:"right"}),A+=7,e.serviceCharges&&e.serviceCharges.length>0&&(i.text("Services Total:",P,A),i.text(`Rs ${e.totalServiceCharges.toFixed(2)}`,P+E,A,{align:"right"}),A+=7,i.setFont("helvetica","bold"),i.text("Subtotal:",P,A),i.text(`Rs ${T.toFixed(2)}`,P+E,A,{align:"right"}),i.setFont("helvetica","normal"),A+=7),e.discount>0&&(i.setTextColor(34,197,94),i.text(`Discount (${e.discount}%):`,P,A),i.text(`-Rs ${k.toFixed(2)}`,P+E,A,{align:"right"}),i.setTextColor(0,0,0),A+=7,i.setFont("helvetica","normal"),i.setFontSize(10),i.text("Subtotal after discount:",P,A),i.text(`Rs ${z.toFixed(2)}`,P+E,A,{align:"right"}),A+=7),i.setDrawColor(229,231,235),i.setLineWidth(.3),i.line(P,A,P+E,A),A+=5,i.setFont("helvetica","bold"),i.setFontSize(8),i.text("TAX BREAKDOWN:",P,A),A+=6,i.setFont("helvetica","normal"),i.setFontSize(8),i.setTextColor(75,85,99),e.gstType==="INTRASTATE"?(i.text("CGST (9%):",P+5,A),i.text(`Rs ${V.cgst.toFixed(2)}`,P+E,A,{align:"right"}),A+=5,i.text("SGST (9%):",P+5,A),i.text(`Rs ${V.sgst.toFixed(2)}`,P+E,A,{align:"right"}),A+=5):(i.text("IGST (18%):",P+5,A),i.text(`Rs ${V.igst.toFixed(2)}`,P+E,A,{align:"right"}),A+=5),i.setTextColor(0,0,0),i.setFont("helvetica","normal"),i.setFontSize(10),i.text("Total GST:",P,A),i.text(`Rs ${e.totalGST.toFixed(2)}`,P+E,A,{align:"right"}),A+=10,i.setDrawColor(79,70,229),i.setLineWidth(1),i.rect(P-3,A-3,E+6,12),i.setTextColor(0,0,0),i.setFont("helvetica","bold"),i.setFontSize(12),i.text("AMOUNT DUE:",P,A+3),i.text(`Rs ${e.finalPrice.toFixed(2)}`,P+E,A+3,{align:"right"}),d=A+20,d+40>a-l&&(i.addPage(),d=o),i.setFillColor(...p),i.rect(o,d,s-2*o,6,"F"),i.setTextColor(255,255,255),i.setFontSize(10),i.setFont("helvetica","bold"),i.text("PAYMENT TERMS & CONDITIONS",o+4,d+4),d+=10,i.setTextColor(0,0,0),i.setFont("helvetica","normal"),i.setFontSize(8),[` Payment Terms: ${n.payment_terms}`,` Payment is due by ${new Date(e.dueDate).toLocaleDateString("en-IN")}`," Late payment may incur additional charges"," Please reference invoice number in all payments"].forEach(H=>{d=f(H,o+4,d,s-2*o-8,8),d+=1}),e.notes&&e.notes.trim()&&(d+=6,d+20>a-l&&(i.addPage(),d=o),i.setFillColor(...m),i.rect(o,d,s-2*o,6,"F"),i.setTextColor(0,0,0),i.setFontSize(9),i.setFont("helvetica","bold"),i.text("NOTES",o+4,d+4),d+=10,i.setFont("helvetica","normal"),i.setFontSize(8),d=f(e.notes,o+4,d,s-2*o-8,8));const B=i.getNumberOfPages();for(let H=1;H<=B;H++)i.setPage(H),g(H,B);const ae=`Invoice_${e.invoiceNumber}_${n.company_name.replace(/[^a-zA-Z0-9]/g,"_")}.pdf`;i.save(ae)}static async generatePartsListPDF(e,n,r){const i=new $e("p","mm","a4"),s=i.internal.pageSize.width,a=i.internal.pageSize.height,o=15;let l=o;const d={primary:[37,99,235],dark:[31,41,55],light:[249,250,251],border:[229,231,235]};i.setFillColor(...d.primary),i.rect(0,0,s,35,"F"),i.setTextColor(255,255,255),i.setFontSize(16),i.setFont("helvetica","bold"),i.text(Vr.name,s/2,12,{align:"center"}),i.setFontSize(8),i.setFont("helvetica","normal"),i.text(`GSTN: ${Vr.gstn} | Phone: +91-8629044664 | Email: sushant@iamrapid.com`,s/2,20,{align:"center"}),i.text("www.iamrapid.com",s/2,27,{align:"center"}),l=45,i.setTextColor(...d.dark),i.setFontSize(20),i.setFont("helvetica","bold"),i.text("PARTS LIST",s/2,l,{align:"center"}),i.setDrawColor(...d.primary),i.setLineWidth(1.5),i.line(s/2-30,l+3,s/2+30,l+3),l+=15,i.setTextColor(...d.dark),i.setFontSize(10),i.setFont("helvetica","normal"),i.text(`Generated on: ${new Date().toLocaleDateString("en-IN")}`,s/2,l,{align:"center"}),l+=15,i.setFillColor(...d.primary),i.roundedRect(o,l,s-2*o,6,1,1,"F"),i.setTextColor(255,255,255),i.setFontSize(10),i.setFont("helvetica","bold"),i.text("CUSTOMER INFORMATION",o+5,l+4),l+=10;const p=25;i.setFillColor(...d.light),i.roundedRect(o,l,s-2*o,p,2,2,"F"),i.setDrawColor(...d.border),i.setLineWidth(.3),i.roundedRect(o,l,s-2*o,p,2,2,"S"),i.setTextColor(...d.dark),i.setFont("helvetica","bold"),i.setFontSize(11),i.text(n.company_name,o+8,l+8),i.setFont("helvetica","normal"),i.setFontSize(8),i.text(`Contact: ${n.contact_person}`,o+8,l+15),i.text(`Email: ${n.email}`,o+8,l+20);const m=o+(s-2*o)/2+8;i.text(`Phone: ${n.phone}`,m,l+15),n.gstn&&i.text(`GSTN: ${n.gstn}`,m,l+20),l+=p+15,i.setFillColor(...d.primary),i.roundedRect(o,l,s-2*o,8,1,1,"F"),i.setTextColor(255,255,255),i.setFontSize(10),i.setFont("helvetica","bold"),i.text("PARTS BREAKDOWN",o+5,l+5),l+=12;const g=["S.No","Part Name","Volume (cm)","Quantity","Total Volume (cm)"],f=e.map((w,j)=>[(j+1).toString(),w.fileName,w.volume.toFixed(2),w.quantity.toString(),(w.volume*w.quantity).toFixed(2)]);f.push(["","TOTAL","",e.reduce((w,j)=>w+j.quantity,0).toString(),r.toFixed(2)]),i.autoTable({startY:l,head:[g],body:f,theme:"grid",headStyles:{fillColor:d.primary,textColor:[255,255,255],fontSize:9,fontStyle:"bold",halign:"center",valign:"middle",cellPadding:3},bodyStyles:{fontSize:8,cellPadding:2,valign:"middle",lineColor:d.border,lineWidth:.1},columnStyles:{0:{halign:"center",cellWidth:15},1:{halign:"left",cellWidth:80},2:{halign:"right",cellWidth:25},3:{halign:"center",cellWidth:20},4:{halign:"right",cellWidth:30}},margin:{left:o,right:o},tableWidth:"wrap",didDrawCell:w=>{w.row.index===f.length-1&&w.section==="body"&&(w.cell.styles.fontStyle="bold",w.column.index===1&&i.setFillColor(...d.light))}}),l=i.lastAutoTable.finalY+15;const b=s-o-80,N=75;i.setFillColor(...d.light),i.roundedRect(b-5,l-5,N+10,25,2,2,"F"),i.setDrawColor(...d.border),i.setLineWidth(.3),i.roundedRect(b-5,l-5,N+10,25,2,2,"S"),i.setTextColor(...d.dark),i.setFont("helvetica","bold"),i.setFontSize(10),i.text("SUMMARY",b,l),i.setFont("helvetica","normal"),i.setFontSize(9),i.text(`Total Parts: ${e.length}`,b,l+6),i.text(`Total Quantity: ${e.reduce((w,j)=>w+j.quantity,0)}`,b,l+12),i.setFont("helvetica","bold"),i.text(`Total Volume: ${r.toFixed(2)} cm`,b,l+18);const F=a-20;i.setDrawColor(...d.primary),i.setLineWidth(.5),i.line(o,F,s-o,F),i.setTextColor(...d.primary),i.setFontSize(8),i.setFont("helvetica","italic"),i.text("This is a computer-generated parts list",s/2,F+8,{align:"center"});const x=`Parts_List_${n.company_name.replace(/[^a-zA-Z0-9]/g,"_")}_${new Date().toISOString().split("T")[0]}.pdf`;i.save(x)}static async generateJobWorkPDF(e,n){const r=new $e("p","mm","a4"),i=r.internal.pageSize.width,s=r.internal.pageSize.height,a=15,o=30;let l=a;const d={primary:[37,99,235],dark:[31,41,55],light:[249,250,251],border:[229,231,235],warning:[245,158,11]},p=(k,z)=>{const V=s-25;r.setDrawColor(...d.primary),r.setLineWidth(.5),r.line(a,V,i-a,V),r.setTextColor(...d.primary),r.setFontSize(9),r.setFont("helvetica","bold"),r.text("PRODUCTION DEPARTMENT - CONFIDENTIAL",i/2,V+8,{align:"center"}),r.setTextColor(100,100,100),r.setFontSize(7),r.setFont("helvetica","italic"),r.text("This document contains no pricing or customer information",i/2,V+16,{align:"center"}),r.setTextColor(...d.dark),r.setFontSize(7),r.setFont("helvetica","normal"),r.text(`Page ${k} of ${z}`,i-a,V+16,{align:"right"})},m=k=>l+k>s-o?(r.addPage(),l=a,!0):!1;r.setFillColor(...d.warning),r.rect(0,0,i,35,"F"),r.setTextColor(255,255,255),r.setFontSize(18),r.setFont("helvetica","bold"),r.text("PRODUCTION JOB WORK",i/2,12,{align:"center"}),r.setFontSize(8),r.setFont("helvetica","normal"),r.text(`${Vr.name} - Manufacturing Department`,i/2,22,{align:"center"}),r.text("CONFIDENTIAL - FOR PRODUCTION USE ONLY",i/2,29,{align:"center"}),l=45,r.setTextColor(...d.dark),r.setFontSize(24),r.setFont("helvetica","bold"),r.text("JOB WORK ORDER",i/2,l,{align:"center"}),r.setDrawColor(...d.warning),r.setLineWidth(2),r.line(i/2-40,l+3,i/2+40,l+3),l+=20;const g=25;r.setFillColor(...d.light),r.roundedRect(a,l,i-2*a,g,2,2,"F"),r.setDrawColor(...d.border),r.setLineWidth(.3),r.roundedRect(a,l,i-2*a,g,2,2,"S"),r.setTextColor(...d.warning),r.setFontSize(10),r.setFont("helvetica","bold"),r.text("ORDER INFORMATION",a+5,l+7),r.setTextColor(...d.dark),r.setFont("helvetica","normal"),r.setFontSize(9),r.text(`Order Number: ${e.orderNumber}`,a+8,l+15),r.text(`Customer ID: ${e.customerId}`,a+8,l+20);const f=a+(i-2*a)/2+8;r.text(`Date: ${new Date(e.createdAt).toLocaleDateString("en-IN")}`,f,l+15),r.text(`Status: ${e.status}`,f,l+20),l+=g+15,r.setFillColor(255,243,205),r.roundedRect(a,l,i-2*a,15,2,2,"F"),r.setDrawColor(245,158,11),r.setLineWidth(.5),r.roundedRect(a,l,i-2*a,15,2,2,"S"),r.setTextColor(146,64,14),r.setFontSize(8),r.setFont("helvetica","bold"),r.text(" PRODUCTION NOTICE:",a+8,l+6),r.setFont("helvetica","normal"),r.text("This document contains NO pricing information. Customer details are limited to ID only.",a+8,l+11),l+=20,m(80),r.setFillColor(...d.warning),r.roundedRect(a,l,i-2*a,8,1,1,"F"),r.setTextColor(255,255,255),r.setFontSize(10),r.setFont("helvetica","bold"),r.text("PARTS TO MANUFACTURE",a+5,l+5),l+=12;const b=["S.No","Part Name","Technology","Material","Volume (cm)","Qty","Total Vol.","Notes"],N=e.parts.map((k,z)=>{let V=k.technology||"Not specified",A=k.material||"Not specified";if(n&&k.technology&&k.material){const _=n.technologies[k.technology];if(_){V=_.name;const R=_.materials[k.material];R&&(A=R.name)}}return[(z+1).toString(),k.fileName,V,A,k.volume.toFixed(2),k.quantity.toString(),(k.volume*k.quantity).toFixed(2),k.comments||"None"]});if(r.autoTable({startY:l,head:[b],body:N,theme:"grid",headStyles:{fillColor:d.warning,textColor:[255,255,255],fontSize:7,fontStyle:"bold",halign:"center",valign:"middle",cellPadding:2},bodyStyles:{fontSize:6,cellPadding:1.5,valign:"middle",lineColor:d.border,lineWidth:.1,alternateRowStyles:{fillColor:[248,250,252]}},columnStyles:{0:{halign:"center",cellWidth:12},1:{halign:"left",cellWidth:35},2:{halign:"center",cellWidth:25},3:{halign:"center",cellWidth:25},4:{halign:"right",cellWidth:18},5:{halign:"center",cellWidth:12},6:{halign:"right",cellWidth:18},7:{halign:"left",cellWidth:35}},margin:{left:a,right:a,bottom:o},tableWidth:"wrap",pageBreak:"auto",showHead:"everyPage",didDrawPage:k=>{p(k.pageNumber,r.getNumberOfPages())}}),l=r.lastAutoTable.finalY,e.serviceCharges&&e.serviceCharges.length>0){l+=10,m(60),r.setFillColor(...d.warning),r.roundedRect(a,l,i-2*a,8,1,1,"F"),r.setTextColor(255,255,255),r.setFontSize(10),r.setFont("helvetica","bold"),r.text("ADDITIONAL SERVICES REQUIRED",a+5,l+5),l+=12;const k=["S.No","Service Description","Instructions"],z=e.serviceCharges.map((V,A)=>[(A+1).toString(),V.description,"Follow standard procedure"]);r.autoTable({startY:l,head:[k],body:z,theme:"grid",headStyles:{fillColor:d.warning,textColor:[255,255,255],fontSize:8,fontStyle:"bold",halign:"center",valign:"middle",cellPadding:2},bodyStyles:{fontSize:8,cellPadding:2,valign:"middle",lineColor:d.border,lineWidth:.1},columnStyles:{0:{halign:"center",cellWidth:15},1:{halign:"left",cellWidth:100},2:{halign:"left",cellWidth:65}},margin:{left:a,right:a,bottom:o},tableWidth:"wrap",pageBreak:"auto",showHead:"everyPage",didDrawPage:V=>{p(V.pageNumber,r.getNumberOfPages())}}),l=r.lastAutoTable.finalY}l+=15,m(40);const F=35;r.setFillColor(...d.light),r.roundedRect(a,l,i-2*a,F,2,2,"F"),r.setDrawColor(...d.border),r.setLineWidth(.3),r.roundedRect(a,l,i-2*a,F,2,2,"S"),r.setTextColor(...d.warning),r.setFontSize(10),r.setFont("helvetica","bold"),r.text("PRODUCTION SUMMARY",a+8,l+8),r.setTextColor(...d.dark),r.setFont("helvetica","normal"),r.setFontSize(9);const x=e.parts.length,w=e.parts.reduce((k,z)=>k+z.quantity,0),j=e.parts.reduce((k,z)=>k+z.volume*z.quantity,0);r.text(`Total Parts: ${x}`,a+8,l+16),r.text(`Total Quantity: ${w}`,a+8,l+22),r.text(`Total Volume: ${j.toFixed(2)} cm`,a+8,l+28);const S=a+(i-2*a)/2+8;r.setFont("helvetica","bold"),r.text("PRODUCTION CHECKLIST:",S,l+16),r.setFont("helvetica","normal"),r.setFontSize(9),[" Material verified"," Technology confirmed"," Quality check passed"," Packaging completed"].forEach((k,z)=>{r.text(k,S,l+28+z*8)});const E=r.getNumberOfPages();for(let k=1;k<=E;k++)r.setPage(k),p(k,E);const T=`JobWork_${e.orderNumber}_${new Date().toISOString().split("T")[0]}.pdf`;r.save(T)}}const Bw=({parts:t,customer:e,selectedCustomerId:n,technologiesData:r,onDiscountChange:i,discount:s,notes:a,onNotesChange:o,paymentTerms:l,onPaymentTermsChange:d,leadTime:p,onLeadTimeChange:m,shippingAddressType:g,onShippingAddressTypeChange:f,serviceCharges:b,onServiceChargesChange:N,onSaveQuotation:F,onClearQuotation:x,isEditingMode:w=!1})=>{const[j,S]=Ee.useState(!1),[P,E]=Ee.useState(!1),[T,k]=Ee.useState(!1),[z,V]=Ee.useState(""),[A,_]=Ee.useState(""),R=t.reduce((ne,J)=>ne+J.totalPrice,0),B=b.reduce((ne,J)=>ne+J.amount,0),ae=R+B,H=s||0,Y=ae*H/100,W=ae-Y,G=e&&W>0?zn(W,e):null,te=W+((G==null?void 0:G.total)||0),le=t.length,L=t.reduce((ne,J)=>ne+J.quantity,0),U=t.reduce((ne,J)=>ne+J.volume*J.quantity,0),Q=le>0||e||b.length>0,K=(le>0||b.length>0)&&e&&ae>0,ee=l||(e==null?void 0:e.payment_terms),ce=p||"3-5 days",he=async()=>{if(!(!K||!F||!e)){S(!0);try{await F(),console.log("Quotation saved successfully")}catch(ne){console.error("Error saving quotation:",ne),alert("Failed to save quotation. Please try again.")}finally{S(!1)}}},fe=async()=>{if(!(!K||!e)){E(!0);try{const ne={id:`temp_${Date.now()}`,quotationNumber:`TEMP_${new Date().getFullYear()}${String(new Date().getMonth()+1).padStart(2,"0")}${String(new Date().getDate()).padStart(2,"0")}_001`,customerId:n||"temp",customerName:e.company_name,parts:t.map(J=>({id:J.id,serialNumber:J.serialNumber,fileName:J.fileName,fileType:J.fileType,volume:J.volume,boundingBox:J.boundingBox,technology:J.technology,material:J.material,quantity:J.quantity,unitPrice:J.unitPrice,totalPrice:J.totalPrice,gstAmount:J.gstAmount,finalPrice:J.finalPrice,comments:J.comments})),totalBasePrice:ae,discount:s||0,totalGST:(G==null?void 0:G.total)||0,finalPrice:te,status:"Draft",createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),notes:a||"",paymentTerms:ee||"",leadTime:ce,validUntil:new Date(Date.now()+2592e6).toISOString(),gstType:(G==null?void 0:G.type)||"INTRASTATE",serviceCharges:b,totalServiceCharges:B};await pc.generateQuotationPDF(ne,e,r),console.log("PDF downloaded successfully")}catch(ne){console.error("Error generating PDF:",ne),alert("Failed to generate PDF. Please try again.")}finally{E(!1)}}},Ae=async()=>{if(!(!K||!e)){k(!0);try{await pc.generatePartsListPDF(t,e,U),console.log("Parts list PDF generated successfully")}catch(ne){console.error("Error generating parts list PDF:",ne),alert("Failed to generate parts list PDF. Please try again.")}finally{k(!1)}}},ge=["100% advance","60% advance and rest upon delivery","Payment on delivery","Net 15","Net 30","Net 45","Net 60"],we=()=>{if(!z.trim()||!A||parseFloat(A)<=0){alert("Please enter a valid service description and amount.");return}const ne={id:`service_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,description:z.trim(),amount:parseFloat(A)};N&&N([...b,ne]),V(""),_("")},Se=ne=>{N&&N(b.filter(J=>J.id!==ne))},Le=(ne,J,Ue)=>{N&&N(b.map(Te=>Te.id===ne?{...Te,[J]:Ue}:Te))};return c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 sticky top-4",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center space-x-2",children:[c.jsx($d,{className:"h-5 w-5"}),c.jsx("span",{children:"Quotation Summary"}),w&&c.jsxs("div",{className:"flex items-center space-x-1 text-sm text-blue-600",children:[c.jsx(Nc,{className:"h-3 w-3"}),c.jsx("span",{className:"text-xs",children:"Editing"})]})]}),c.jsxs("div",{className:"mb-4 p-3 bg-indigo-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx(Eo,{className:"h-4 w-4 text-indigo-600"}),c.jsx("h4",{className:"font-medium text-indigo-900",children:Vr.name})]}),c.jsxs("p",{className:"text-sm text-indigo-700",children:["GSTN: ",Vr.gstn]}),c.jsxs("p",{className:"text-sm text-indigo-700",children:[Vr.address.city,", ",Vr.address.state]})]}),e&&c.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg",children:[c.jsx("h4",{className:"font-medium text-gray-900",children:e.company_name}),c.jsx("p",{className:"text-sm text-gray-600",children:e.contact_person}),c.jsx("p",{className:"text-sm text-gray-600",children:e.email}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Delivery: ",e.shipping_address.city,", ",e.shipping_address.state]})]}),le>0&&c.jsxs("div",{className:"space-y-3 mb-6",children:[c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Total Parts:"}),c.jsx("span",{className:"font-medium",children:le})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Total Quantity:"}),c.jsx("span",{className:"font-medium",children:L})]}),c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{className:"text-gray-600",children:"Total Volume:"}),c.jsxs("span",{className:"font-medium",children:[U.toFixed(2)," cm"]})]})]}),e&&d&&c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ri,{className:"h-4 w-4"}),c.jsx("span",{children:"Payment Terms"})]})}),c.jsxs("select",{value:l||"",onChange:ne=>d(ne.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[c.jsxs("option",{value:"",children:["Use customer default (",e.payment_terms,")"]}),ge.map(ne=>c.jsx("option",{value:ne,children:ne},ne))]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:l?`Using custom terms: ${l}`:`Using customer default: ${e.payment_terms}`})]}),e&&f&&c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:c.jsx("div",{className:"flex items-center space-x-2",children:c.jsx("span",{children:"Shipping Address"})})}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("label",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"radio",name:"shippingAddress",value:"billing",checked:g==="billing",onChange:()=>f("billing"),className:"text-indigo-600 focus:ring-indigo-500"}),c.jsx("span",{className:"text-sm text-gray-700",children:"Same as billing address"})]}),c.jsxs("label",{className:"flex items-center space-x-2",children:[c.jsx("input",{type:"radio",name:"shippingAddress",value:"shipping",checked:g==="shipping",onChange:()=>f("shipping"),className:"text-indigo-600 focus:ring-indigo-500"}),c.jsx("span",{className:"text-sm text-gray-700",children:"Use separate shipping address"})]})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:g==="billing"?'Invoice will show: "Billing & Shipping Address: Same"':"Invoice will show both addresses separately"})]}),e&&m&&c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:c.jsx("div",{className:"flex items-center space-x-2",children:c.jsx("span",{children:"Lead Time"})})}),c.jsx("input",{type:"text",value:p||"",onChange:ne=>m(ne.target.value),placeholder:"3-5 days",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:p?`Using custom lead time: ${p}`:"Using default: 3-5 days"})]}),le>0&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-gray-700",children:"Parts Total:"}),c.jsxs("span",{className:"text-lg font-semibold",children:["",R.toFixed(2)]})]}),c.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[c.jsx("div",{className:"flex items-center justify-between mb-3",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(S5,{className:"h-4 w-4 text-gray-600"}),c.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Additional Services"})]})}),N&&c.jsxs("div",{className:"space-y-2 mb-3",children:[c.jsx("input",{type:"text",value:z,onChange:ne=>V(ne.target.value),placeholder:"Service description (e.g., Heat inserts, Painting, Delivery)",className:"w-full px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"}),c.jsxs("div",{className:"flex space-x-2",children:[c.jsx("input",{type:"number",min:"0",step:"0.01",value:A,onChange:ne=>_(ne.target.value),placeholder:"Amount ()",className:"flex-1 px-3 py-2 text-sm border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"}),c.jsxs("button",{type:"button",onClick:we,className:"px-3 py-2 bg-green-600 text-white text-sm rounded-md hover:bg-green-700 transition-colors duration-200 flex items-center space-x-1",children:[c.jsx(fi,{className:"h-3 w-3"}),c.jsx("span",{children:"Add"})]})]})]}),b.length>0&&c.jsxs("div",{className:"space-y-2 mb-3",children:[b.map(ne=>c.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 rounded-md",children:[c.jsx("div",{className:"flex-1",children:N?c.jsx("input",{type:"text",value:ne.description,onChange:J=>Le(ne.id,"description",J.target.value),className:"w-full text-sm bg-transparent border-none focus:outline-none"}):c.jsx("span",{className:"text-sm text-gray-700",children:ne.description})}),c.jsxs("div",{className:"flex items-center space-x-2",children:[N?c.jsx("input",{type:"number",min:"0",step:"0.01",value:ne.amount,onChange:J=>Le(ne.id,"amount",parseFloat(J.target.value)||0),className:"w-20 text-sm text-right bg-transparent border-none focus:outline-none"}):c.jsxs("span",{className:"text-sm font-medium",children:["",ne.amount.toFixed(2)]}),N&&c.jsx("button",{type:"button",onClick:()=>Se(ne.id),className:"p-1 text-red-600 hover:text-red-800 transition-colors duration-200",children:c.jsx(xi,{className:"h-3 w-3"})})]})]},ne.id)),c.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200",children:[c.jsx("span",{className:"text-sm text-gray-600",children:"Services Total:"}),c.jsxs("span",{className:"text-sm font-semibold",children:["",B.toFixed(2)]})]})]})]}),(le>0||b.length>0)&&c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-gray-700",children:"Subtotal:"}),c.jsxs("span",{className:"text-lg font-semibold",children:["",ae.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Discount (%)"}),c.jsxs("div",{className:"relative",children:[c.jsx(N3,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),c.jsx("input",{type:"number",min:"0",max:"100",step:"0.1",value:s||"",onChange:ne=>i(parseFloat(ne.target.value)||0),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Enter discount percentage"})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty for no discount"})]}),H>0&&c.jsxs("div",{className:"flex justify-between items-center text-green-600",children:[c.jsxs("span",{children:["Discount (",H.toFixed(1),"%):"]}),c.jsxs("span",{children:["-",Y.toFixed(2)]})]}),H>0&&c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-gray-700",children:"After Discount:"}),c.jsxs("span",{className:"font-semibold",children:["",W.toFixed(2)]})]}),G&&e&&c.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx(N5,{className:"h-4 w-4 text-yellow-600"}),c.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"GST Breakdown"})]}),c.jsxs("div",{className:"text-sm text-yellow-700",children:[c.jsx("p",{children:_5(G)}),c.jsxs("div",{className:"flex justify-between mt-1",children:[c.jsx("span",{children:"Total GST:"}),c.jsxs("span",{className:"font-medium",children:["",G.total.toFixed(2)]})]})]})]}),c.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("span",{className:"text-lg font-semibold text-gray-900",children:"Final Price:"}),c.jsxs("span",{className:"text-2xl font-bold text-indigo-600",children:["",te.toFixed(2)]})]}),G&&c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"(Inclusive of all taxes)"})]})]}),(le>0||b.length>0)&&c.jsxs("div",{className:"mt-6",children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),c.jsx("textarea",{value:a,onChange:ne=>o(ne.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"Add any special instructions or notes..."})]}),c.jsxs("div",{className:"mt-6 space-y-2",children:[c.jsx("button",{onClick:he,disabled:!K||j,className:"w-full bg-indigo-600 text-white py-2.5 px-4 rounded-lg hover:bg-indigo-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors duration-200 flex items-center justify-center space-x-2",children:j?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),c.jsx("span",{children:w?"Updating...":"Saving..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Oo,{className:"h-4 w-4"}),c.jsx("span",{children:w?"Update Quote":"Save Quote"})]})}),c.jsx("button",{onClick:Ae,disabled:!K||T,className:"w-full bg-purple-600 text-white py-2.5 px-4 rounded-lg hover:bg-purple-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors duration-200 flex items-center justify-center space-x-2",children:T?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),c.jsx("span",{children:"Generating Parts List..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(dc,{className:"h-4 w-4"}),c.jsx("span",{children:"Download Parts List"})]})}),c.jsx("button",{onClick:fe,disabled:!K||P,className:"w-full bg-green-600 text-white py-2.5 px-4 rounded-lg hover:bg-green-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors duration-200 flex items-center justify-center space-x-2",children:P?c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),c.jsx("span",{children:"Generating PDF..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(dc,{className:"h-4 w-4"}),c.jsx("span",{children:"Download Quote"})]})})]}),K&&c.jsx("div",{className:"mt-3 text-xs text-gray-500 text-center",children:c.jsx("p",{children:"Save to store in database  Download to get PDF  Parts List for production"})}),Q&&c.jsxs("div",{className:"mt-4 p-3 bg-green-50 border border-green-200 rounded-lg",children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Oo,{className:"h-4 w-4 text-green-600"}),c.jsx("span",{className:"text-sm text-green-800",children:"Auto-saved locally"})]}),c.jsx("p",{className:"text-xs text-green-700 mt-1",children:"Your progress is automatically saved and will be restored when you return."})]})]})},qw=({parts:t,selectedParts:e,technologiesData:n,customer:r,onUpdateParts:i,onDeleteAllParts:s,onToggleSelectAll:a})=>{const[o,l]=Ee.useState(!1),[d,p]=Ee.useState(""),[m,g]=Ee.useState(""),[f,b]=Ee.useState(""),N=Object.entries(n.technologies),F=d?n.technologies[d]:null,x=F?Object.entries(F.materials):[],w=t.length>0&&e.length===t.length,j=e.length>0&&e.length<t.length,S=k=>{p(k),g("")},P=()=>{if(e.length===0){console.log("No parts selected for bulk update");return}const k=e.map(V=>V.id);console.log("Applying bulk changes to parts:",k),console.log("Selected technology:",d),console.log("Selected material:",m),console.log("Selected quantity:",f);let z={};d&&(z.technology=d,m||(z.material=void 0,z.unitPrice=0,z.totalPrice=0,z.gstAmount=0,z.finalPrice=0),m&&(z.material=m)),f!==""&&f>0&&(z.quantity=f),console.log("Updates to apply:",z),i(k,z),l(!1),p(""),g(""),b("")},E=()=>{window.confirm("Are you sure you want to delete all parts? This action cannot be undone.")&&s()},T=()=>{console.log("Toggle select all clicked"),console.log("Current state - All selected:",w,"Parts count:",t.length,"Selected count:",e.length),a()};return c.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 mb-6",children:[c.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[c.jsx("div",{className:"flex items-center space-x-4",children:c.jsxs("button",{type:"button",onClick:T,className:"flex items-center space-x-2 text-sm text-gray-600 hover:text-gray-800 transition-colors duration-200",children:[w?c.jsx(v3,{className:"h-4 w-4 text-indigo-600"}):j?c.jsx("div",{className:"h-4 w-4 border border-gray-400 bg-indigo-100 rounded flex items-center justify-center",children:c.jsx("div",{className:"h-2 w-2 bg-indigo-600 rounded-sm"})}):c.jsx(A3,{className:"h-4 w-4"}),c.jsxs("span",{children:[w?"Deselect All":"Select All",e.length>0&&` (${e.length} selected)`]})]})}),c.jsxs("div",{className:"flex items-center space-x-2",children:[e.length>0&&c.jsxs("button",{type:"button",onClick:()=>l(!o),className:"bg-indigo-600 text-white px-3 py-2 rounded-lg hover:bg-indigo-700 transition-colors duration-200 flex items-center space-x-2",children:[c.jsx(_3,{className:"h-4 w-4"}),c.jsxs("span",{children:["Bulk Edit (",e.length,")"]})]}),t.length>0&&c.jsxs("button",{type:"button",onClick:E,className:"bg-red-600 text-white px-3 py-2 rounded-lg hover:bg-red-700 transition-colors duration-200 flex items-center space-x-2",children:[c.jsx(xi,{className:"h-4 w-4"}),c.jsx("span",{children:"Delete All"})]})]})]}),o&&e.length>0&&c.jsxs("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[c.jsxs("h4",{className:"text-sm font-medium text-gray-900 mb-3",children:["Bulk Edit ",e.length," Selected Parts"]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Technology"}),c.jsxs("select",{value:d,onChange:k=>S(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[c.jsx("option",{value:"",children:"Select Technology"}),N.map(([k,z])=>c.jsx("option",{value:k,children:z.name},k))]})]}),d&&c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Material"}),c.jsxs("select",{value:m,onChange:k=>g(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[c.jsx("option",{value:"",children:"Select Material (Optional)"}),x.map(([k,z])=>c.jsxs("option",{value:k,children:[z.name," - ",z.cost_per_cc.toFixed(2),"/cm"]},k))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),c.jsx("input",{type:"number",min:"1",value:f,onChange:k=>b(k.target.value?parseInt(k.target.value):""),placeholder:"Leave empty to keep current",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"})]})]}),c.jsxs("div",{className:"flex justify-end space-x-2 mt-4",children:[c.jsx("button",{type:"button",onClick:()=>l(!1),className:"px-3 py-2 text-gray-600 hover:text-gray-800 transition-colors duration-200",children:"Cancel"}),c.jsx("button",{type:"button",onClick:P,disabled:!d&&f==="",className:"bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition-colors duration-200",children:"Apply Changes"})]})]})]})};/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const G5="160",Q5=300,Hm=1e3,Ou=1001,$m=1002,Vm=1003,Uw=1006,Ww=1008,Hw=1009,$w=1014,Vw=1020,Gw=1023,Nf=1026,Gm=1027,Qw=3e3,Sf=3001,jf="",_f="srgb",Yw=515,zu=2e3,Qm=2001;class Y5{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,a=i.length;s<a;s++)i[s].call(this,e);e.target=null}}}const kn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function Op(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(kn[t&255]+kn[t>>8&255]+kn[t>>16&255]+kn[t>>24&255]+"-"+kn[e&255]+kn[e>>8&255]+"-"+kn[e>>16&15|64]+kn[e>>24&255]+"-"+kn[n&63|128]+kn[n>>8&255]+"-"+kn[n>>16&255]+kn[n>>24&255]+kn[r&255]+kn[r>>8&255]+kn[r>>16&255]+kn[r>>24&255]).toLowerCase()}function Ei(t,e,n){return Math.max(e,Math.min(n,t))}class Gl{constructor(e=0,n=0){Gl.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Ei(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,a=this.y-e.y;return this.x=s*r-a*i+e.x,this.y=s*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class jc{constructor(e,n,r,i,s,a,o,l,d){jc.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,a,o,l,d)}set(e,n,r,i,s,a,o,l,d){const p=this.elements;return p[0]=e,p[1]=i,p[2]=o,p[3]=n,p[4]=s,p[5]=l,p[6]=r,p[7]=a,p[8]=d,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,a=r[0],o=r[3],l=r[6],d=r[1],p=r[4],m=r[7],g=r[2],f=r[5],b=r[8],N=i[0],F=i[3],x=i[6],w=i[1],j=i[4],S=i[7],P=i[2],E=i[5],T=i[8];return s[0]=a*N+o*w+l*P,s[3]=a*F+o*j+l*E,s[6]=a*x+o*S+l*T,s[1]=d*N+p*w+m*P,s[4]=d*F+p*j+m*E,s[7]=d*x+p*S+m*T,s[2]=g*N+f*w+b*P,s[5]=g*F+f*j+b*E,s[8]=g*x+f*S+b*T,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],d=e[7],p=e[8];return n*a*p-n*o*d-r*s*p+r*o*l+i*s*d-i*a*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],d=e[7],p=e[8],m=p*a-o*d,g=o*l-p*s,f=d*s-a*l,b=n*m+r*g+i*f;if(b===0)return this.set(0,0,0,0,0,0,0,0,0);const N=1/b;return e[0]=m*N,e[1]=(i*d-p*r)*N,e[2]=(o*r-i*a)*N,e[3]=g*N,e[4]=(p*n-i*l)*N,e[5]=(i*s-o*n)*N,e[6]=f*N,e[7]=(r*l-d*n)*N,e[8]=(a*n-r*s)*N,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,a,o){const l=Math.cos(s),d=Math.sin(s);return this.set(r*l,r*d,-r*(l*a+d*o)+a+e,-i*d,i*l,-i*(-d*a+l*o)+o+n,0,0,1),this}scale(e,n){return this.premultiply(Af.makeScale(e,n)),this}rotate(e){return this.premultiply(Af.makeRotation(-e)),this}translate(e,n){return this.premultiply(Af.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Af=new jc;function Ym(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}const Jm={};function Cf(t){t in Jm||(Jm[t]=!0,console.warn(t))}function Pf(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}let no;class Jw{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{no===void 0&&(no=Ym("canvas")),no.width=e.width,no.height=e.height;const r=no.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=no}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Ym("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let a=0;a<s.length;a++)s[a]=Pf(s[a]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Pf(n[r]/255)*255):n[r]=Pf(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Xw=0;class Kw{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Xw++}),this.uuid=Op(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let a=0,o=i.length;a<o;a++)i[a].isDataTexture?s.push(kf(i[a].image)):s.push(kf(i[a]))}else s=kf(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function kf(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?Jw.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Zw=0;class Ls extends Y5{constructor(e=Ls.DEFAULT_IMAGE,n=Ls.DEFAULT_MAPPING,r=Ou,i=Ou,s=Uw,a=Ww,o=Gw,l=Hw,d=Ls.DEFAULT_ANISOTROPY,p=jf){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Zw++}),this.uuid=Op(),this.name="",this.source=new Kw(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=a,this.anisotropy=d,this.format=o,this.internalFormat=null,this.type=l,this.offset=new Gl(0,0),this.repeat=new Gl(1,1),this.center=new Gl(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new jc,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof p=="string"?this.colorSpace=p:(Cf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=p===Sf?_f:jf),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Q5)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Hm:e.x=e.x-Math.floor(e.x);break;case Ou:e.x=e.x<0?0:1;break;case $m:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Hm:e.y=e.y-Math.floor(e.y);break;case Ou:e.y=e.y<0?0:1;break;case $m:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Cf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===_f?Sf:Qw}set encoding(e){Cf("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===Sf?_f:jf}}Ls.DEFAULT_IMAGE=null;Ls.DEFAULT_MAPPING=Q5;Ls.DEFAULT_ANISOTROPY=1;class _c{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,a,o){let l=r[i+0],d=r[i+1],p=r[i+2],m=r[i+3];const g=s[a+0],f=s[a+1],b=s[a+2],N=s[a+3];if(o===0){e[n+0]=l,e[n+1]=d,e[n+2]=p,e[n+3]=m;return}if(o===1){e[n+0]=g,e[n+1]=f,e[n+2]=b,e[n+3]=N;return}if(m!==N||l!==g||d!==f||p!==b){let F=1-o;const x=l*g+d*f+p*b+m*N,w=x>=0?1:-1,j=1-x*x;if(j>Number.EPSILON){const P=Math.sqrt(j),E=Math.atan2(P,x*w);F=Math.sin(F*E)/P,o=Math.sin(o*E)/P}const S=o*w;if(l=l*F+g*S,d=d*F+f*S,p=p*F+b*S,m=m*F+N*S,F===1-o){const P=1/Math.sqrt(l*l+d*d+p*p+m*m);l*=P,d*=P,p*=P,m*=P}}e[n]=l,e[n+1]=d,e[n+2]=p,e[n+3]=m}static multiplyQuaternionsFlat(e,n,r,i,s,a){const o=r[i],l=r[i+1],d=r[i+2],p=r[i+3],m=s[a],g=s[a+1],f=s[a+2],b=s[a+3];return e[n]=o*b+p*m+l*f-d*g,e[n+1]=l*b+p*g+d*m-o*f,e[n+2]=d*b+p*f+o*g-l*m,e[n+3]=p*b-o*m-l*g-d*f,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,s=e._z,a=e._order,o=Math.cos,l=Math.sin,d=o(r/2),p=o(i/2),m=o(s/2),g=l(r/2),f=l(i/2),b=l(s/2);switch(a){case"XYZ":this._x=g*p*m+d*f*b,this._y=d*f*m-g*p*b,this._z=d*p*b+g*f*m,this._w=d*p*m-g*f*b;break;case"YXZ":this._x=g*p*m+d*f*b,this._y=d*f*m-g*p*b,this._z=d*p*b-g*f*m,this._w=d*p*m+g*f*b;break;case"ZXY":this._x=g*p*m-d*f*b,this._y=d*f*m+g*p*b,this._z=d*p*b+g*f*m,this._w=d*p*m-g*f*b;break;case"ZYX":this._x=g*p*m-d*f*b,this._y=d*f*m+g*p*b,this._z=d*p*b-g*f*m,this._w=d*p*m+g*f*b;break;case"YZX":this._x=g*p*m+d*f*b,this._y=d*f*m+g*p*b,this._z=d*p*b-g*f*m,this._w=d*p*m-g*f*b;break;case"XZY":this._x=g*p*m-d*f*b,this._y=d*f*m-g*p*b,this._z=d*p*b+g*f*m,this._w=d*p*m+g*f*b;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],a=n[1],o=n[5],l=n[9],d=n[2],p=n[6],m=n[10],g=r+o+m;if(g>0){const f=.5/Math.sqrt(g+1);this._w=.25/f,this._x=(p-l)*f,this._y=(s-d)*f,this._z=(a-i)*f}else if(r>o&&r>m){const f=2*Math.sqrt(1+r-o-m);this._w=(p-l)/f,this._x=.25*f,this._y=(i+a)/f,this._z=(s+d)/f}else if(o>m){const f=2*Math.sqrt(1+o-r-m);this._w=(s-d)/f,this._x=(i+a)/f,this._y=.25*f,this._z=(l+p)/f}else{const f=2*Math.sqrt(1+m-r-o);this._w=(a-i)/f,this._x=(s+d)/f,this._y=(l+p)/f,this._z=.25*f}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Ei(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,a=e._w,o=n._x,l=n._y,d=n._z,p=n._w;return this._x=r*p+a*o+i*d-s*l,this._y=i*p+a*l+s*o-r*d,this._z=s*p+a*d+r*l-i*o,this._w=a*p-r*o-i*l-s*d,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,a=this._w;let o=a*e._w+r*e._x+i*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=r,this._y=i,this._z=s,this;const l=1-o*o;if(l<=Number.EPSILON){const f=1-n;return this._w=f*a+n*this._w,this._x=f*r+n*this._x,this._y=f*i+n*this._y,this._z=f*s+n*this._z,this.normalize(),this}const d=Math.sqrt(l),p=Math.atan2(d,o),m=Math.sin((1-n)*p)/d,g=Math.sin(n*p)/d;return this._w=a*m+this._w*g,this._x=r*m+this._x*g,this._y=i*m+this._y*g,this._z=s*m+this._z*g,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(s),r*Math.cos(s),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class nt{constructor(e=0,n=0,r=0){nt.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(Xm.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(Xm.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,a=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*a,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*a,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*a,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,a=e.y,o=e.z,l=e.w,d=2*(a*i-o*r),p=2*(o*n-s*i),m=2*(s*r-a*n);return this.x=n+l*d+a*m-o*p,this.y=r+l*p+o*d-s*m,this.z=i+l*m+s*p-a*d,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,a=n.x,o=n.y,l=n.z;return this.x=i*l-s*o,this.y=s*a-r*l,this.z=r*o-i*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return Lf.copy(this).projectOnVector(e),this.sub(Lf)}reflect(e){return this.sub(Lf.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Ei(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Lf=new nt,Xm=new _c;class J5{constructor(e=new nt(1/0,1/0,1/0),n=new nt(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(qr.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(qr.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=qr.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,o=s.count;a<o;a++)e.isMesh===!0?e.getVertexPosition(a,qr):qr.fromBufferAttribute(s,a),qr.applyMatrix4(e.matrixWorld),this.expandByPoint(qr);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Ru.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Ru.copy(r.boundingBox)),Ru.applyMatrix4(e.matrixWorld),this.union(Ru)}const i=e.children;for(let s=0,a=i.length;s<a;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,qr),qr.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Cl),Bu.subVectors(this.max,Cl),ro.subVectors(e.a,Cl),io.subVectors(e.b,Cl),so.subVectors(e.c,Cl),us.subVectors(io,ro),ds.subVectors(so,io),Xs.subVectors(ro,so);let n=[0,-us.z,us.y,0,-ds.z,ds.y,0,-Xs.z,Xs.y,us.z,0,-us.x,ds.z,0,-ds.x,Xs.z,0,-Xs.x,-us.y,us.x,0,-ds.y,ds.x,0,-Xs.y,Xs.x,0];return!Ff(n,ro,io,so,Bu)||(n=[1,0,0,0,1,0,0,0,1],!Ff(n,ro,io,so,Bu))?!1:(qu.crossVectors(us,ds),n=[qu.x,qu.y,qu.z],Ff(n,ro,io,so,Bu))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,qr).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(qr).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Ti[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ti[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ti[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ti[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ti[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ti[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ti[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ti[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ti),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ti=[new nt,new nt,new nt,new nt,new nt,new nt,new nt,new nt],qr=new nt,Ru=new J5,ro=new nt,io=new nt,so=new nt,us=new nt,ds=new nt,Xs=new nt,Cl=new nt,Bu=new nt,qu=new nt,Ks=new nt;function Ff(t,e,n,r,i){for(let s=0,a=t.length-3;s<=a;s+=3){Ks.fromArray(t,s);const o=i.x*Math.abs(Ks.x)+i.y*Math.abs(Ks.y)+i.z*Math.abs(Ks.z),l=e.dot(Ks),d=n.dot(Ks),p=r.dot(Ks);if(Math.max(-Math.max(l,d,p),Math.min(l,d,p))>o)return!1}return!0}class qi{constructor(e,n,r,i,s,a,o,l,d,p,m,g,f,b,N,F){qi.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,a,o,l,d,p,m,g,f,b,N,F)}set(e,n,r,i,s,a,o,l,d,p,m,g,f,b,N,F){const x=this.elements;return x[0]=e,x[4]=n,x[8]=r,x[12]=i,x[1]=s,x[5]=a,x[9]=o,x[13]=l,x[2]=d,x[6]=p,x[10]=m,x[14]=g,x[3]=f,x[7]=b,x[11]=N,x[15]=F,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new qi().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/ao.setFromMatrixColumn(e,0).length(),s=1/ao.setFromMatrixColumn(e,1).length(),a=1/ao.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,a=Math.cos(r),o=Math.sin(r),l=Math.cos(i),d=Math.sin(i),p=Math.cos(s),m=Math.sin(s);if(e.order==="XYZ"){const g=a*p,f=a*m,b=o*p,N=o*m;n[0]=l*p,n[4]=-l*m,n[8]=d,n[1]=f+b*d,n[5]=g-N*d,n[9]=-o*l,n[2]=N-g*d,n[6]=b+f*d,n[10]=a*l}else if(e.order==="YXZ"){const g=l*p,f=l*m,b=d*p,N=d*m;n[0]=g+N*o,n[4]=b*o-f,n[8]=a*d,n[1]=a*m,n[5]=a*p,n[9]=-o,n[2]=f*o-b,n[6]=N+g*o,n[10]=a*l}else if(e.order==="ZXY"){const g=l*p,f=l*m,b=d*p,N=d*m;n[0]=g-N*o,n[4]=-a*m,n[8]=b+f*o,n[1]=f+b*o,n[5]=a*p,n[9]=N-g*o,n[2]=-a*d,n[6]=o,n[10]=a*l}else if(e.order==="ZYX"){const g=a*p,f=a*m,b=o*p,N=o*m;n[0]=l*p,n[4]=b*d-f,n[8]=g*d+N,n[1]=l*m,n[5]=N*d+g,n[9]=f*d-b,n[2]=-d,n[6]=o*l,n[10]=a*l}else if(e.order==="YZX"){const g=a*l,f=a*d,b=o*l,N=o*d;n[0]=l*p,n[4]=N-g*m,n[8]=b*m+f,n[1]=m,n[5]=a*p,n[9]=-o*p,n[2]=-d*p,n[6]=f*m+b,n[10]=g-N*m}else if(e.order==="XZY"){const g=a*l,f=a*d,b=o*l,N=o*d;n[0]=l*p,n[4]=-m,n[8]=d*p,n[1]=g*m+N,n[5]=a*p,n[9]=f*m-b,n[2]=b*m-f,n[6]=o*p,n[10]=N*m+g}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(e4,e,t4)}lookAt(e,n,r){const i=this.elements;return sr.subVectors(e,n),sr.lengthSq()===0&&(sr.z=1),sr.normalize(),hs.crossVectors(r,sr),hs.lengthSq()===0&&(Math.abs(r.z)===1?sr.x+=1e-4:sr.z+=1e-4,sr.normalize(),hs.crossVectors(r,sr)),hs.normalize(),Uu.crossVectors(sr,hs),i[0]=hs.x,i[4]=Uu.x,i[8]=sr.x,i[1]=hs.y,i[5]=Uu.y,i[9]=sr.y,i[2]=hs.z,i[6]=Uu.z,i[10]=sr.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,a=r[0],o=r[4],l=r[8],d=r[12],p=r[1],m=r[5],g=r[9],f=r[13],b=r[2],N=r[6],F=r[10],x=r[14],w=r[3],j=r[7],S=r[11],P=r[15],E=i[0],T=i[4],k=i[8],z=i[12],V=i[1],A=i[5],_=i[9],R=i[13],B=i[2],ae=i[6],H=i[10],Y=i[14],W=i[3],G=i[7],te=i[11],le=i[15];return s[0]=a*E+o*V+l*B+d*W,s[4]=a*T+o*A+l*ae+d*G,s[8]=a*k+o*_+l*H+d*te,s[12]=a*z+o*R+l*Y+d*le,s[1]=p*E+m*V+g*B+f*W,s[5]=p*T+m*A+g*ae+f*G,s[9]=p*k+m*_+g*H+f*te,s[13]=p*z+m*R+g*Y+f*le,s[2]=b*E+N*V+F*B+x*W,s[6]=b*T+N*A+F*ae+x*G,s[10]=b*k+N*_+F*H+x*te,s[14]=b*z+N*R+F*Y+x*le,s[3]=w*E+j*V+S*B+P*W,s[7]=w*T+j*A+S*ae+P*G,s[11]=w*k+j*_+S*H+P*te,s[15]=w*z+j*R+S*Y+P*le,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],a=e[1],o=e[5],l=e[9],d=e[13],p=e[2],m=e[6],g=e[10],f=e[14],b=e[3],N=e[7],F=e[11],x=e[15];return b*(+s*l*m-i*d*m-s*o*g+r*d*g+i*o*f-r*l*f)+N*(+n*l*f-n*d*g+s*a*g-i*a*f+i*d*p-s*l*p)+F*(+n*d*m-n*o*f-s*a*m+r*a*f+s*o*p-r*d*p)+x*(-i*o*p-n*l*m+n*o*g+i*a*m-r*a*g+r*l*p)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],d=e[7],p=e[8],m=e[9],g=e[10],f=e[11],b=e[12],N=e[13],F=e[14],x=e[15],w=m*F*d-N*g*d+N*l*f-o*F*f-m*l*x+o*g*x,j=b*g*d-p*F*d-b*l*f+a*F*f+p*l*x-a*g*x,S=p*N*d-b*m*d+b*o*f-a*N*f-p*o*x+a*m*x,P=b*m*l-p*N*l-b*o*g+a*N*g+p*o*F-a*m*F,E=n*w+r*j+i*S+s*P;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/E;return e[0]=w*T,e[1]=(N*g*s-m*F*s-N*i*f+r*F*f+m*i*x-r*g*x)*T,e[2]=(o*F*s-N*l*s+N*i*d-r*F*d-o*i*x+r*l*x)*T,e[3]=(m*l*s-o*g*s-m*i*d+r*g*d+o*i*f-r*l*f)*T,e[4]=j*T,e[5]=(p*F*s-b*g*s+b*i*f-n*F*f-p*i*x+n*g*x)*T,e[6]=(b*l*s-a*F*s-b*i*d+n*F*d+a*i*x-n*l*x)*T,e[7]=(a*g*s-p*l*s+p*i*d-n*g*d-a*i*f+n*l*f)*T,e[8]=S*T,e[9]=(b*m*s-p*N*s-b*r*f+n*N*f+p*r*x-n*m*x)*T,e[10]=(a*N*s-b*o*s+b*r*d-n*N*d-a*r*x+n*o*x)*T,e[11]=(p*o*s-a*m*s-p*r*d+n*m*d+a*r*f-n*o*f)*T,e[12]=P*T,e[13]=(p*N*i-b*m*i+b*r*g-n*N*g-p*r*F+n*m*F)*T,e[14]=(b*o*i-a*N*i-b*r*l+n*N*l+a*r*F-n*o*F)*T,e[15]=(a*m*i-p*o*i+p*r*l-n*m*l-a*r*g+n*o*g)*T,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,a=e.x,o=e.y,l=e.z,d=s*a,p=s*o;return this.set(d*a+r,d*o-i*l,d*l+i*o,0,d*o+i*l,p*o+r,p*l-i*a,0,d*l-i*o,p*l+i*a,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,a){return this.set(1,r,s,0,e,1,a,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,a=n._y,o=n._z,l=n._w,d=s+s,p=a+a,m=o+o,g=s*d,f=s*p,b=s*m,N=a*p,F=a*m,x=o*m,w=l*d,j=l*p,S=l*m,P=r.x,E=r.y,T=r.z;return i[0]=(1-(N+x))*P,i[1]=(f+S)*P,i[2]=(b-j)*P,i[3]=0,i[4]=(f-S)*E,i[5]=(1-(g+x))*E,i[6]=(F+w)*E,i[7]=0,i[8]=(b+j)*T,i[9]=(F-w)*T,i[10]=(1-(g+N))*T,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=ao.set(i[0],i[1],i[2]).length();const a=ao.set(i[4],i[5],i[6]).length(),o=ao.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],Ur.copy(this);const d=1/s,p=1/a,m=1/o;return Ur.elements[0]*=d,Ur.elements[1]*=d,Ur.elements[2]*=d,Ur.elements[4]*=p,Ur.elements[5]*=p,Ur.elements[6]*=p,Ur.elements[8]*=m,Ur.elements[9]*=m,Ur.elements[10]*=m,n.setFromRotationMatrix(Ur),r.x=s,r.y=a,r.z=o,this}makePerspective(e,n,r,i,s,a,o=zu){const l=this.elements,d=2*s/(n-e),p=2*s/(r-i),m=(n+e)/(n-e),g=(r+i)/(r-i);let f,b;if(o===zu)f=-(a+s)/(a-s),b=-2*a*s/(a-s);else if(o===Qm)f=-a/(a-s),b=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return l[0]=d,l[4]=0,l[8]=m,l[12]=0,l[1]=0,l[5]=p,l[9]=g,l[13]=0,l[2]=0,l[6]=0,l[10]=f,l[14]=b,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,s,a,o=zu){const l=this.elements,d=1/(n-e),p=1/(r-i),m=1/(a-s),g=(n+e)*d,f=(r+i)*p;let b,N;if(o===zu)b=(a+s)*m,N=-2*m;else if(o===Qm)b=s*m,N=-1*m;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return l[0]=2*d,l[4]=0,l[8]=0,l[12]=-g,l[1]=0,l[5]=2*p,l[9]=0,l[13]=-f,l[2]=0,l[6]=0,l[10]=N,l[14]=-b,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const ao=new nt,Ur=new qi,e4=new nt(0,0,0),t4=new nt(1,1,1),hs=new nt,Uu=new nt,sr=new nt,Km=new qi,Zm=new _c;class Yd{constructor(e=0,n=0,r=0,i=Yd.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],a=i[4],o=i[8],l=i[1],d=i[5],p=i[9],m=i[2],g=i[6],f=i[10];switch(n){case"XYZ":this._y=Math.asin(Ei(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-p,f),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(g,d),this._z=0);break;case"YXZ":this._x=Math.asin(-Ei(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(o,f),this._z=Math.atan2(l,d)):(this._y=Math.atan2(-m,s),this._z=0);break;case"ZXY":this._x=Math.asin(Ei(g,-1,1)),Math.abs(g)<.9999999?(this._y=Math.atan2(-m,f),this._z=Math.atan2(-a,d)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Ei(m,-1,1)),Math.abs(m)<.9999999?(this._x=Math.atan2(g,f),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,d));break;case"YZX":this._z=Math.asin(Ei(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-p,d),this._y=Math.atan2(-m,s)):(this._x=0,this._y=Math.atan2(o,f));break;case"XZY":this._z=Math.asin(-Ei(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(g,d),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-p,f),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return Km.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Km,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return Zm.setFromEuler(this),this.setFromQuaternion(Zm,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Yd.DEFAULT_ORDER="XYZ";class n4{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let r4=0;const e2=new nt,oo=new _c,Mi=new qi,Wu=new nt,Pl=new nt,i4=new nt,s4=new _c,t2=new nt(1,0,0),n2=new nt(0,1,0),r2=new nt(0,0,1),a4={type:"added"},o4={type:"removed"};class fa extends Y5{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:r4++}),this.uuid=Op(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=fa.DEFAULT_UP.clone();const e=new nt,n=new Yd,r=new _c,i=new nt(1,1,1);function s(){r.setFromEuler(n,!1)}function a(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new qi},normalMatrix:{value:new jc}}),this.matrix=new qi,this.matrixWorld=new qi,this.matrixAutoUpdate=fa.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=fa.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new n4,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return oo.setFromAxisAngle(e,n),this.quaternion.multiply(oo),this}rotateOnWorldAxis(e,n){return oo.setFromAxisAngle(e,n),this.quaternion.premultiply(oo),this}rotateX(e){return this.rotateOnAxis(t2,e)}rotateY(e){return this.rotateOnAxis(n2,e)}rotateZ(e){return this.rotateOnAxis(r2,e)}translateOnAxis(e,n){return e2.copy(e).applyQuaternion(this.quaternion),this.position.add(e2.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(t2,e)}translateY(e){return this.translateOnAxis(n2,e)}translateZ(e){return this.translateOnAxis(r2,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Mi.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?Wu.copy(e):Wu.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Pl.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Mi.lookAt(Pl,Wu,this.up):Mi.lookAt(Wu,Pl,this.up),this.quaternion.setFromRotationMatrix(Mi),i&&(Mi.extractRotation(i.matrixWorld),oo.setFromRotationMatrix(Mi),this.quaternion.premultiply(oo.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(a4)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(o4)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Mi.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Mi.multiply(e.parent.matrixWorld)),e.applyMatrix4(Mi),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let s=0,a=i.length;s<a;s++)i[s].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Pl,e,i4),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Pl,s4,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const s=n[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,a=i.length;s<a;s++){const o=i[s];o.matrixWorldAutoUpdate===!0&&o.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(o=>({boxInitialized:o.boxInitialized,boxMin:o.box.min.toArray(),boxMax:o.box.max.toArray(),sphereInitialized:o.sphereInitialized,sphereRadius:o.sphere.radius,sphereCenter:o.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function s(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let d=0,p=l.length;d<p;d++){const m=l[d];s(e.shapes,m)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,d=this.material.length;l<d;l++)o.push(s(e.materials,this.material[l]));i.material=o}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];i.animations.push(s(e.animations,l))}}if(n){const o=a(e.geometries),l=a(e.materials),d=a(e.textures),p=a(e.images),m=a(e.shapes),g=a(e.skeletons),f=a(e.animations),b=a(e.nodes);o.length>0&&(r.geometries=o),l.length>0&&(r.materials=l),d.length>0&&(r.textures=d),p.length>0&&(r.images=p),m.length>0&&(r.shapes=m),g.length>0&&(r.skeletons=g),f.length>0&&(r.animations=f),b.length>0&&(r.nodes=b)}return r.object=i,r;function a(o){const l=[];for(const d in o){const p=o[d];delete p.metadata,l.push(p)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}fa.DEFAULT_UP=new nt(0,1,0);fa.DEFAULT_MATRIX_AUTO_UPDATE=!0;fa.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;class l4 extends Ls{constructor(e,n,r,i,s,a,o,l,d,p){if(p=p!==void 0?p:Nf,p!==Nf&&p!==Gm)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&p===Nf&&(r=$w),r===void 0&&p===Gm&&(r=Vw),super(null,i,s,a,o,l,p,r,d),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=o!==void 0?o:Vm,this.minFilter=l!==void 0?l:Vm,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const c4=new l4(1,1);c4.compareFunction=Yw;typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:G5}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=G5);class u4{static async parseFile(e){return new Promise((n,r)=>{const i=new FileReader;i.onload=s=>{var a;try{const o=(a=s.target)==null?void 0:a.result,l=this.parseSTL(o);n(l)}catch(o){r(o)}},i.onerror=()=>r(new Error("Failed to read file")),i.readAsArrayBuffer(e)})}static parseSTL(e){const n=new DataView(e);return this.isBinarySTL(e)?this.parseBinarySTL(n):this.parseAsciiSTL(e)}static isBinarySTL(e){if(e.byteLength<84)return!1;const i=84+new DataView(e).getUint32(80,!0)*50;return Math.abs(e.byteLength-i)<1e3}static parseBinarySTL(e){const n=e.getUint32(80,!0),r=[];let i=84;for(let s=0;s<n;s++){i+=12;for(let a=0;a<3;a++){const o=e.getFloat32(i,!0),l=e.getFloat32(i+4,!0),d=e.getFloat32(i+8,!0);r.push(new nt(o,l,d)),i+=12}i+=2}return this.calculateGeometry(r)}static parseAsciiSTL(e){const r=new TextDecoder().decode(e).split(`
`),i=[];for(let s=0;s<r.length;s++){const a=r[s].trim();if(a.startsWith("vertex")){const o=a.split(/\s+/);if(o.length>=4){const l=parseFloat(o[1]),d=parseFloat(o[2]),p=parseFloat(o[3]);i.push(new nt(l,d,p))}}}return this.calculateGeometry(i)}static calculateGeometry(e){if(e.length===0)throw new Error("No vertices found in STL file");const n=new J5;n.setFromPoints(e);const r=n.getSize(new nt),i={x:Math.abs(r.x),y:Math.abs(r.y),z:Math.abs(r.z)},s=this.calculateMeshVolume(e),a=Math.abs(s)/1e3;return{volume:Math.ceil(a),boundingBox:i}}static calculateMeshVolume(e){let n=0;for(let r=0;r<e.length;r+=3)if(r+2<e.length){const i=e[r],s=e[r+1],a=e[r+2],o=i.dot(s.clone().cross(a))/6;n+=o}return n}}class d4{static async parseFile(e){var r;const n=(r=e.name.split(".").pop())==null?void 0:r.toLowerCase();switch(n){case"stl":return u4.parseFile(e);case"step":case"stp":case"iges":case"igs":return this.getMockGeometry(e.name);default:throw new Error(`Unsupported file type: ${n}`)}}static getMockGeometry(e){const n=this.simpleHash(e),r=10+n%100,i=Math.ceil(r),s=Math.sqrt(i/10);return{volume:i,boundingBox:{x:20*s+n%10,y:15*s+n*2%8,z:10*s+n*3%6}}}static simpleHash(e){let n=0;for(let r=0;r<e.length;r++){const i=e.charCodeAt(r);n=(n<<5)-n+i,n=n&n}return Math.abs(n)}}const mc="current_quotation_state",X5=24;function K5(){const[t,e]=Ee.useState(()=>h4());return Ee.useEffect(()=>{f4(t)},[t]),{quotationState:t,updateSelectedCustomer:b=>{e(N=>({...N,selectedCustomerId:b,lastUpdated:new Date().toISOString()}))},updateParts:b=>{e(N=>({...N,parts:b,lastUpdated:new Date().toISOString()}))},updateDiscount:b=>{e(N=>({...N,discount:b,lastUpdated:new Date().toISOString()}))},updateNotes:b=>{e(N=>({...N,notes:b,lastUpdated:new Date().toISOString()}))},updatePaymentTerms:b=>{e(N=>({...N,paymentTerms:b,lastUpdated:new Date().toISOString()}))},updateLeadTime:b=>{e(N=>({...N,leadTime:b,lastUpdated:new Date().toISOString()}))},updateShippingAddressType:b=>{e(N=>({...N,shippingAddressType:b,lastUpdated:new Date().toISOString()}))},updateServiceCharges:b=>{e(N=>({...N,serviceCharges:b,lastUpdated:new Date().toISOString()}))},loadQuotationForEditing:b=>{const N=b.parts.map(F=>({...F,file:Z5(F.fileName,F.fileType),selected:!1}));e({selectedCustomerId:b.customerId,parts:N,discount:b.discount,notes:b.notes,paymentTerms:b.paymentTerms,leadTime:b.leadTime,shippingAddressType:b.shippingAddressType||"shipping",serviceCharges:b.serviceCharges||[],editingQuotationId:b.id,lastUpdated:new Date().toISOString()})},clearQuotationState:()=>{const b={selectedCustomerId:null,parts:[],discount:0,notes:"",paymentTerms:void 0,leadTime:void 0,shippingAddressType:"shipping",serviceCharges:[],lastUpdated:new Date().toISOString()};e(b),localStorage.removeItem(mc)},hasUnsavedChanges:()=>t.selectedCustomerId!==null||t.parts.length>0,isEditingMode:()=>!!t.editingQuotationId}}function h4(){try{const t=localStorage.getItem(mc);if(!t)return Tf();const e=JSON.parse(t),n=new Date(e.lastUpdated);if((new Date().getTime()-n.getTime())/(1e3*60*60)>X5)return console.log("Quotation state expired, starting fresh"),localStorage.removeItem(mc),Tf();const s=e.parts.map(a=>({...a,file:a.file?Z5(a.fileName,a.fileType):void 0}));return console.log(`Restored quotation state with ${s.length} parts`),{...e,parts:s||[],serviceCharges:e.serviceCharges||[]}}catch(t){return console.error("Error loading quotation state:",t),Tf()}}function f4(t){try{const e={...t,parts:t.parts.map(n=>({...n,file:n.file?{name:n.file.name,size:n.file.size,type:n.file.type,lastModified:n.file.lastModified}:void 0}))};localStorage.setItem(mc,JSON.stringify(e))}catch(e){console.error("Error saving quotation state:",e)}}function Tf(){return{selectedCustomerId:null,parts:[],discount:0,notes:"",paymentTerms:void 0,shippingAddressType:"shipping",serviceCharges:[],lastUpdated:new Date().toISOString()}}function Z5(t,e){return new File([""],t,{type:`application/${e}`})}function p4(){try{const t=localStorage.getItem(mc);if(!t)return!1;const e=JSON.parse(t),n=new Date(e.lastUpdated);return(new Date().getTime()-n.getTime())/(1e3*60*60)<=X5&&(e.selectedCustomerId||e.parts.length>0)}catch{return!1}}const ey="saved_quotations_data";function ty(){const[t,e]=Ee.useState(()=>m4());Ee.useEffect(()=>{g4(t)},[t]);const n=o=>{const l=new Date,d=String(l.getFullYear()).slice(-2),p=String(l.getMonth()+1).padStart(2,"0"),m=String(l.getDate()).padStart(2,"0"),g=o.replace("QT","").padStart(3,"0");return`QT${d}${p}${m}${g}`},r=async o=>{const l=new Date().toISOString();if(o.existingQuotationId){const d=t.quotations[o.existingQuotationId];if(!d)throw new Error("Quotation not found for editing");const p=new Date;p.setDate(p.getDate()+30);const m={...d,customerId:o.customerId,customerName:o.customerName,parts:o.parts.map((g,f)=>({...g,id:`${o.existingQuotationId}_part_${f+1}`})),totalBasePrice:o.totalBasePrice,discount:o.discount,totalGST:o.totalGST,finalPrice:o.finalPrice,updatedAt:l,notes:o.notes,paymentTerms:o.paymentTerms,leadTime:o.leadTime,shippingAddressType:o.shippingAddressType,serviceCharges:o.serviceCharges,totalServiceCharges:o.totalServiceCharges,validUntil:p.toISOString(),gstType:o.gstType,status:"Draft"};return e(g=>({...g,quotations:{...g.quotations,[o.existingQuotationId]:m},last_updated:l})),o.existingQuotationId}else{const d=`quot_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,p=new Date;p.setDate(p.getDate()+30);const m=n(t.next_quotation_number),g={id:d,quotationNumber:m,customerId:o.customerId,customerName:o.customerName,parts:o.parts.map((N,F)=>({...N,id:`${d}_part_${F+1}`})),totalBasePrice:o.totalBasePrice,discount:o.discount,totalGST:o.totalGST,finalPrice:o.finalPrice,status:"Draft",createdAt:l,updatedAt:l,notes:o.notes,paymentTerms:o.paymentTerms,leadTime:o.leadTime,shippingAddressType:o.shippingAddressType,serviceCharges:o.serviceCharges,totalServiceCharges:o.totalServiceCharges,validUntil:p.toISOString(),gstType:o.gstType},f=parseInt(t.next_quotation_number.replace("QT","")),b=`QT${String(f+1).padStart(4,"0")}`;return e(N=>({quotations:{...N.quotations,[d]:g},last_updated:l,next_quotation_number:b})),d}},i=(o,l)=>{e(d=>({...d,quotations:{...d.quotations,[o]:{...d.quotations[o],status:l,updatedAt:new Date().toISOString()}},last_updated:new Date().toISOString()}))},s=o=>{e(l=>{const d={...l.quotations};return delete d[o],{...l,quotations:d,last_updated:new Date().toISOString()}})},a=o=>t.quotations[o]||null;return{quotations:t.quotations,saveQuotation:r,updateQuotationStatus:i,deleteQuotation:s,getQuotation:a}}function m4(){try{const t=localStorage.getItem(ey);if(!t)return i2();const e=JSON.parse(t);return console.log(`Loaded ${Object.keys(e.quotations).length} saved quotations`),e}catch(t){return console.error("Error loading saved quotations:",t),i2()}}function g4(t){try{localStorage.setItem(ey,JSON.stringify(t))}catch(e){console.error("Error saving quotations data:",e)}}function i2(){return{quotations:{},last_updated:new Date().toISOString(),next_quotation_number:"QT0001"}}const y4=({customersData:t,technologiesData:e,onCustomerAdded:n})=>{const{quotationState:r,updateSelectedCustomer:i,updateParts:s,updateDiscount:a,updateNotes:o,updatePaymentTerms:l,updateLeadTime:d,updateShippingAddressType:p,updateServiceCharges:m,loadQuotationForEditing:g,clearQuotationState:f,hasUnsavedChanges:b,isEditingMode:N}=K5(),{saveQuotation:F}=ty(),[x,w]=Ee.useState(!1),[j,S]=Ee.useState(!1),[P,E]=Ee.useState(null),[T,k]=Ee.useState(!1),[z,V]=Ee.useState(!1),[A,_]=Ee.useState(!1),R=r.selectedCustomerId?t.customers[r.selectedCustomerId]:null,B=r.parts.filter(ge=>ge.selected);Ee.useEffect(()=>{if(p4()&&(r.selectedCustomerId||r.parts.length>0)){S(!0);const ge=setTimeout(()=>S(!1),1e4);return()=>clearTimeout(ge)}},[]),Ee.useEffect(()=>{if(b()){E("saving");const ge=setTimeout(()=>E("saved"),500);return()=>clearTimeout(ge)}},[r,b]);const ae=async ge=>{var we;w(!0);try{const Se=[],Le=r.parts.length>0?Math.max(...r.parts.map(ne=>ne.serialNumber)):0;for(let ne=0;ne<ge.length;ne++){const J=ge[ne];try{console.log(`Processing file ${ne+1}/${ge.length}: ${J.name}`);const Ue=await d4.parseFile(J);console.log(`Geometry parsed for ${J.name}:`,Ue);const Te=((we=J.name.split(".").pop())==null?void 0:we.toLowerCase())||"",je={id:`part_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,serialNumber:Le+ne+1,fileName:J.name,fileType:Te,volume:Ue.volume,boundingBox:Ue.boundingBox,quantity:1,unitPrice:0,totalPrice:0,gstAmount:0,finalPrice:0,file:J,selected:!1};Se.push(je),console.log(`Part created for ${J.name}:`,je.id)}catch(Ue){console.error(`Error processing file ${J.name}:`,Ue)}}console.log(`Successfully processed ${Se.length} files`),s([...r.parts,...Se])}finally{w(!1)}},H=(ge,we)=>{console.log("Updating single part:",ge,we);const Se=r.parts.map(Le=>{if(Le.id===ge){const ne={...Le,...we};if(R&&ne.material&&ne.technology&&(we.material||we.quantity)){const J=e.technologies[ne.technology].materials[ne.material],Ue=ne.volume*J.cost_per_cc,Te=Ue*ne.quantity,je=zn(Te,R),Fe=Te+je.total;ne.unitPrice=Ue,ne.totalPrice=Te,ne.gstAmount=je.total,ne.finalPrice=Fe}return ne}return Le});s(Se)},Y=(ge,we)=>{console.log("handleUpdateParts called with:",{partIds:ge,updates:we}),console.log("Total parts before update:",r.parts.length),console.log("Parts to update:",ge.length);const Se=r.parts.map(Le=>{if(ge.includes(Le.id)){console.log(`Updating part ${Le.id} with:`,we);const ne={...Le,...we};if(we.quantity!==void 0&&R&&ne.material&&ne.technology){console.log("Recalculating pricing for quantity change on part:",Le.id);const J=e.technologies[ne.technology].materials[ne.material],Ue=ne.volume*J.cost_per_cc,Te=Ue*we.quantity,je=zn(Te,R),Fe=Te+je.total;ne.unitPrice=Ue,ne.totalPrice=Te,ne.gstAmount=je.total,ne.finalPrice=Fe,console.log("Updated pricing for quantity change:",{partId:Le.id,quantity:we.quantity,unitPrice:Ue,totalPrice:Te,gstAmount:je.total,finalPrice:Fe})}else if(R&&we.material&&ne.technology){console.log("Recalculating pricing for material change on part:",Le.id);const J=e.technologies[ne.technology].materials[we.material],Ue=ne.volume*J.cost_per_cc,Te=Ue*ne.quantity,je=zn(Te,R),Fe=Te+je.total;ne.unitPrice=Ue,ne.totalPrice=Te,ne.gstAmount=je.total,ne.finalPrice=Fe,console.log("Updated pricing for material change:",{partId:Le.id,material:we.material,unitPrice:Ue,totalPrice:Te,gstAmount:je.total,finalPrice:Fe})}else we.technology&&!we.material&&(console.log("Resetting pricing for technology change on part:",Le.id),ne.unitPrice=0,ne.totalPrice=0,ne.gstAmount=0,ne.finalPrice=0);return ne}return Le});console.log("Parts after bulk update:",Se.filter(Le=>ge.includes(Le.id)).map(Le=>({id:Le.id,technology:Le.technology,material:Le.material,quantity:Le.quantity,unitPrice:Le.unitPrice,totalPrice:Le.totalPrice}))),s(Se)},W=ge=>{const Se=r.parts.filter(Le=>Le.id!==ge).map((Le,ne)=>({...Le,serialNumber:ne+1}));s(Se)},G=()=>{s([])},te=ge=>{console.log("Toggling selection for part:",ge);const we=r.parts.map(Se=>{if(Se.id===ge){const Le=!Se.selected;return console.log(`Part ${ge} selected state changed to:`,Le),{...Se,selected:Le}}return Se});s(we)},le=()=>{console.log("Toggle select all called");const ge=r.parts.length>0&&B.length===r.parts.length;console.log("Current state - All selected:",ge,"Parts:",r.parts.length,"Selected:",B.length);const we=r.parts.map(Se=>({...Se,selected:!ge}));console.log("After toggle select all:",we.filter(Se=>Se.selected).length,"selected out of",we.length),s(we)},L=ge=>{if(console.log("Customer changed to:",ge),i(ge),ge&&t.customers[ge]){const we=t.customers[ge],Se=r.parts.map(Le=>{if(Le.totalPrice>0){const ne=zn(Le.totalPrice,we);return{...Le,gstAmount:ne.total,finalPrice:Le.totalPrice+ne.total}}return Le});s(Se)}else{const we=r.parts.map(Se=>({...Se,gstAmount:0,finalPrice:Se.totalPrice}));s(we)}},U=()=>{V(!0)},Q=(ge,we)=>{let Se=we;Se||(Se=t.next_customer_id),n&&n(ge,Se),i(Se),V(!1)},K=()=>{V(!1)},ee=()=>{if(!r.selectedCustomerId){alert("Please select a customer first before adding parts.");return}_(!0)},ce=ge=>{s([...r.parts,ge]),_(!1)},he=()=>{_(!1)},fe=async()=>{if(!R||r.parts.length===0)throw new Error("Missing customer or parts");try{const ge=r.parts.reduce((Pe,We)=>Pe+We.totalPrice,0),we=r.serviceCharges.reduce((Pe,We)=>Pe+We.amount,0),Se=ge+we,Le=ge*(r.discount||0)/100,ne=Se-Le,J=zn(ne,R),Ue=ne+J.total,Te=r.paymentTerms||R.payment_terms,je=r.leadTime||"3-5 days",Fe=r.shippingAddressType||"shipping",De=await F({customerId:r.selectedCustomerId,customerName:R.company_name,parts:r.parts.map(Pe=>({id:Pe.id,serialNumber:Pe.serialNumber,fileName:Pe.fileName,fileType:Pe.fileType,volume:Pe.volume,boundingBox:Pe.boundingBox,technology:Pe.technology,material:Pe.material,quantity:Pe.quantity,unitPrice:Pe.unitPrice,totalPrice:Pe.totalPrice,gstAmount:Pe.gstAmount,finalPrice:Pe.finalPrice,comments:Pe.comments})),totalBasePrice:Se,discount:r.discount||0,totalGST:J.total,finalPrice:Ue,gstType:J.type,notes:r.notes||"",paymentTerms:Te,leadTime:je,shippingAddressType:Fe,serviceCharges:r.serviceCharges,totalServiceCharges:we,existingQuotationId:r.editingQuotationId});return k(!0),setTimeout(()=>k(!1),3e3),f(),console.log("Quotation saved successfully with ID:",De),De}catch(ge){throw console.error("Error saving quotation:",ge),ge}},Ae=()=>{b()?window.confirm("Are you sure you want to start a new quotation? All current progress will be lost.")&&(f(),S(!1)):f()};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:N()?"Edit Quotation":"Create Quotation"}),c.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[c.jsx("p",{className:"text-gray-600",children:N()?"Modify your existing quotation":"Generate quotes for your 3D printing projects"}),P&&c.jsxs("div",{className:"flex items-center space-x-1 text-sm",children:[P==="saving"&&c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-indigo-600"}),c.jsx("span",{className:"text-gray-500",children:"Saving..."})]}),P==="saved"&&c.jsxs(c.Fragment,{children:[c.jsx(Cd,{className:"h-3 w-3 text-green-600"}),c.jsx("span",{className:"text-green-600",children:"Auto-saved"})]})]})]})]}),c.jsx("div",{className:"flex items-center space-x-3",children:b()&&c.jsxs("button",{onClick:Ae,className:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors duration-200 flex items-center space-x-2",children:[c.jsx(fi,{className:"h-4 w-4"}),c.jsx("span",{children:"New Quotation"})]})})]}),N()&&c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Nc,{className:"h-5 w-5 text-blue-600"}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium text-blue-900",children:"Editing Mode"}),c.jsx("p",{className:"text-sm text-blue-700 mt-1",children:"You are currently editing an existing quotation. Changes will update the original quotation."})]})]})}),T&&c.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx(Cd,{className:"h-5 w-5 text-green-600"}),c.jsxs("div",{children:[c.jsxs("h4",{className:"text-sm font-medium text-green-900",children:["Quotation ",N()?"Updated":"Saved"," Successfully!"]}),c.jsxs("p",{className:"text-sm text-green-700 mt-1",children:["Your quotation has been ",N()?"updated":"saved"," and you can now create a new one."]})]})]})}),j&&c.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex items-start space-x-3",children:[c.jsx(Ad,{className:"h-5 w-5 text-blue-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h4",{className:"text-sm font-medium text-blue-900",children:"Previous Work Restored"}),c.jsxs("p",{className:"text-sm text-blue-700 mt-1",children:["Your previous quotation has been automatically restored. Last saved: "," ",new Date(r.lastUpdated).toLocaleString()]})]}),c.jsxs("button",{onClick:()=>S(!1),className:"text-blue-400 hover:text-blue-600",children:[c.jsx("span",{className:"sr-only",children:"Close"}),""]})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:c.jsx(M3,{customers:t.customers,selectedCustomerId:r.selectedCustomerId,onSelectCustomer:L,onAddNewCustomer:U})}),r.selectedCustomerId&&c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[c.jsx(I3,{onFilesSelected:ae,isProcessing:x}),c.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[c.jsxs("button",{type:"button",onClick:ee,className:"w-full bg-green-600 text-white py-3 px-4 rounded-lg hover:bg-green-700 transition-colors duration-200 flex items-center justify-center space-x-2",children:[c.jsx(fi,{className:"h-4 w-4"}),c.jsx("span",{children:"Add Part Manually"})]}),c.jsx("p",{className:"text-xs text-gray-500 mt-2 text-center",children:"Enter part details manually without uploading a file"})]})]}),r.parts.length>0&&c.jsx(qw,{parts:r.parts,selectedParts:B,technologiesData:e,customer:R,onUpdateParts:Y,onDeleteAllParts:G,onToggleSelectAll:le}),r.parts.length>0&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Parts (",r.parts.length,")",B.length>0&&c.jsxs("span",{className:"text-indigo-600 ml-2",children:["(",B.length," selected)"]})]}),c.jsxs("button",{type:"button",onClick:()=>{if(r.selectedCustomerId){const ge=document.querySelector('input[type="file"]');ge&&ge.click()}else alert("Please select a customer first before adding parts.")},className:"bg-indigo-600 text-white px-3 py-2 rounded-lg hover:bg-indigo-700 transition-colors duration-200 flex items-center space-x-2",children:[c.jsx(fi,{className:"h-4 w-4"}),c.jsx("span",{children:"Upload More Files"})]}),c.jsxs("button",{type:"button",onClick:ee,className:"bg-green-600 text-white px-3 py-2 rounded-lg hover:bg-green-700 transition-colors duration-200 flex items-center space-x-2",children:[c.jsx(fi,{className:"h-4 w-4"}),c.jsx("span",{children:"Add Manual Part"})]})]}),c.jsx("div",{className:"grid grid-cols-1 gap-4",children:r.parts.map(ge=>c.jsx(E3,{part:ge,technologiesData:e,customer:R,onUpdatePart:H,onDeletePart:W,onToggleSelect:te,selectedParts:B,onBulkUpdate:Y},ge.id))})]}),!r.selectedCustomerId&&c.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center",children:[c.jsx("div",{className:"text-gray-400 mb-4",children:c.jsx("svg",{className:"h-16 w-16 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Start Creating Your Quotation"}),c.jsx("p",{className:"text-gray-600",children:"Select a customer to begin uploading 3D files and generating quotes"})]})]}),c.jsx("div",{className:"lg:col-span-1",children:c.jsx(Bw,{parts:r.parts,customer:R,selectedCustomerId:r.selectedCustomerId,technologiesData:e,onDiscountChange:a,discount:r.discount,notes:r.notes||"",onNotesChange:o,paymentTerms:r.paymentTerms,onPaymentTermsChange:l,leadTime:r.leadTime,onLeadTimeChange:d,shippingAddressType:r.shippingAddressType,onShippingAddressTypeChange:p,serviceCharges:r.serviceCharges,onServiceChargesChange:m,onSaveQuotation:fe,onClearQuotation:Ae,isEditingMode:N()})})]}),z&&c.jsx(j5,{onSave:Q,onCancel:K}),A&&c.jsx(D3,{technologiesData:e,customer:R,onSave:ce,onCancel:he,nextSerialNumber:r.parts.length+1})]})},ny="orders_data";function ry(){const[t,e]=Ee.useState(()=>x4());Ee.useEffect(()=>{v4(t)},[t]);const n=()=>{const o=new Date,l=String(o.getFullYear()).slice(-2),d=String(o.getMonth()+1).padStart(2,"0"),p=String(o.getDate()).padStart(2,"0"),m=t.next_order_number.replace("ORD","").padStart(3,"0");return`ORD${l}${d}${p}${m}`},r=o=>{const l=`order_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,d=new Date().toISOString(),p=n(),m=o.parts.map(N=>({id:N.id,serialNumber:N.serialNumber,fileName:N.fileName,fileType:N.fileType,volume:N.volume,boundingBox:N.boundingBox,technology:N.technology,material:N.material,quantity:N.quantity,comments:N.comments})),g={id:l,orderNumber:p,invoiceId:o.id,invoiceNumber:o.invoiceNumber,customerId:o.customerId,parts:m,status:"New",createdAt:d,updatedAt:d,serviceCharges:o.serviceCharges||[],totalServiceCharges:o.totalServiceCharges||0},f=parseInt(t.next_order_number.replace("ORD","")),b=`ORD${String(f+1).padStart(4,"0")}`;return e(N=>({...N,orders:{...N.orders,[l]:g},last_updated:d,next_order_number:b})),console.log(`Order ${p} created from invoice ${o.invoiceNumber}`),l},i=(o,l)=>{e(d=>({...d,orders:{...d.orders,[o]:{...d.orders[o],status:l,updatedAt:new Date().toISOString()}},last_updated:new Date().toISOString()}))},s=o=>{e(l=>{const d={...l.orders};return delete d[o],{...l,orders:d,last_updated:new Date().toISOString()}})},a=o=>t.orders[o]||null;return{orders:t.orders,createOrder:r,updateOrderStatus:i,deleteOrder:s,getOrder:a}}function x4(){try{const t=localStorage.getItem(ny);if(!t)return s2();const e=JSON.parse(t);return console.log(`Loaded ${Object.keys(e.orders).length} orders`),e}catch(t){return console.error("Error loading orders:",t),s2()}}function v4(t){try{localStorage.setItem(ny,JSON.stringify(t))}catch(e){console.error("Error saving orders data:",e)}}function s2(){return{orders:{},last_updated:new Date().toISOString(),next_order_number:"ORD0001"}}const iy="saved_invoices_data";function sy(){const[t,e]=Ee.useState(()=>w4()),{createOrder:n}=ry();Ee.useEffect(()=>{b4(t)},[t]);const r=()=>{const p=new Date,m=String(p.getFullYear()).slice(-2),g=String(p.getMonth()+1).padStart(2,"0"),f=String(p.getDate()).padStart(2,"0"),b=t.next_invoice_number.replace("INV","").padStart(3,"0");return`INV${m}${g}${f}${b}`},i=async p=>{const{quotation:m,onQuotationDeleted:g}=p,f=`inv_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,b=new Date().toISOString(),N=new Date,F=m.paymentTerms||"Net 30";if(F!=="100% advance"){if(F!=="60% advance and rest upon delivery")if(F==="Payment on delivery")N.setDate(N.getDate()+7);else if(F.startsWith("Net ")){const P=parseInt(F.replace("Net ",""));isNaN(P)?N.setDate(N.getDate()+30):N.setDate(N.getDate()+P)}else N.setDate(N.getDate()+30)}const x=r(),w={id:f,invoiceNumber:x,quotationId:m.id,quotationNumber:m.quotationNumber,customerId:m.customerId,customerName:m.customerName,parts:m.parts,totalBasePrice:m.totalBasePrice,discount:m.discount,totalGST:m.totalGST,finalPrice:m.finalPrice,status:"Draft",createdAt:b,updatedAt:b,dueDate:N.toISOString(),notes:m.notes,gstType:m.gstType,shippingAddressType:m.shippingAddressType||"shipping",serviceCharges:m.serviceCharges||[],totalServiceCharges:m.totalServiceCharges||0,payments:[],totalPaid:0,remainingAmount:m.finalPrice},j=parseInt(t.next_invoice_number.replace("INV","")),S=`INV${String(j+1).padStart(4,"0")}`;e(P=>({...P,invoices:{...P.invoices,[f]:w},last_updated:b,next_invoice_number:S})),g(m.id),console.log("Creating order for invoice:",x);try{const P=n(w);console.log("Order created successfully:",P)}catch(P){console.error("Error creating order:",P)}return console.log(`Invoice ${x} created and quotation ${m.quotationNumber} deleted`),f},s=(p,m)=>{e(g=>({...g,invoices:{...g.invoices,[p]:{...g.invoices[p],status:m,updatedAt:new Date().toISOString()}},last_updated:new Date().toISOString()}))},a=(p,m)=>{const g=t.invoices[p];if(!g)return;const f={...m,id:`payment_${Date.now()}_${Math.random().toString(36).substr(2,9)}`,createdAt:new Date().toISOString()},b=[...g.payments,f],N=b.reduce((w,j)=>w+j.amount,0),F=g.finalPrice-N;let x=g.status;F<=0?x="Paid":x==="Paid"&&(x=new Date(g.dueDate)<new Date?"Overdue":"Sent"),e(w=>({...w,invoices:{...w.invoices,[p]:{...g,payments:b,totalPaid:N,remainingAmount:F,status:x,updatedAt:new Date().toISOString()}},last_updated:new Date().toISOString()}))},o=(p,m)=>{const g=t.invoices[p];if(!g)return;const f=g.payments.filter(x=>x.id!==m),b=f.reduce((x,w)=>x+w.amount,0),N=g.finalPrice-b;let F=g.status;N<=0?F="Paid":F==="Paid"&&(F=new Date(g.dueDate)<new Date?"Overdue":"Sent"),e(x=>({...x,invoices:{...x.invoices,[p]:{...g,payments:f,totalPaid:b,remainingAmount:N,status:F,updatedAt:new Date().toISOString()}},last_updated:new Date().toISOString()}))},l=p=>{const m=t.invoices[p];if(m)try{const g=JSON.parse(localStorage.getItem("orders_data")||'{"orders": {}}'),f=Object.values(g.orders).find(b=>b.invoiceId===p);if(f){const{deleteOrder:b}=require("./useOrders");delete g.orders[f.id],g.last_updated=new Date().toISOString(),localStorage.setItem("orders_data",JSON.stringify(g)),console.log(`Deleted corresponding order for invoice: ${m.invoiceNumber}`)}}catch(g){console.error("Error deleting corresponding order:",g)}e(g=>{const f={...g.invoices};return delete f[p],{...g,invoices:f,last_updated:new Date().toISOString()}})},d=p=>t.invoices[p]||null;return{invoices:t.invoices,createInvoiceFromQuotation:i,updateInvoiceStatus:s,addPayment:a,removePayment:o,deleteInvoice:l,getInvoice:d}}function w4(){try{const t=localStorage.getItem(iy);if(!t)return a2();const e=N4(JSON.parse(t));return console.log(`Loaded ${Object.keys(e.invoices).length} saved invoices`),e}catch(t){return console.error("Error loading saved invoices:",t),a2()}}function b4(t){try{localStorage.setItem(iy,JSON.stringify(t))}catch(e){console.error("Error saving invoices data:",e)}}function a2(){return{invoices:{},last_updated:new Date().toISOString(),next_invoice_number:"INV0001"}}function N4(t){const e={};for(const[n,r]of Object.entries(t.invoices||{})){const i=r;e[n]={...i,payments:i.payments||[],totalPaid:i.totalPaid||0,remainingAmount:i.remainingAmount??i.finalPrice,serviceCharges:i.serviceCharges||[],totalServiceCharges:i.totalServiceCharges||0}}return{invoices:e,last_updated:t.last_updated||new Date().toISOString(),next_invoice_number:t.next_invoice_number||"INV0001"}}const S4=({customersData:t,technologiesData:e})=>{const{quotations:n,deleteQuotation:r,updateQuotationStatus:i}=ty(),{createInvoiceFromQuotation:s}=sy(),{loadQuotationForEditing:a,clearQuotationState:o}=K5(),[l,d]=Ee.useState(""),[p,m]=Ee.useState("all"),[g,f]=Ee.useState(null),[b,N]=Ee.useState(null),[F,x]=Ee.useState(null),w=Object.values(n),j=w.filter(A=>{const _=A.quotationNumber.toLowerCase().includes(l.toLowerCase())||A.customerName.toLowerCase().includes(l.toLowerCase()),R=p==="all"||A.status===p;return _&&R}).sort((A,_)=>new Date(_.createdAt).getTime()-new Date(A.createdAt).getTime()),S=A=>{window.confirm("Are you sure you want to delete this quotation? This action cannot be undone.")&&r(A)},P=(A,_)=>{i(A,_)},E=async A=>{const _=t.customers[A.customerId];if(!_){alert("Customer information not found. Cannot generate PDF.");return}N(A.id);try{await pc.generateQuotationPDF(A,_,e),console.log("PDF generated successfully for quotation:",A.quotationNumber)}catch(R){console.error("Error generating PDF:",R),alert("Failed to generate PDF. Please try again.")}finally{N(null)}},T=async A=>{x(A.id);try{const _=await s({quotation:A,onQuotationDeleted:r});console.log("Invoice created successfully:",_),alert(`Invoice ${A.quotationNumber.replace("QT","INV_QT")} created successfully!

The corresponding quotation has been automatically removed.`)}catch(_){console.error("Error creating invoice:",_),alert("Failed to create invoice. Please try again.")}finally{x(null)}},k=A=>{o(),a(A),alert(`Quotation ${A.quotationNumber} has been loaded for editing. Please navigate to the "Create Quotation" tab to continue editing.`)},z=A=>{switch(A){case"Draft":return"bg-gray-100 text-gray-800";case"Sent":return"bg-blue-100 text-blue-800";case"Approved":return"bg-green-100 text-green-800";case"Rejected":return"bg-red-100 text-red-800";case"Expired":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},V=A=>new Date(A)<new Date;return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Saved Quotations"}),c.jsx("p",{className:"text-gray-600",children:"Manage and track your saved quotations"})]}),c.jsxs("div",{className:"text-sm text-gray-500",children:[w.length," total quotations"]})]}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"relative",children:[c.jsx(bc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),c.jsx("input",{type:"text",placeholder:"Search quotations...",value:l,onChange:A=>d(A.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})}),c.jsx("div",{className:"sm:w-48",children:c.jsxs("div",{className:"relative",children:[c.jsx(Tp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),c.jsxs("select",{value:p,onChange:A=>m(A.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 appearance-none",children:[c.jsx("option",{value:"all",children:"All Status"}),c.jsx("option",{value:"Draft",children:"Draft"}),c.jsx("option",{value:"Sent",children:"Sent"}),c.jsx("option",{value:"Approved",children:"Approved"}),c.jsx("option",{value:"Rejected",children:"Rejected"}),c.jsx("option",{value:"Expired",children:"Expired"})]})]})})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:j.length===0?c.jsxs("div",{className:"p-12 text-center text-gray-500",children:[c.jsx(Fn,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),c.jsx("p",{children:"No quotations found"}),l&&c.jsx("p",{className:"text-sm mt-1",children:"Try adjusting your search criteria"})]}):c.jsx("div",{className:"divide-y divide-gray-200",children:j.map(A=>{const _=t.customers[A.customerId],R=V(A.validUntil),B=b===A.id,ae=F===A.id;return c.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors duration-200",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[c.jsx("div",{className:"bg-indigo-100 p-2 rounded-lg",children:c.jsx(Fn,{className:"h-5 w-5 text-indigo-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:A.quotationNumber}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Created: ",new Date(A.createdAt).toLocaleDateString()]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${z(A.status)}`,children:A.status}),R&&A.status!=="Expired"&&c.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Expired"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[c.jsx(Eo,{className:"h-4 w-4"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:A.customerName}),_&&c.jsx("p",{className:"text-xs text-gray-500",children:_.contact_person})]})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[c.jsx(Fn,{className:"h-4 w-4"}),c.jsxs("div",{children:[c.jsxs("p",{className:"font-medium",children:[A.parts.length," parts"]}),c.jsxs("p",{className:"text-xs text-gray-500",children:[A.parts.reduce((H,Y)=>H+Y.quantity,0)," total qty"]})]})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[c.jsx($d,{className:"h-4 w-4"}),c.jsxs("div",{children:[c.jsxs("p",{className:"font-medium text-indigo-600",children:["",A.finalPrice.toFixed(2)]}),c.jsxs("p",{className:"text-xs text-gray-500",children:[A.gstType==="INTRASTATE"?"CGST+SGST":"IGST"," included"]})]})]})]}),c.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(va,{className:"h-3 w-3"}),c.jsxs("span",{children:["Valid until: ",new Date(A.validUntil).toLocaleDateString()]})]}),c.jsxs("div",{children:["Last updated: ",new Date(A.updatedAt).toLocaleDateString()]})]})]}),c.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[c.jsx("button",{onClick:()=>k(A),className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors duration-200",title:"Edit Quotation",children:c.jsx(Nc,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>f(A),className:"p-2 text-gray-600 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors duration-200",title:"View Details",children:c.jsx(Fp,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>E(A),disabled:B,className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",title:"Download PDF Quote",children:B?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-green-600"}):c.jsx(dc,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>T(A),disabled:ae,className:"px-3 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-1",title:"Create Invoice and Delete Quotation",children:ae?c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-white"}),c.jsx("span",{children:"Creating..."})]}):c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(wa,{className:"h-3 w-3"}),c.jsx("span",{children:"Create Invoice"})]})}),A.status==="Sent"&&c.jsxs("div",{className:"relative group",children:[c.jsx("button",{className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors duration-200",children:c.jsx(va,{className:"h-4 w-4"})}),c.jsx("div",{className:"absolute right-0 top-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none group-hover:pointer-events-auto",children:c.jsxs("div",{className:"p-2 space-y-1",children:[c.jsx("button",{onClick:()=>P(A.id,"Approved"),className:"block w-full text-left px-3 py-2 text-sm text-green-700 hover:bg-green-100 rounded",children:"Mark as Approved"}),c.jsx("button",{onClick:()=>P(A.id,"Rejected"),className:"block w-full text-left px-3 py-2 text-sm text-red-700 hover:bg-red-100 rounded",children:"Mark as Rejected"})]})})]}),c.jsx("button",{onClick:()=>S(A.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200",title:"Delete Quotation",children:c.jsx(xi,{className:"h-4 w-4"})})]})]})},A.id)})})}),g&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Quotation Details - ",g.quotationNumber]}),c.jsx("button",{onClick:()=>f(null),className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:""})]}),c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Customer Information"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:g.customerName}),t.customers[g.customerId]&&c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"text-gray-600",children:t.customers[g.customerId].contact_person}),c.jsx("p",{className:"text-gray-600",children:t.customers[g.customerId].email})]})]}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-gray-600",children:[c.jsx("span",{className:"font-medium",children:"Status:"})," ",g.status]}),c.jsxs("p",{className:"text-gray-600",children:[c.jsx("span",{className:"font-medium",children:"Valid Until:"})," ",new Date(g.validUntil).toLocaleDateString()]})]})]})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"font-semibold text-gray-900 mb-3",children:["Parts (",g.parts.length,")"]}),c.jsx("div",{className:"space-y-3",children:g.parts.map((A,_)=>{var R;return c.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("div",{className:"flex items-center space-x-3",children:c.jsxs("div",{children:[c.jsxs("h4",{className:"font-medium text-gray-900",children:["#",A.serialNumber," - ",A.fileName]}),c.jsxs("p",{className:"text-sm text-gray-600",children:[A.volume.toFixed(2)," cm  ",A.quantity," qty"]}),A.technology&&A.material&&c.jsxs("p",{className:"text-sm text-gray-600",children:[A.technology," - ",A.material,((R=e.technologies[A.technology])==null?void 0:R.materials[A.material])&&c.jsxs("span",{className:"block text-xs text-gray-500",children:["(",e.technologies[A.technology].materials[A.material].name,")"]})]})]})}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"font-semibold text-gray-900",children:["",A.finalPrice.toFixed(2)]}),c.jsxs("p",{className:"text-sm text-gray-600",children:["",A.unitPrice.toFixed(2)," per unit"]})]})]})},A.id)})})]}),c.jsxs("div",{className:"bg-indigo-50 rounded-lg p-4",children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Pricing Summary"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Base Price:"}),c.jsxs("span",{children:["",g.totalBasePrice.toFixed(2)]})]}),g.discount>0&&c.jsxs("div",{className:"flex justify-between text-green-600",children:[c.jsxs("span",{children:["Discount (",g.discount,"%):"]}),c.jsxs("span",{children:["-",(g.totalBasePrice*g.discount/100).toFixed(2)]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Subtotal:"}),c.jsxs("span",{children:["",(g.totalBasePrice-g.totalBasePrice*g.discount/100).toFixed(2)]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsxs("span",{children:["GST (",g.gstType,"):"]}),c.jsxs("span",{children:["",g.totalGST.toFixed(2)]})]}),c.jsxs("div",{className:"border-t border-indigo-200 pt-2 flex justify-between font-semibold text-lg",children:[c.jsx("span",{children:"Final Price:"}),c.jsxs("span",{className:"text-indigo-600",children:["",g.finalPrice.toFixed(2)]})]})]})]}),g.notes&&c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Notes"}),c.jsx("p",{className:"text-gray-600 text-sm",children:g.notes})]})]})]})})]})},j4=({invoiceNumber:t,remainingAmount:e,onSave:n,onCancel:r})=>{const[i,s]=Ee.useState({amount:"",paymentDate:new Date().toISOString().split("T")[0],paymentMethod:"Bank Transfer",referenceNumber:"",notes:""}),[a,o]=Ee.useState({}),l=["Bank Transfer","UPI","Cash","Cheque","Card","Other"],d=(f,b)=>{s(N=>({...N,[f]:b})),a[f]&&o(N=>({...N,[f]:""}))},p=()=>{const f={},b=parseFloat(i.amount);return!i.amount||b<=0?f.amount="Amount must be greater than 0":b>e&&(f.amount=`Amount cannot exceed remaining amount of ${e.toFixed(2)}`),i.paymentDate||(f.paymentDate="Payment date is required"),i.paymentMethod||(f.paymentMethod="Payment method is required"),o(f),Object.keys(f).length===0},m=f=>{f.preventDefault(),p()&&n({amount:parseFloat(i.amount),paymentDate:i.paymentDate,paymentMethod:i.paymentMethod,referenceNumber:i.referenceNumber||void 0,notes:i.notes||void 0})},g=f=>{const b=(e*f/100).toFixed(2);s(N=>({...N,amount:b}))};return c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[c.jsxs("div",{className:"flex items-center space-x-3",children:[c.jsx("div",{className:"bg-green-100 p-2 rounded-lg",children:c.jsx(Ri,{className:"h-5 w-5 text-green-600"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Record Payment"}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Invoice: ",t]})]})]}),c.jsx("button",{onClick:r,className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:c.jsx(Sc,{className:"h-5 w-5"})})]}),c.jsxs("form",{onSubmit:m,className:"p-6 space-y-6",children:[c.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[c.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[c.jsx(wa,{className:"h-4 w-4 text-blue-600"}),c.jsx("span",{className:"text-sm font-medium text-blue-900",children:"Payment Information"})]}),c.jsxs("p",{className:"text-sm text-blue-700",children:["Remaining Amount: ",c.jsxs("span",{className:"font-bold",children:["",e.toFixed(2)]})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Payment Amount *"}),c.jsx("input",{type:"number",min:"0.01",step:"0.01",max:e,value:i.amount,onChange:f=>d("amount",f.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 ${a.amount?"border-red-300":"border-gray-300"}`,placeholder:"0.00"}),a.amount&&c.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.amount}),c.jsxs("div",{className:"flex space-x-2 mt-2",children:[c.jsx("button",{type:"button",onClick:()=>g(25),className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:"25%"}),c.jsx("button",{type:"button",onClick:()=>g(50),className:"px-2 py-1 text-xs bg-gray-100 text-gray-700 rounded hover:bg-gray-200",children:"50%"}),c.jsx("button",{type:"button",onClick:()=>g(100),className:"px-2 py-1 text-xs bg-green-100 text-green-700 rounded hover:bg-green-200",children:"Full Amount"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(va,{className:"h-4 w-4"}),c.jsx("span",{children:"Payment Date *"})]})}),c.jsx("input",{type:"date",value:i.paymentDate,onChange:f=>d("paymentDate",f.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 ${a.paymentDate?"border-red-300":"border-gray-300"}`}),a.paymentDate&&c.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.paymentDate})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Ri,{className:"h-4 w-4"}),c.jsx("span",{children:"Payment Method *"})]})}),c.jsx("select",{value:i.paymentMethod,onChange:f=>d("paymentMethod",f.target.value),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 ${a.paymentMethod?"border-red-300":"border-gray-300"}`,children:l.map(f=>c.jsx("option",{value:f,children:f},f))}),a.paymentMethod&&c.jsx("p",{className:"text-red-500 text-xs mt-1",children:a.paymentMethod})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Mp,{className:"h-4 w-4"}),c.jsx("span",{children:"Reference Number"}),c.jsx("span",{className:"text-gray-500 text-xs",children:"(Optional)"})]})}),c.jsx("input",{type:"text",value:i.referenceNumber,onChange:f=>d("referenceNumber",f.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Transaction ID, Cheque number, etc."})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Notes",c.jsx("span",{className:"text-gray-500 text-xs ml-1",children:"(Optional)"})]}),c.jsx("textarea",{value:i.notes,onChange:f=>d("notes",f.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500",placeholder:"Additional notes about this payment..."})]}),c.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[c.jsx("button",{type:"button",onClick:r,className:"px-4 py-2 text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors duration-200",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors duration-200 flex items-center space-x-2",children:[c.jsx(Oo,{className:"h-4 w-4"}),c.jsx("span",{children:"Record Payment"})]})]})]})]})})},o2=({payments:t,onDeletePayment:e})=>{const n=i=>{switch(i){case"Cash":return"";case"Bank Transfer":return"";case"UPI":return"";case"Cheque":return"";case"Card":return"";default:return""}},r=i=>{switch(i){case"Cash":return"bg-green-100 text-green-800";case"Bank Transfer":return"bg-blue-100 text-blue-800";case"UPI":return"bg-purple-100 text-purple-800";case"Cheque":return"bg-yellow-100 text-yellow-800";case"Card":return"bg-indigo-100 text-indigo-800";default:return"bg-gray-100 text-gray-800"}};return t.length===0?c.jsxs("div",{className:"text-center py-8 text-gray-500",children:[c.jsx(Ri,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),c.jsx("p",{children:"No payments recorded yet"})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("h4",{className:"font-medium text-gray-900 flex items-center space-x-2",children:[c.jsx(Ri,{className:"h-4 w-4"}),c.jsxs("span",{children:["Payment History (",t.length,")"]})]}),c.jsx("div",{className:"space-y-3",children:t.map(i=>c.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors duration-200",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-2",children:[c.jsx("span",{className:"text-lg",children:n(i.paymentMethod)}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsxs("span",{className:"font-semibold text-lg text-green-600",children:["",i.amount.toFixed(2)]}),c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${r(i.paymentMethod)}`,children:i.paymentMethod})]}),c.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mt-1",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(va,{className:"h-3 w-3"}),c.jsx("span",{children:new Date(i.paymentDate).toLocaleDateString("en-IN")})]}),i.referenceNumber&&c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(Mp,{className:"h-3 w-3"}),c.jsx("span",{children:i.referenceNumber})]})]})]})]}),i.notes&&c.jsxs("div",{className:"flex items-start space-x-2 mt-2",children:[c.jsx(wa,{className:"h-3 w-3 text-gray-400 mt-0.5"}),c.jsx("p",{className:"text-sm text-gray-600",children:i.notes})]}),c.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Recorded on ",new Date(i.createdAt).toLocaleDateString("en-IN")," at ",new Date(i.createdAt).toLocaleTimeString("en-IN")]})]}),c.jsx("button",{onClick:()=>{window.confirm("Are you sure you want to delete this payment record?")&&e(i.id)},className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200",title:"Delete Payment",children:c.jsx(xi,{className:"h-4 w-4"})})]})},i.id))}),c.jsx("div",{className:"border-t border-gray-200 pt-3",children:c.jsxs("div",{className:"flex justify-between items-center text-sm font-medium",children:[c.jsx("span",{className:"text-gray-700",children:"Total Payments:"}),c.jsxs("span",{className:"text-green-600",children:["",t.reduce((i,s)=>i+s.amount,0).toFixed(2)]})]})})]})},_4=({customersData:t,technologiesData:e})=>{const{invoices:n,deleteInvoice:r,updateInvoiceStatus:i,addPayment:s,removePayment:a}=sy(),[o,l]=Ee.useState(""),[d,p]=Ee.useState("all"),[m,g]=Ee.useState(null),[f,b]=Ee.useState(null),[N,F]=Ee.useState(null),[x,w]=Ee.useState(null),j=Object.values(n),S=j.filter(_=>{const R=_.invoiceNumber.toLowerCase().includes(o.toLowerCase())||_.customerName.toLowerCase().includes(o.toLowerCase())||_.quotationNumber.toLowerCase().includes(o.toLowerCase()),B=d==="all"||_.status===d;return R&&B}).sort((_,R)=>new Date(R.createdAt).getTime()-new Date(_.createdAt).getTime()),P=_=>{window.confirm("Are you sure you want to delete this invoice? This action cannot be undone.")&&r(_)},E=(_,R)=>{i(_,R)},T=(_,R)=>{s(_,R),F(null)},k=(_,R)=>{a(_,R)},z=async _=>{const R=t.customers[_.customerId];if(!R){alert("Customer information not found. Cannot generate PDF.");return}b(_.id);try{await pc.generateInvoicePDF(_,R,e),console.log("Invoice PDF generated successfully for:",_.invoiceNumber)}catch(B){console.error("Error generating invoice PDF:",B),alert("Failed to generate PDF. Please try again.")}finally{b(null)}},V=_=>{switch(_){case"Draft":return"bg-gray-100 text-gray-800";case"Sent":return"bg-blue-100 text-blue-800";case"Paid":return"bg-green-100 text-green-800";case"Overdue":return"bg-red-100 text-red-800";case"Cancelled":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},A=(_,R)=>new Date(_)<new Date&&R!=="Paid"&&R!=="Cancelled";return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Invoices"}),c.jsx("p",{className:"text-gray-600",children:"Manage and track your invoices"})]}),c.jsxs("div",{className:"text-sm text-gray-500",children:[j.length," total invoices"]})]}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"relative",children:[c.jsx(bc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),c.jsx("input",{type:"text",placeholder:"Search invoices...",value:o,onChange:_=>l(_.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})}),c.jsx("div",{className:"sm:w-48",children:c.jsxs("div",{className:"relative",children:[c.jsx(Tp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),c.jsxs("select",{value:d,onChange:_=>p(_.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 appearance-none",children:[c.jsx("option",{value:"all",children:"All Status"}),c.jsx("option",{value:"Draft",children:"Draft"}),c.jsx("option",{value:"Sent",children:"Sent"}),c.jsx("option",{value:"Paid",children:"Paid"}),c.jsx("option",{value:"Overdue",children:"Overdue"}),c.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:S.length===0?c.jsxs("div",{className:"p-12 text-center text-gray-500",children:[c.jsx(wa,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),c.jsx("p",{children:"No invoices found"}),o&&c.jsx("p",{className:"text-sm mt-1",children:"Try adjusting your search criteria"})]}):c.jsx("div",{className:"divide-y divide-gray-200",children:S.map(_=>{const R=t.customers[_.customerId],B=A(_.dueDate,_.status),ae=f===_.id;return c.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors duration-200",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[c.jsx("div",{className:"bg-indigo-100 p-2 rounded-lg",children:c.jsx(wa,{className:"h-5 w-5 text-indigo-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:_.invoiceNumber}),c.jsxs("p",{className:"text-sm text-gray-600",children:["From Quotation: ",_.quotationNumber]}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Created: ",new Date(_.createdAt).toLocaleDateString()]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${V(_.status)}`,children:_.status}),B&&c.jsx("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Overdue"}),B&&(_.remainingAmount||_.finalPrice)>0&&c.jsxs("div",{className:"flex items-center space-x-1 bg-red-100 border border-red-300 rounded-lg px-2 py-1",children:[c.jsx(hf,{className:"h-3 w-3 text-red-600"}),c.jsx("span",{className:"text-xs font-bold text-red-700",children:"PAYMENT OVERDUE"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[c.jsx(Eo,{className:"h-4 w-4"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:R?R.company_name:_.customerName}),R&&c.jsx("p",{className:"text-xs text-gray-500",children:R.contact_person}),!R&&c.jsxs("p",{className:"text-xs text-red-500",children:["Customer data not found (ID: ",_.customerId,")"]})]})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[c.jsx(Fn,{className:"h-4 w-4"}),c.jsxs("div",{children:[c.jsxs("p",{className:"font-medium",children:[_.parts.length," parts"]}),c.jsxs("p",{className:"text-xs text-gray-500",children:[_.parts.reduce((H,Y)=>H+Y.quantity,0)," total qty"]})]})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[c.jsx($d,{className:"h-4 w-4"}),c.jsxs("div",{children:[c.jsxs("p",{className:"font-medium text-indigo-600",children:["",_.finalPrice.toFixed(2)]}),c.jsxs("p",{className:"text-xs text-gray-500",children:[_.gstType==="INTRASTATE"?"CGST+SGST":"IGST"," included"]})]})]})]}),c.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 mb-4",children:[c.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Total Amount:"}),c.jsxs("p",{className:"font-semibold",children:["",_.finalPrice.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Amount Paid:"}),c.jsxs("p",{className:"font-semibold text-green-600",children:["",(_.totalPaid||0).toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Amount Due:"}),c.jsxs("p",{className:`font-semibold ${(_.remainingAmount||_.finalPrice)>0?"text-red-600":"text-green-600"}`,children:["",(_.remainingAmount||_.finalPrice).toFixed(2)]}),B&&c.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[c.jsx(hf,{className:"h-3 w-3 text-red-500"}),c.jsx("span",{className:"text-xs text-red-600 font-bold",children:"PAYMENT OVERDUE"})]})]})]}),_.payments&&_.payments.length>0&&c.jsx("div",{className:"mt-2 pt-2 border-t border-gray-200",children:c.jsxs("p",{className:"text-xs text-gray-500",children:[_.payments.length," payment",_.payments.length!==1?"s":""," recorded"]})})]}),c.jsxs("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(va,{className:"h-3 w-3"}),c.jsxs("span",{children:["Due: ",new Date(_.dueDate).toLocaleDateString()]})]}),c.jsxs("div",{children:["Last updated: ",new Date(_.updatedAt).toLocaleDateString()]})]})]}),c.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[(_.remainingAmount||_.finalPrice)>0&&c.jsxs("button",{onClick:()=>F(_.id),className:"px-3 py-2 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors duration-200 flex items-center space-x-1",title:"Record Payment",children:[c.jsx(Ri,{className:"h-3 w-3"}),c.jsx("span",{children:"Pay"})]}),_.payments&&_.payments.length>0&&c.jsxs("button",{onClick:()=>w(_.id),className:"px-3 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors duration-200 flex items-center space-x-1",title:"View Payment History",children:[c.jsx(Ri,{className:"h-3 w-3"}),c.jsx("span",{children:"History"})]}),c.jsx("button",{onClick:()=>g(_),className:"p-2 text-gray-600 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors duration-200",title:"View Details",children:c.jsx(Fp,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>z(_),disabled:ae,className:"p-2 text-gray-600 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",title:"Download PDF Invoice",children:ae?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-green-600"}):c.jsx(dc,{className:"h-4 w-4"})}),(_.status==="Sent"||_.status==="Overdue")&&c.jsxs("div",{className:"relative group",children:[c.jsx("button",{className:"p-2 text-gray-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors duration-200",children:c.jsx(va,{className:"h-4 w-4"})}),c.jsx("div",{className:"absolute right-0 top-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none group-hover:pointer-events-auto",children:c.jsxs("div",{className:"p-2 space-y-1",children:[c.jsx("button",{onClick:()=>E(_.id,"Paid"),className:"block w-full text-left px-3 py-2 text-sm text-green-700 hover:bg-green-100 rounded",children:"Mark as Paid"}),c.jsx("button",{onClick:()=>E(_.id,"Cancelled"),className:"block w-full text-left px-3 py-2 text-sm text-red-700 hover:bg-red-100 rounded",children:"Mark as Cancelled"})]})})]}),c.jsx("button",{onClick:()=>P(_.id),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200",title:"Delete Invoice",children:c.jsx(xi,{className:"h-4 w-4"})})]})]})},_.id)})})}),m&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Invoice Details - ",m.invoiceNumber]}),c.jsx("button",{onClick:()=>g(null),className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:""})]}),c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Customer Information"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:m.customerName}),t.customers[m.customerId]&&c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"text-gray-600",children:t.customers[m.customerId].contact_person}),c.jsx("p",{className:"text-gray-600",children:t.customers[m.customerId].email})]})]}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-gray-600",children:[c.jsx("span",{className:"font-medium",children:"Status:"})," ",m.status]}),c.jsxs("p",{className:"text-gray-600",children:[c.jsx("span",{className:"font-medium",children:"Due Date:"})," ",new Date(m.dueDate).toLocaleDateString()]}),c.jsxs("p",{className:"text-gray-600",children:[c.jsx("span",{className:"font-medium",children:"From Quotation:"})," ",m.quotationNumber]})]})]})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"font-semibold text-gray-900 mb-3",children:["Parts (",m.parts.length,")"]}),c.jsx("div",{className:"space-y-3",children:m.parts.map((_,R)=>{var B;return c.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsx("div",{className:"flex items-center space-x-3",children:c.jsxs("div",{children:[c.jsxs("h4",{className:"font-medium text-gray-900",children:["#",_.serialNumber," - ",_.fileName]}),c.jsxs("p",{className:"text-sm text-gray-600",children:[_.volume.toFixed(2)," cm  ",_.quantity," qty"]}),_.technology&&_.material&&c.jsxs("p",{className:"text-sm text-gray-600",children:[_.technology," - ",_.material,((B=e.technologies[_.technology])==null?void 0:B.materials[_.material])&&c.jsxs("span",{className:"block text-xs text-gray-500",children:["(",e.technologies[_.technology].materials[_.material].name,")"]})]})]})}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"font-semibold text-gray-900",children:["",_.finalPrice.toFixed(2)]}),c.jsxs("p",{className:"text-sm text-gray-600",children:["",_.unitPrice.toFixed(2)," per unit"]})]})]})},_.id)})})]}),c.jsxs("div",{className:"bg-indigo-50 rounded-lg p-4",children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Pricing Summary"}),c.jsxs("div",{className:"space-y-2 text-sm",children:[c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Base Price:"}),c.jsxs("span",{children:["",m.totalBasePrice.toFixed(2)]})]}),m.discount>0&&c.jsxs("div",{className:"flex justify-between text-green-600",children:[c.jsxs("span",{children:["Discount (",m.discount,"%):"]}),c.jsxs("span",{children:["-",(m.totalBasePrice*m.discount/100).toFixed(2)]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsx("span",{children:"Subtotal:"}),c.jsxs("span",{children:["",(m.totalBasePrice-m.totalBasePrice*m.discount/100).toFixed(2)]})]}),c.jsxs("div",{className:"flex justify-between",children:[c.jsxs("span",{children:["GST (",m.gstType,"):"]}),c.jsxs("span",{children:["",m.totalGST.toFixed(2)]})]}),c.jsxs("div",{className:"border-t border-indigo-200 pt-2 flex justify-between font-semibold text-lg",children:[c.jsx("span",{children:"Final Price:"}),c.jsxs("span",{className:"text-indigo-600",children:["",m.finalPrice.toFixed(2)]})]})]})]}),m.notes&&c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Notes"}),c.jsx("p",{className:"text-gray-600 text-sm",children:m.notes})]}),c.jsxs("div",{className:"bg-green-50 rounded-lg p-4",children:[c.jsxs("h3",{className:"font-semibold text-gray-900 mb-3 flex items-center space-x-2",children:[c.jsx(Ri,{className:"h-4 w-4"}),c.jsx("span",{children:"Payment Status"}),(m.remainingAmount||m.finalPrice)>0&&c.jsxs("button",{onClick:()=>F(m.id),className:"ml-auto px-3 py-1 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors duration-200 flex items-center space-x-1",children:[c.jsx(Ri,{className:"h-3 w-3"}),c.jsx("span",{children:"Record Payment"})]})]}),c.jsxs("div",{className:"grid grid-cols-3 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Total Amount:"}),c.jsxs("p",{className:"font-semibold text-lg",children:["",m.finalPrice.toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Amount Paid:"}),c.jsxs("p",{className:"font-semibold text-lg text-green-600",children:["",(m.totalPaid||0).toFixed(2)]})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-gray-600",children:"Amount Due:"}),c.jsxs("p",{className:`font-semibold text-lg ${(m.remainingAmount||m.finalPrice)>0?"text-red-600":"text-green-600"}`,children:["",(m.remainingAmount||m.finalPrice).toFixed(2)]}),A(m.dueDate,m.status)&&c.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[c.jsx(hf,{className:"h-4 w-4 text-red-500"}),c.jsx("span",{className:"text-sm text-red-600 font-medium",children:"OVERDUE"})]})]})]}),m.payments&&m.payments.length>0&&c.jsx("div",{className:"mt-4 pt-4 border-t border-green-200",children:c.jsx(o2,{payments:m.payments,onDeletePayment:_=>k(m.id,_)})})]})]})]})}),N&&c.jsx(j4,{invoiceNumber:n[N].invoiceNumber,remainingAmount:n[N].remainingAmount,onSave:_=>T(N,_),onCancel:()=>F(null)}),x&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Payment History - ",n[x].invoiceNumber]}),c.jsx("button",{onClick:()=>w(null),className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:""})]}),c.jsx("div",{className:"p-6",children:c.jsx(o2,{payments:n[x].payments,onDeletePayment:_=>k(x,_)})})]})})]})},A4=({customersData:t,technologiesData:e})=>{const{orders:n,updateOrderStatus:r,deleteOrder:i}=ry(),[s,a]=Ee.useState(""),[o,l]=Ee.useState("all"),[d,p]=Ee.useState(null),[m,g]=Ee.useState(null),f=Object.values(n),b=f.filter(S=>{const P=S.orderNumber.toLowerCase().includes(s.toLowerCase())||S.invoiceNumber.toLowerCase().includes(s.toLowerCase())||S.customerId.toLowerCase().includes(s.toLowerCase()),E=o==="all"||S.status===o;return P&&E}).sort((S,P)=>new Date(P.createdAt).getTime()-new Date(S.createdAt).getTime()),N=(S,P)=>{r(S,P)},F=async S=>{g(S.id);try{await pc.generateJobWorkPDF(S,e),console.log("Job work PDF generated successfully for order:",S.orderNumber)}catch(P){console.error("Error generating job work PDF:",P),alert("Failed to generate job work PDF. Please try again.")}finally{g(null)}},x=S=>{switch(S){case"New":return"bg-blue-100 text-blue-800";case"Produced":return"bg-green-100 text-green-800";case"Dispatched":return"bg-purple-100 text-purple-800";case"Cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},w=S=>{switch(S){case"New":return c.jsx(Fn,{className:"h-4 w-4"});case"Produced":return c.jsx(Cd,{className:"h-4 w-4"});case"Dispatched":return c.jsx(Nm,{className:"h-4 w-4"});case"Cancelled":return c.jsx(Ad,{className:"h-4 w-4"});default:return c.jsx(Fn,{className:"h-4 w-4"})}},j=S=>{const P=t.customers[S];return P?P.company_name:`Customer ID: ${S}`};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Orders"}),c.jsx("p",{className:"text-gray-600",children:"Manage production orders and job work"})]}),c.jsxs("div",{className:"text-sm text-gray-500",children:[f.length," total orders"]})]}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-4",children:c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"relative",children:[c.jsx(bc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),c.jsx("input",{type:"text",placeholder:"Search orders...",value:s,onChange:S=>a(S.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})}),c.jsx("div",{className:"sm:w-48",children:c.jsxs("div",{className:"relative",children:[c.jsx(Tp,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),c.jsxs("select",{value:o,onChange:S=>l(S.target.value),className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 appearance-none",children:[c.jsx("option",{value:"all",children:"All Status"}),c.jsx("option",{value:"New",children:"New"}),c.jsx("option",{value:"Produced",children:"Produced"}),c.jsx("option",{value:"Dispatched",children:"Dispatched"}),c.jsx("option",{value:"Cancelled",children:"Cancelled"})]})]})})]})}),c.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:b.length===0?c.jsxs("div",{className:"p-12 text-center text-gray-500",children:[c.jsx(Fn,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),c.jsx("p",{children:"No orders found"}),s&&c.jsx("p",{className:"text-sm mt-1",children:"Try adjusting your search criteria"})]}):c.jsx("div",{className:"divide-y divide-gray-200",children:b.map(S=>{const P=m===S.id;return c.jsx("div",{className:"p-6 hover:bg-gray-50 transition-colors duration-200",children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center space-x-3 mb-3",children:[c.jsx("div",{className:"bg-indigo-100 p-2 rounded-lg",children:c.jsx(Fn,{className:"h-5 w-5 text-indigo-600"})}),c.jsxs("div",{children:[c.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:S.orderNumber}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Invoice: ",S.invoiceNumber]}),c.jsxs("p",{className:"text-sm text-gray-600",children:["Created: ",new Date(S.createdAt).toLocaleDateString()]})]}),c.jsx("div",{className:"flex items-center space-x-2",children:c.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium flex items-center space-x-1 ${x(S.status)}`,children:[w(S.status),c.jsx("span",{children:S.status})]})})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[c.jsx(la,{className:"h-4 w-4"}),c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:j(S.customerId)}),c.jsxs("p",{className:"text-xs text-gray-500",children:["Customer ID: ",S.customerId]})]})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[c.jsx(Fn,{className:"h-4 w-4"}),c.jsxs("div",{children:[c.jsxs("p",{className:"font-medium",children:[S.parts.length," parts"]}),c.jsxs("p",{className:"text-xs text-gray-500",children:[S.parts.reduce((E,T)=>E+T.quantity,0)," total qty"]})]})]}),c.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[c.jsx(Mp,{className:"h-4 w-4"}),c.jsxs("div",{children:[c.jsxs("p",{className:"font-medium",children:["Services: ",S.serviceCharges.length]}),c.jsx("p",{className:"text-xs text-gray-500",children:"Additional services included"})]})]})]}),c.jsx("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(va,{className:"h-3 w-3"}),c.jsxs("span",{children:["Last updated: ",new Date(S.updatedAt).toLocaleDateString()]})]})})]}),c.jsxs("div",{className:"flex items-center space-x-2 ml-4",children:[c.jsx("button",{onClick:()=>p(S),className:"p-2 text-gray-600 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors duration-200",title:"View Details",children:c.jsx(Fp,{className:"h-4 w-4"})}),c.jsx("button",{onClick:()=>F(S),disabled:P,className:"px-3 py-2 bg-blue-600 text-white text-sm rounded-lg hover:bg-blue-700 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-1",title:"Export Job Work",children:P?c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-white"}),c.jsx("span",{children:"Generating..."})]}):c.jsxs("div",{className:"flex items-center space-x-1",children:[c.jsx(dc,{className:"h-3 w-3"}),c.jsx("span",{children:"Job Work"})]})}),S.status==="New"&&c.jsxs("button",{onClick:()=>N(S.id,"Produced"),className:"px-3 py-2 bg-green-600 text-white text-sm rounded-lg hover:bg-green-700 transition-colors duration-200 flex items-center space-x-1",title:"Mark as Produced",children:[c.jsx(Cd,{className:"h-3 w-3"}),c.jsx("span",{children:"Produced"})]}),S.status==="Produced"&&c.jsxs("button",{onClick:()=>N(S.id,"Dispatched"),className:"px-3 py-2 bg-purple-600 text-white text-sm rounded-lg hover:bg-purple-700 transition-colors duration-200 flex items-center space-x-1",title:"Mark as Dispatched",children:[c.jsx(Nm,{className:"h-3 w-3"}),c.jsx("span",{children:"Dispatch"})]}),(S.status==="New"||S.status==="Produced")&&c.jsxs("div",{className:"relative group",children:[c.jsx("button",{className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors duration-200",children:c.jsx(Ad,{className:"h-4 w-4"})}),c.jsx("div",{className:"absolute right-0 top-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-10 opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none group-hover:pointer-events-auto",children:c.jsx("div",{className:"p-2",children:c.jsx("button",{onClick:()=>N(S.id,"Cancelled"),className:"block w-full text-left px-3 py-2 text-sm text-red-700 hover:bg-red-100 rounded",children:"Cancel Order"})})})]})]})]})},S.id)})})}),d&&c.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:c.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-y-auto",children:[c.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-200",children:[c.jsxs("h2",{className:"text-xl font-bold text-gray-900",children:["Order Details - ",d.orderNumber]}),c.jsx("button",{onClick:()=>p(null),className:"p-2 text-gray-400 hover:text-gray-600 rounded-lg hover:bg-gray-100",children:""})]}),c.jsxs("div",{className:"p-6 space-y-6",children:[c.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[c.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Order Information"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"font-medium",children:["Order Number: ",d.orderNumber]}),c.jsxs("p",{className:"text-gray-600",children:["Invoice: ",d.invoiceNumber]}),c.jsxs("p",{className:"text-gray-600",children:["Customer ID: ",d.customerId]})]}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-gray-600",children:[c.jsx("span",{className:"font-medium",children:"Status:"})," ",d.status]}),c.jsxs("p",{className:"text-gray-600",children:[c.jsx("span",{className:"font-medium",children:"Created:"})," ",new Date(d.createdAt).toLocaleDateString()]}),c.jsxs("p",{className:"text-gray-600",children:[c.jsx("span",{className:"font-medium",children:"Updated:"})," ",new Date(d.updatedAt).toLocaleDateString()]})]})]})]}),c.jsxs("div",{children:[c.jsxs("h3",{className:"font-semibold text-gray-900 mb-3",children:["Parts (",d.parts.length,")"]}),c.jsx("div",{className:"space-y-3",children:d.parts.map((S,P)=>{var E;return c.jsx("div",{className:"border border-gray-200 rounded-lg p-4",children:c.jsx("div",{className:"flex justify-between items-start",children:c.jsxs("div",{children:[c.jsxs("h4",{className:"font-medium text-gray-900",children:["#",S.serialNumber," - ",S.fileName]}),c.jsxs("p",{className:"text-sm text-gray-600",children:[S.volume.toFixed(2)," cm  ",S.quantity," qty"]}),S.technology&&S.material&&c.jsxs("p",{className:"text-sm text-gray-600",children:[S.technology," - ",S.material,((E=e.technologies[S.technology])==null?void 0:E.materials[S.material])&&c.jsxs("span",{className:"block text-xs text-gray-500",children:["(",e.technologies[S.technology].materials[S.material].name,")"]})]}),S.comments&&c.jsxs("p",{className:"text-sm text-blue-600 mt-1",children:[c.jsx("span",{className:"font-medium",children:"Notes:"})," ",S.comments]})]})})},S.id)})})]}),d.serviceCharges.length>0&&c.jsxs("div",{children:[c.jsxs("h3",{className:"font-semibold text-gray-900 mb-3",children:["Additional Services (",d.serviceCharges.length,")"]}),c.jsx("div",{className:"space-y-2",children:d.serviceCharges.map((S,P)=>c.jsx("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:c.jsx("span",{className:"text-sm text-gray-700",children:S.description})},S.id))})]})]})]})})]})};function l2(t,e){const[n,r]=Ee.useState(()=>{try{const s=window.localStorage.getItem(t);return s?JSON.parse(s):e}catch(s){return console.error(`Error reading localStorage key "${t}":`,s),e}});return[n,s=>{try{const a=s instanceof Function?s(n):s;r(a),window.localStorage.setItem(t,JSON.stringify(a))}catch(a){console.error(`Error setting localStorage key "${t}":`,a)}}]}const C4={CUST001:{company_name:"TechStart Solutions Pvt Ltd",gstn:"29ABCDE1234F1Z5",contact_person:"Rajesh Kumar",email:"rajesh.kumar@techstart.co.in",phone:"+91-9876543210",billing_address:{street:"123 Innovation Drive, Electronics City",city:"Bangalore",state:"Karnataka",pin:"560100",country:"India"},shipping_address:{street:"123 Innovation Drive, Electronics City",city:"Bangalore",state:"Karnataka",pin:"560100",country:"India"},customer_type:"Business",discount_rate:0,payment_terms:"Net 30",preferred_technologies:["FDM","MJF"],total_orders:15,total_spent:125e3,status:"Active",notes:"Regular customer, prefers quick turnaround times"},CUST002:{company_name:"MedDevice Industries Ltd",gstn:"27FGHIJ5678K2L9",contact_person:"Dr. Priya Sharma",email:"p.sharma@meddevice.co.in",phone:"+91-9123456789",billing_address:{street:"456 Medical Plaza, Bandra Kurla Complex",city:"Mumbai",state:"Maharashtra",pin:"400051",country:"India"},shipping_address:{street:"789 Manufacturing Hub, MIDC",city:"Pune",state:"Maharashtra",pin:"411019",country:"India"},customer_type:"Business",discount_rate:0,payment_terms:"Net 15",preferred_technologies:["SLA","MJF"],total_orders:8,total_spent:25e4,status:"Active",notes:"Medical prototypes, requires biocompatible materials"},CUST003:{company_name:"Individual Customer",gstn:null,contact_person:"Arjun Reddy",email:"arjun.reddy@gmail.com",phone:"+91-9876501234",billing_address:{street:"789 Maker Colony, Jubilee Hills",city:"Hyderabad",state:"Telangana",pin:"500033",country:"India"},shipping_address:{street:"789 Maker Colony, Jubilee Hills",city:"Hyderabad",state:"Telangana",pin:"500033",country:"India"},customer_type:"Individual",discount_rate:0,payment_terms:"Payment on delivery",preferred_technologies:["FDM"],total_orders:3,total_spent:4500,status:"Active",notes:"Hobbyist maker, small quantity orders"},CUST004:{company_name:"AutoParts Manufacturing Ltd",gstn:"06MNOPQ9012R3S4",contact_person:"Neha Gupta",email:"n.gupta@autoparts.co.in",phone:"+91-9999887766",billing_address:{street:"321 Industrial Area, Sector 8",city:"Gurgaon",state:"Haryana",pin:"122001",country:"India"},shipping_address:{street:"654 Production Unit, IMT Manesar",city:"Manesar",state:"Haryana",pin:"122050",country:"India"},customer_type:"Business",discount_rate:0,payment_terms:"Net 45",preferred_technologies:["MJF","FDM"],total_orders:25,total_spent:45e4,status:"Active",notes:"Large volume orders, functional automotive parts"},CUST005:{company_name:"Design Studio Plus Pvt Ltd",gstn:"33STUVW3456X7Y8",contact_person:"Kavya Nair",email:"k.nair@designstudio.co.in",phone:"+91-9444556677",billing_address:{street:"654 Creative Avenue, T Nagar",city:"Chennai",state:"Tamil Nadu",pin:"600017",country:"India"},shipping_address:{street:"654 Creative Avenue, T Nagar",city:"Chennai",state:"Tamil Nadu",pin:"600017",country:"India"},customer_type:"Business",discount_rate:0,payment_terms:"Net 30",preferred_technologies:["SLA"],total_orders:12,total_spent:87500,status:"Active",notes:"Architectural models and high-detail prototypes"},CUST006:{company_name:"Test Manufacturing Co",gstn:"29TESTG1234H5Z6",contact_person:"John Test",email:"john.test@testmanufacturing.com",phone:"+91-9876543210",billing_address:{street:"123 Test Street, Industrial Area",city:"Bangalore",state:"Karnataka",pin:"560001",country:"India"},shipping_address:{street:"456 Shipping Lane, Tech Park",city:"Bangalore",state:"Karnataka",pin:"560002",country:"India"},customer_type:"Business",discount_rate:.1,payment_terms:"100% advance",preferred_technologies:["FDM","SLA"],total_orders:5,total_spent:15e3,status:"Active",notes:"Test customer for development and testing purposes. Prefers quick prototyping."}},P4="2025-06-24",k4="CUST007",L4={customers:C4,last_updated:P4,next_customer_id:k4},F4={FDM:{name:"Fused Deposition Modeling",description:"Layer-by-layer deposition of thermoplastic filament",materials:{PLA:{name:"Polylactic Acid",cost_per_cc:3.5,properties:["Biodegradable","Easy to print","Low temperature"],colors:["White","Black","Red","Blue","Green","Yellow","Clear"]},ABS:{name:"Acrylonitrile Butadiene Styrene",cost_per_cc:4.2,properties:["Durable","Heat resistant","Chemical resistant"],colors:["White","Black","Red","Blue","Green"]},PETG:{name:"Polyethylene Terephthalate Glycol",cost_per_cc:5,properties:["Chemical resistant","Clear","Food safe"],colors:["Clear","White","Black","Blue"]},TPU:{name:"Thermoplastic Polyurethane",cost_per_cc:10,properties:["Flexible","Rubber-like","Impact resistant"],colors:["Black","White","Red","Blue"]}}},SLA:{name:"Stereolithography",description:"UV light curing of liquid photopolymer resin",materials:{Standard_Resin:{name:"Standard Photopolymer Resin",cost_per_cc:12.5,properties:["High detail","Smooth finish","Brittle"],colors:["Clear","White","Black","Gray"]},Tough_Resin:{name:"Tough Photopolymer Resin",cost_per_cc:21,properties:["Impact resistant","Durable","High detail"],colors:["White","Black","Clear"]},Flexible_Resin:{name:"Flexible Photopolymer Resin",cost_per_cc:25,properties:["Flexible","Rubber-like","High detail"],colors:["Black","White","Clear"]},Castable_Resin:{name:"Castable Photopolymer Resin",cost_per_cc:29,properties:["Jewelry casting","High detail","Burnout clean"],colors:["Purple","Green"]},UTR_9000:{name:"UTR 9000 Selected Resin",cost_per_cc:35,properties:["High strength","Chemical resistant","High detail"],colors:["Clear","White","Black"]}}},SLS:{name:"Selective Laser Sintering",description:"Laser sintering of powdered materials",materials:{Nylon_PA12:{name:"Nylon PA12 Powder",cost_per_cc:33.5,properties:["Strong","Functional parts","Chemical resistant"],colors:["White","Black","Gray"]},Nylon_Glass_Filled:{name:"Glass Filled Nylon",cost_per_cc:46,properties:["Very strong","Stiff","Heat resistant"],colors:["Gray","Black"]},Aluminum_Filled:{name:"Aluminum Filled Nylon",cost_per_cc:54.5,properties:["Metallic finish","Conductive","Strong"],colors:["Metallic Gray"]}}},MJF:{name:"Multi Jet Fusion",description:"HP's powder-based 3D printing with selective thermal fusion",materials:{PA12_Natural:{name:"PA12 Natural (MJF)",cost_per_cc:28,properties:["Strong","Functional parts","Smooth finish","Isotropic"],colors:["Natural Gray"]},PA12_Black:{name:"PA12 Black (MJF)",cost_per_cc:30,properties:["Strong","Functional parts","UV resistant","Isotropic"],colors:["Black"]},PA11_Natural:{name:"PA11 Natural (MJF)",cost_per_cc:42,properties:["Bio-based","Chemical resistant","Flexible","Isotropic"],colors:["Natural Beige"]},TPU_Flexible:{name:"TPU Flexible (MJF)",cost_per_cc:58,properties:["Highly flexible","Rubber-like","Impact resistant","Isotropic"],colors:["Black","Natural"]}}}},T4="2025-06-24",M4="INR",I4={technologies:F4,last_updated:T4,currency:M4};function D4(){const[t,e]=Ee.useState("quotations"),[n,r]=l2("customers",L4),[i,s]=l2("technologies",I4),[a,o]=Ee.useState(!1),[l,d]=Ee.useState(null),[p,m]=Ee.useState(!1),[g,f]=Ee.useState(null),b=()=>{d(null),o(!0)},N=z=>{d({id:z,data:n.customers[z]}),o(!0)},F=z=>{if(window.confirm("Are you sure you want to delete this customer?")){const V={...n.customers};delete V[z],r({...n,customers:V,last_updated:new Date().toISOString().split("T")[0]})}},x=(z,V)=>{const A=V||n.next_customer_id,_={...n.customers,[A]:z};let R=n.next_customer_id;if(!V){const B=parseInt(R.replace("CUST",""));R=`CUST${String(B+1).padStart(3,"0")}`}r({customers:_,last_updated:new Date().toISOString().split("T")[0],next_customer_id:R}),o(!1),d(null)},w=(z,V)=>{x(z,V)},j=z=>{f(null),m(!0),f({techId:z,materialId:"",data:{name:"",cost_per_cc:0,properties:[],colors:[]},techName:i.technologies[z].name})},S=(z,V)=>{f({techId:z,materialId:V,data:i.technologies[z].materials[V],techName:i.technologies[z].name}),m(!0)},P=(z,V)=>{if(window.confirm("Are you sure you want to delete this material?")){const A={...i.technologies},_={...A[z].materials};delete _[V],A[z]={...A[z],materials:_},s({...i,technologies:A,last_updated:new Date().toISOString().split("T")[0]})}},E=(z,V)=>{if(!g)return;const{techId:A}=g,_=V||T(z.name),R={...i.technologies};R[A]={...R[A],materials:{...R[A].materials,[_]:z}},s({...i,technologies:R,last_updated:new Date().toISOString().split("T")[0]}),m(!1),f(null)},T=z=>z.replace(/\s+/g,"_").replace(/[^a-zA-Z0-9_]/g,"").toUpperCase(),k=()=>{o(!1),m(!1),d(null),f(null)};return c.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[c.jsx(k3,{activeTab:t,onTabChange:e}),c.jsxs("div",{className:"flex-1 p-8",children:[t==="customers"&&c.jsx(L3,{customers:n.customers,onEdit:N,onDelete:F,onAdd:b}),t==="materials"&&c.jsx(F3,{technologiesData:i,onEditMaterial:S,onDeleteMaterial:P,onAddMaterial:j}),t==="quotations"&&c.jsx(y4,{customersData:n,technologiesData:i,onCustomerAdded:w}),t==="saved-quotations"&&c.jsx(S4,{customersData:n,technologiesData:i}),t==="invoices"&&c.jsx(_4,{customersData:n,technologiesData:i}),t==="orders"&&c.jsx(A4,{customersData:n,technologiesData:i})]}),a&&c.jsx(j5,{customer:l==null?void 0:l.data,customerId:l==null?void 0:l.id,onSave:x,onCancel:k}),p&&g&&c.jsx(T3,{material:g.materialId?g.data:void 0,materialId:g.materialId||void 0,technologyName:g.techName,onSave:E,onCancel:k})]})}b5(document.getElementById("root")).render(c.jsx(Ee.StrictMode,{children:c.jsx(D4,{})}));export{wt as _,zh as c,E4 as g};
